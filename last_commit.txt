Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2020-02-14T14:28:01+01:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/91eef03b7df5a7c49eabc69f65931df8b6b23dda

Add a guard in the document.pt template to allow the Document type not to have the RichText enforce the behavior enabled.

Files changed:
A news/3047.bugfix
M plone/app/contenttypes/browser/templates/document.pt

b'diff --git a/news/3047.bugfix b/news/3047.bugfix\nnew file mode 100644\nindex 00000000..694f1496\n--- /dev/null\n+++ b/news/3047.bugfix\n@@ -0,0 +1,3 @@\n+Add a guard in the document.pt template to allow the Document type not to have the RichText\n+enforce the behavior enabled.\n+[sneridagh]\ndiff --git a/plone/app/contenttypes/browser/templates/document.pt b/plone/app/contenttypes/browser/templates/document.pt\nindex 9f642abd..efa7decc 100644\n--- a/plone/app/contenttypes/browser/templates/document.pt\n+++ b/plone/app/contenttypes/browser/templates/document.pt\n@@ -11,7 +11,7 @@\n <metal:content-core define-macro="content-core"\n                     tal:define="toc context/table_of_contents|nothing;">\n   <div id="parent-fieldname-text"\n-      tal:condition="context/text"\n+      tal:condition="context/text | nothing"\n       tal:content="structure python:context.text.output_relative_to(view.context)"\n       tal:attributes="class python: toc and \'pat-autotoc\' or \'\'" />\n </metal:content-core>\n'

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2020-02-16T12:27:08+01:00
Author: Timo Stollenwerk (tisto) <tisto@users.noreply.github.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/a97e0c7b1568e135252773f6ef38c9c25730532d

Merge pull request #544 from plone/removeenforcedrichtextbehaviorpresent

Add a guard in the document.pt template to allow the Document type noâ€¦

Files changed:
A news/3047.bugfix
M plone/app/contenttypes/browser/templates/document.pt

b'diff --git a/news/3047.bugfix b/news/3047.bugfix\nnew file mode 100644\nindex 00000000..694f1496\n--- /dev/null\n+++ b/news/3047.bugfix\n@@ -0,0 +1,3 @@\n+Add a guard in the document.pt template to allow the Document type not to have the RichText\n+enforce the behavior enabled.\n+[sneridagh]\ndiff --git a/plone/app/contenttypes/browser/templates/document.pt b/plone/app/contenttypes/browser/templates/document.pt\nindex 9f642abd..efa7decc 100644\n--- a/plone/app/contenttypes/browser/templates/document.pt\n+++ b/plone/app/contenttypes/browser/templates/document.pt\n@@ -11,7 +11,7 @@\n <metal:content-core define-macro="content-core"\n                     tal:define="toc context/table_of_contents|nothing;">\n   <div id="parent-fieldname-text"\n-      tal:condition="context/text"\n+      tal:condition="context/text | nothing"\n       tal:content="structure python:context.text.output_relative_to(view.context)"\n       tal:attributes="class python: toc and \'pat-autotoc\' or \'\'" />\n </metal:content-core>\n'

