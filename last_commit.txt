Repository: Products.CMFPlone


Branch: refs/heads/5.1.x
Date: 2018-12-18T09:22:36+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/0f82a757778811114fe0e42c22b1e0a8ac4f4fed

fixes #2669 on 5.1: Fix robot test test_edit_user_schema

Files changed:
A news/2669.bugfix
M Products/CMFPlone/tests/robot/test_edit_user_schema.robot

b'diff --git a/Products/CMFPlone/tests/robot/test_edit_user_schema.robot b/Products/CMFPlone/tests/robot/test_edit_user_schema.robot\nindex 7cde18701..8b2f83210 100644\n--- a/Products/CMFPlone/tests/robot/test_edit_user_schema.robot\n+++ b/Products/CMFPlone/tests/robot/test_edit_user_schema.robot\n@@ -93,9 +93,9 @@ I add a new text field to the member fields\n   Wait until page contains element  css=#add-field\n   Click Button  Add new field\xe2\x80\xa6\n   Wait Until Element Is visible  css=#add-field-form #form-widgets-title\n-  Input Text  css=#add-field-form #form-widgets-title  test_field\n-  Input Text  css=#add-field-form #form-widgets-__name__  test_field\n-  Select From List  css=#form-widgets-factory  Text line (String)\n+  Input Text  css=#add-field-form #form-widgets-title  Test Field\n+  Press Key  css=#add-field-form #form-widgets-title  \\\\09\n+  Select From List By Label  css=#form-widgets-factory  Text line (String)\n   Click button  css=.pattern-modal-buttons input#form-buttons-add\n   # XXX: This is really really bad! We need a UI notification like:\n   # Wait until page contains  Field created.\n@@ -106,9 +106,9 @@ I add a new required text field to the member fields\n   Wait until page contains element  css=#add-field\n   Click Button  Add new field\xe2\x80\xa6\n   Wait Until Element Is visible  css=#add-field-form #form-widgets-title\n-  Input Text  css=#add-field-form #form-widgets-title  test_field\n-  Input Text  css=#add-field-form #form-widgets-__name__  test_field\n-  Select From List  css=#form-widgets-factory  Text line (String)\n+  Input Text  css=#add-field-form #form-widgets-title  Test Field\n+  Press Key  css=#add-field-form #form-widgets-title  \\\\09\n+  Select From List By Label  css=#form-widgets-factory  Text line (String)\n   Select Checkbox  form.widgets.required:list\n   Click button  css=.pattern-modal-buttons input#form-buttons-add\n   # XXX: This is really really bad! We need a UI notification like:\ndiff --git a/news/2669.bugfix b/news/2669.bugfix\nnew file mode 100644\nindex 000000000..5e40df9ce\n--- /dev/null\n+++ b/news/2669.bugfix\n@@ -0,0 +1,3 @@\n+Fix robot test test_edit_user_schema:\n+Fieldname was set duplicate (first by JS, then by robot).\n+[jensens]\n'

Repository: Products.CMFPlone


Branch: refs/heads/5.1.x
Date: 2018-12-18T14:03:07+01:00
Author: agitator (agitator) <agitator@users.noreply.github.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/3e4d5b56824952fc9037b800c5dbf00eb5e13dcc

Merge pull request #2671 from plone/jensens/cherry-pick-2669-fix-test_edit_user_schema

fixes #2669 on 5.1: Fix robot test test_edit_user_schema

Files changed:
A news/2669.bugfix
M Products/CMFPlone/tests/robot/test_edit_user_schema.robot

b'diff --git a/Products/CMFPlone/tests/robot/test_edit_user_schema.robot b/Products/CMFPlone/tests/robot/test_edit_user_schema.robot\nindex 7cde18701..8b2f83210 100644\n--- a/Products/CMFPlone/tests/robot/test_edit_user_schema.robot\n+++ b/Products/CMFPlone/tests/robot/test_edit_user_schema.robot\n@@ -93,9 +93,9 @@ I add a new text field to the member fields\n   Wait until page contains element  css=#add-field\n   Click Button  Add new field\xe2\x80\xa6\n   Wait Until Element Is visible  css=#add-field-form #form-widgets-title\n-  Input Text  css=#add-field-form #form-widgets-title  test_field\n-  Input Text  css=#add-field-form #form-widgets-__name__  test_field\n-  Select From List  css=#form-widgets-factory  Text line (String)\n+  Input Text  css=#add-field-form #form-widgets-title  Test Field\n+  Press Key  css=#add-field-form #form-widgets-title  \\\\09\n+  Select From List By Label  css=#form-widgets-factory  Text line (String)\n   Click button  css=.pattern-modal-buttons input#form-buttons-add\n   # XXX: This is really really bad! We need a UI notification like:\n   # Wait until page contains  Field created.\n@@ -106,9 +106,9 @@ I add a new required text field to the member fields\n   Wait until page contains element  css=#add-field\n   Click Button  Add new field\xe2\x80\xa6\n   Wait Until Element Is visible  css=#add-field-form #form-widgets-title\n-  Input Text  css=#add-field-form #form-widgets-title  test_field\n-  Input Text  css=#add-field-form #form-widgets-__name__  test_field\n-  Select From List  css=#form-widgets-factory  Text line (String)\n+  Input Text  css=#add-field-form #form-widgets-title  Test Field\n+  Press Key  css=#add-field-form #form-widgets-title  \\\\09\n+  Select From List By Label  css=#form-widgets-factory  Text line (String)\n   Select Checkbox  form.widgets.required:list\n   Click button  css=.pattern-modal-buttons input#form-buttons-add\n   # XXX: This is really really bad! We need a UI notification like:\ndiff --git a/news/2669.bugfix b/news/2669.bugfix\nnew file mode 100644\nindex 000000000..5e40df9ce\n--- /dev/null\n+++ b/news/2669.bugfix\n@@ -0,0 +1,3 @@\n+Fix robot test test_edit_user_schema:\n+Fieldname was set duplicate (first by JS, then by robot).\n+[jensens]\n'

