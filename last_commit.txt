Repository: Products.CMFPlone


Branch: refs/heads/5.2.x
Date: 2020-02-17T15:13:23+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/b51944f5315062da5f0cda7ec88a104fc89acc34

Image caption support
Allow ``figcaption`` in rich text editor as a valid tag.
Add registry setting for plone.image_caption outputfilter transform.

Files changed:
A news/2887.feature
M Products/CMFPlone/interfaces/controlpanel.py

b"diff --git a/Products/CMFPlone/interfaces/controlpanel.py b/Products/CMFPlone/interfaces/controlpanel.py\nindex 280a400acb..bb5009404f 100644\n--- a/Products/CMFPlone/interfaces/controlpanel.py\n+++ b/Products/CMFPlone/interfaces/controlpanel.py\n@@ -235,6 +235,7 @@ class IFilterSchema(Interface):\n             u'dt',\n             u'em',\n             u'figure',\n+            u'figcaption',\n             u'footer',\n             u'h1',\n             u'h2',\n@@ -1515,6 +1516,16 @@ class IImagingSchema(Interface):\n         default=51,\n     )\n \n+    image_captioning = schema.Bool(\n+        title=_('image_captioning_title', u'Enable image captioning'),\n+        description=_(\n+            'image_captioning_description',\n+            u'Enable automatic image captioning for images set in the richtext editor based on the description of images.'\n+        ),\n+        default=True,\n+        required=False\n+    )\n+\n \n class ILoginSchema(Interface):\n \ndiff --git a/news/2887.feature b/news/2887.feature\nnew file mode 100644\nindex 0000000000..7a68051e44\n--- /dev/null\n+++ b/news/2887.feature\n@@ -0,0 +1,4 @@\n+Image caption support\n+Allow ``figcaption`` in rich text editor as a valid tag.\n+Add registry setting for plone.image_caption outputfilter transform.\n+[thet]\n"

Repository: Products.CMFPlone


Branch: refs/heads/5.2.x
Date: 2020-02-17T15:13:57+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/ad78feeefd1373b07b063d6938b9d1405a6b8e90

Merge pull request #2887 from plone/thet-figcaption

Allow ``figcaption`` in rich text editor as a valid tag.

Files changed:
A news/2887.feature
M Products/CMFPlone/interfaces/controlpanel.py

b"diff --git a/Products/CMFPlone/interfaces/controlpanel.py b/Products/CMFPlone/interfaces/controlpanel.py\nindex 280a400acb..bb5009404f 100644\n--- a/Products/CMFPlone/interfaces/controlpanel.py\n+++ b/Products/CMFPlone/interfaces/controlpanel.py\n@@ -235,6 +235,7 @@ class IFilterSchema(Interface):\n             u'dt',\n             u'em',\n             u'figure',\n+            u'figcaption',\n             u'footer',\n             u'h1',\n             u'h2',\n@@ -1515,6 +1516,16 @@ class IImagingSchema(Interface):\n         default=51,\n     )\n \n+    image_captioning = schema.Bool(\n+        title=_('image_captioning_title', u'Enable image captioning'),\n+        description=_(\n+            'image_captioning_description',\n+            u'Enable automatic image captioning for images set in the richtext editor based on the description of images.'\n+        ),\n+        default=True,\n+        required=False\n+    )\n+\n \n class ILoginSchema(Interface):\n \ndiff --git a/news/2887.feature b/news/2887.feature\nnew file mode 100644\nindex 0000000000..7a68051e44\n--- /dev/null\n+++ b/news/2887.feature\n@@ -0,0 +1,4 @@\n+Image caption support\n+Allow ``figcaption`` in rich text editor as a valid tag.\n+Add registry setting for plone.image_caption outputfilter transform.\n+[thet]\n"

