Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2018-06-24T18:17:38+02:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.app.dexterity/commit/b1c02745e5ea6b5c6928e6e26573f43d60ed80f9

Add plone.schema&gt;=1.1.0 as minimal dependency in setup.py; Add JSONField.

Files changed:
M CHANGES.rst
M plone/app/dexterity/browser/types.py
M setup.py

b"diff --git a/CHANGES.rst b/CHANGES.rst\nindex eba492e..42952dc 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -4,17 +4,13 @@ Changelog\n 2.4.11 (unreleased)\n -------------------\n \n-Breaking changes:\n-\n-- *add item here*\n-\n New features:\n \n-- *add item here*\n-\n-Bug fixes:\n+- Add plone.schema>=1.1.0 as minimal dependency in setup.py.\n+  [timo]\n \n-- *add item here*\n+- Add JSONField that has been added to plone.schema 1.1.0 to ALLOWED_FIELDS in types.py.\n+  [timo]\n \n \n 2.4.10 (2018-06-18)\ndiff --git a/plone/app/dexterity/browser/types.py b/plone/app/dexterity/browser/types.py\nindex 4bd7727..f68c6c9 100644\n--- a/plone/app/dexterity/browser/types.py\n+++ b/plone/app/dexterity/browser/types.py\n@@ -37,6 +37,7 @@\n     u'z3c.relationfield.schema.RelationList',\n     u'zope.schema._bootstrapfields.Bool',\n     u'zope.schema._bootstrapfields.Int',\n+    u'plone.schema.jsonfield.JSONField',\n     u'zope.schema._bootstrapfields.Password',\n     u'zope.schema._bootstrapfields.Text',\n     u'zope.schema._bootstrapfields.TextLine',\ndiff --git a/setup.py b/setup.py\nindex ff556fe..bf4e80a 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -58,6 +58,7 @@\n         'plone.autoform >=1.1dev',\n         'plone.contentrules',\n         'plone.portlets',\n+        'plone.schema>=1.1.0',\n         'plone.supermodel>=1.1dev',\n         'plone.z3cform>=0.6.0',\n         'Products.CMFCore',\n"

