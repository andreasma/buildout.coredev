Repository: plone.recipe.zeoserver


Branch: refs/heads/master
Date: 2019-01-08T06:16:39+01:00
Author: Andreas Jung (zopyx) <info@zopyx.com>
Commit: https://github.com/plone/plone.recipe.zeoserver/commit/04de7dcbd3c247bf11b35baf216a97f2739fb55a

Python 3 compatibility

Files changed:
M CHANGES.rst
M src/plone/recipe/zeoserver/recipe.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 730ec96..18394be 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Python 3 compatibility for generated bin/zeopack script\n+  [ajung]\n \n \n 2.0.0 (2018-12-03)\ndiff --git a/src/plone/recipe/zeoserver/recipe.py b/src/plone/recipe/zeoserver/recipe.py\nindex 0a24b2e..7074006 100644\n--- a/src/plone/recipe/zeoserver/recipe.py\n+++ b/src/plone/recipe/zeoserver/recipe.py\n@@ -390,11 +390,11 @@ def install_scripts(self):\n             arguments_info += ("import getopt; opts = "\n                                "getopt.getopt(sys.argv[1:], \'S:B:D:W1\')[0];\\n"\n                                "opts = dict(opts)\\n"\n-                               "storage = opts.has_key(\'-S\') and "\n+                               "storage = opts.get(\'-S\') and "\n                                "opts[\'-S\'] or storage\\n"\n-                               "blob_dir = opts.has_key(\'-B\') and "\n+                               "blob_dir = opts.get(\'-B\') and "\n                                "opts[\'-B\'] or blob_dir\\n"\n-                               "days = opts.has_key(\'-D\') and "\n+                               "days = opts.get(\'-D\') and "\n                                "opts[\'-D\'] or days\\n"\n                                )\n \n'

Repository: plone.recipe.zeoserver


Branch: refs/heads/master
Date: 2019-01-10T07:53:31+01:00
Author: Andreas Jung (zopyx) <yet@gmx.de>
Commit: https://github.com/plone/plone.recipe.zeoserver/commit/28d42ecb13f7aa21bef594ed8bbe3e055597c44e

Merge pull request #36 from zopyx/master

Python 3 compatibility of generated bin/zeopack

Files changed:
M CHANGES.rst
M src/plone/recipe/zeoserver/recipe.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 730ec96..18394be 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Python 3 compatibility for generated bin/zeopack script\n+  [ajung]\n \n \n 2.0.0 (2018-12-03)\ndiff --git a/src/plone/recipe/zeoserver/recipe.py b/src/plone/recipe/zeoserver/recipe.py\nindex 0a24b2e..7074006 100644\n--- a/src/plone/recipe/zeoserver/recipe.py\n+++ b/src/plone/recipe/zeoserver/recipe.py\n@@ -390,11 +390,11 @@ def install_scripts(self):\n             arguments_info += ("import getopt; opts = "\n                                "getopt.getopt(sys.argv[1:], \'S:B:D:W1\')[0];\\n"\n                                "opts = dict(opts)\\n"\n-                               "storage = opts.has_key(\'-S\') and "\n+                               "storage = opts.get(\'-S\') and "\n                                "opts[\'-S\'] or storage\\n"\n-                               "blob_dir = opts.has_key(\'-B\') and "\n+                               "blob_dir = opts.get(\'-B\') and "\n                                "opts[\'-B\'] or blob_dir\\n"\n-                               "days = opts.has_key(\'-D\') and "\n+                               "days = opts.get(\'-D\') and "\n                                "opts[\'-D\'] or days\\n"\n                                )\n \n'

