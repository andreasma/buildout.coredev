Repository: mockup


Branch: refs/heads/master
Date: 2018-05-10T01:49:10+02:00
Author: Mauro Amico (mamico) <mauro.amico@gmail.com>
Commit: https://github.com/plone/mockup/commit/01e773f997f34f0298091b00aca93890bbd1e63c

Mark external link with rel="noopener"

Files changed:
M CHANGES.rst
M mockup/patterns/markspeciallinks/pattern.js

diff --git a/CHANGES.rst b/CHANGES.rst
index ab322089..93557909 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,9 @@ Breaking changes:
 
 New features:
 
-- *add item here*
+- Mark special links: Mark external link with rel="noopener"
+  https://developers.google.com/web/tools/lighthouse/audits/noopener
+  [mamico]
 
 Bug fixes:
 
diff --git a/mockup/patterns/markspeciallinks/pattern.js b/mockup/patterns/markspeciallinks/pattern.js
index e98e5e3f..3df5cacd 100644
--- a/mockup/patterns/markspeciallinks/pattern.js
+++ b/mockup/patterns/markspeciallinks/pattern.js
@@ -123,7 +123,8 @@ define([
       if (elonw) {
           // all http links (without the link-plain class), not within this site
           contentarea.find('a[href^="http"]:not(.link-plain):not([href^="' + url + '"])')
-                     .attr('target', '_blank');
+                     .attr('target', '_blank')
+                     .attr('rel', 'noopener');
       }
 
       if (msl) {


Repository: mockup


Branch: refs/heads/master
Date: 2018-05-10T11:52:21+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/6eda49e8df7ba47b665e84248c313b77d8509c33

Merge pull request #842 from mamico/master

Mark external link with rel="noopener"

Files changed:
M CHANGES.rst
M mockup/patterns/markspeciallinks/pattern.js

diff --git a/CHANGES.rst b/CHANGES.rst
index ab322089..93557909 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,9 @@ Breaking changes:
 
 New features:
 
-- *add item here*
+- Mark special links: Mark external link with rel="noopener"
+  https://developers.google.com/web/tools/lighthouse/audits/noopener
+  [mamico]
 
 Bug fixes:
 
diff --git a/mockup/patterns/markspeciallinks/pattern.js b/mockup/patterns/markspeciallinks/pattern.js
index e98e5e3f..3df5cacd 100644
--- a/mockup/patterns/markspeciallinks/pattern.js
+++ b/mockup/patterns/markspeciallinks/pattern.js
@@ -123,7 +123,8 @@ define([
       if (elonw) {
           // all http links (without the link-plain class), not within this site
           contentarea.find('a[href^="http"]:not(.link-plain):not([href^="' + url + '"])')
-                     .attr('target', '_blank');
+                     .attr('target', '_blank')
+                     .attr('rel', 'noopener');
       }
 
       if (msl) {


