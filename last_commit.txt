Repository: plone.app.layout


Branch: refs/heads/2.8.x
Date: 2019-10-04T15:36:44+02:00
Author: Mikel Larreategi (erral) <mlarreategi@codesyntax.com>
Commit: https://github.com/plone/plone.app.layout/commit/e338b97321f0a405ce68ccdc23294c5486f84ef0

fix unicode error

Files changed:
M CHANGES.rst
M plone/app/layout/links/viewlets.py

b"diff --git a/CHANGES.rst b/CHANGES.rst\nindex b4611002..a87f1894 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,7 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Fix Unicode Error in folders with special chars. See #215\n \n \n 2.8.4 (2019-08-29)\ndiff --git a/plone/app/layout/links/viewlets.py b/plone/app/layout/links/viewlets.py\nindex e0fda5ba..e54862f7 100644\n--- a/plone/app/layout/links/viewlets.py\n+++ b/plone/app/layout/links/viewlets.py\n@@ -9,6 +9,7 @@\n from Products.CMFPlone.interfaces import ISecuritySchema\n from Products.CMFPlone.interfaces.syndication import IFeedSettings\n from Products.CMFPlone.interfaces.syndication import ISiteSyndicationSettings\n+from Products.CMFPlone.utils import safe_encode\n from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile\n from zope.component import getMultiAdapter\n from zope.component import getUtility\n@@ -90,7 +91,7 @@ def getRssLinks(self, obj):\n                 continue\n             urls.append({\n                 'title': '%s - %s' % (\n-                    obj.Title(), term.title),\n+                    obj.Title(), safe_encode(term.title)),\n                 'url': obj.absolute_url() + '/' + term.value})\n         return urls\n \n"

Repository: plone.app.layout


Branch: refs/heads/2.8.x
Date: 2019-10-07T10:57:13+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.layout/commit/a96110a44c303bd886f3f874b51d879ec44e5adc

Merge pull request #216 from plone/erral-issue-215

Fix unicode error in feed viewlet (Plone 5.1)

Files changed:
M CHANGES.rst
M plone/app/layout/links/viewlets.py

b"diff --git a/CHANGES.rst b/CHANGES.rst\nindex b4611002..a87f1894 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,7 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Fix Unicode Error in folders with special chars. See #215\n \n \n 2.8.4 (2019-08-29)\ndiff --git a/plone/app/layout/links/viewlets.py b/plone/app/layout/links/viewlets.py\nindex e0fda5ba..e54862f7 100644\n--- a/plone/app/layout/links/viewlets.py\n+++ b/plone/app/layout/links/viewlets.py\n@@ -9,6 +9,7 @@\n from Products.CMFPlone.interfaces import ISecuritySchema\n from Products.CMFPlone.interfaces.syndication import IFeedSettings\n from Products.CMFPlone.interfaces.syndication import ISiteSyndicationSettings\n+from Products.CMFPlone.utils import safe_encode\n from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile\n from zope.component import getMultiAdapter\n from zope.component import getUtility\n@@ -90,7 +91,7 @@ def getRssLinks(self, obj):\n                 continue\n             urls.append({\n                 'title': '%s - %s' % (\n-                    obj.Title(), term.title),\n+                    obj.Title(), safe_encode(term.title)),\n                 'url': obj.absolute_url() + '/' + term.value})\n         return urls\n \n"

