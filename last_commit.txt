Repository: plone.app.linkintegrity


Branch: refs/heads/master
Date: 2018-03-22T08:34:53+01:00
Author: Mikel Larreategi (erral) <mlarreategi@codesyntax.com>
Commit: https://github.com/plone/plone.app.linkintegrity/commit/cc3f02de95f8124ebbe5d2a009de6bd4e921d1f2

make strings translatable

Files changed:
M plone/app/linkintegrity/browser/delete_confirmation_info.pt
M plone/app/linkintegrity/browser/info.py

diff --git a/plone/app/linkintegrity/browser/delete_confirmation_info.pt b/plone/app/linkintegrity/browser/delete_confirmation_info.pt
index 1dac952..04420ac 100644
--- a/plone/app/linkintegrity/browser/delete_confirmation_info.pt
+++ b/plone/app/linkintegrity/browser/delete_confirmation_info.pt
@@ -64,7 +64,7 @@
               <strong><span tal:replace="content" i18n:name="content" /></strong>  will also be deleted:
             </span><br/>
             <ul>
-              <li tal:define="objects python:['Objects in all', 'Folders', 'Published objects'] "
+              <li tal:define="objects view/objects"
                   tal:repeat="item python:range(3) "
                   i18n:translate="">
                 <span tal:replace="python: breach_count[content][item]" />
diff --git a/plone/app/linkintegrity/browser/info.py b/plone/app/linkintegrity/browser/info.py
index f678957..2921efa 100644
--- a/plone/app/linkintegrity/browser/info.py
+++ b/plone/app/linkintegrity/browser/info.py
@@ -7,11 +7,11 @@
 from Products.CMFCore.permissions import AccessContentsInformation
 from Products.CMFCore.utils import _checkPermission
 from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone import PloneMessageFactory as _
 from Products.CMFPlone.interfaces.siteroot import IPloneSiteRoot
 from Products.Five import BrowserView
 from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from zope.i18n import translate
-
 import logging
 
 
@@ -191,3 +191,6 @@ def get_portal_type_title(self, obj):
 
     def is_accessible(self, obj):
         return _checkPermission(AccessContentsInformation, obj)
+
+    def objects(self):
+        return [_('Objects in all'), _('Folders'), _('Published objects')]


Repository: plone.app.linkintegrity


Branch: refs/heads/master
Date: 2018-03-22T08:37:03+01:00
Author: Mikel Larreategi (erral) <mlarreategi@codesyntax.com>
Commit: https://github.com/plone/plone.app.linkintegrity/commit/1c01c8687e69650e67e50fbd3f6eb72f31eda20a

changelog

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index 4d29289..ae782c8 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Mark strings in delete confirmation screen translatable
+  [erral]
 
 
 3.3.4 (2018-02-04)


Repository: plone.app.linkintegrity


Branch: refs/heads/master
Date: 2018-03-23T12:45:54+01:00
Author: Mikel Larreategi (erral) <mlarreategi@codesyntax.com>
Commit: https://github.com/plone/plone.app.linkintegrity/commit/92e92984e36501d265d53cb8b2b3372fc8ab1676

Merge pull request #64 from plone/fix-dynamic-content

Fix ${DYNAMIC_CONTENT} in translation files

Files changed:
M CHANGES.rst
M plone/app/linkintegrity/browser/delete_confirmation_info.pt
M plone/app/linkintegrity/browser/info.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 4d29289..ae782c8 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Mark strings in delete confirmation screen translatable
+  [erral]
 
 
 3.3.4 (2018-02-04)
diff --git a/plone/app/linkintegrity/browser/delete_confirmation_info.pt b/plone/app/linkintegrity/browser/delete_confirmation_info.pt
index 1dac952..04420ac 100644
--- a/plone/app/linkintegrity/browser/delete_confirmation_info.pt
+++ b/plone/app/linkintegrity/browser/delete_confirmation_info.pt
@@ -64,7 +64,7 @@
               <strong><span tal:replace="content" i18n:name="content" /></strong>  will also be deleted:
             </span><br/>
             <ul>
-              <li tal:define="objects python:['Objects in all', 'Folders', 'Published objects'] "
+              <li tal:define="objects view/objects"
                   tal:repeat="item python:range(3) "
                   i18n:translate="">
                 <span tal:replace="python: breach_count[content][item]" />
diff --git a/plone/app/linkintegrity/browser/info.py b/plone/app/linkintegrity/browser/info.py
index f678957..2921efa 100644
--- a/plone/app/linkintegrity/browser/info.py
+++ b/plone/app/linkintegrity/browser/info.py
@@ -7,11 +7,11 @@
 from Products.CMFCore.permissions import AccessContentsInformation
 from Products.CMFCore.utils import _checkPermission
 from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone import PloneMessageFactory as _
 from Products.CMFPlone.interfaces.siteroot import IPloneSiteRoot
 from Products.Five import BrowserView
 from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from zope.i18n import translate
-
 import logging
 
 
@@ -191,3 +191,6 @@ def get_portal_type_title(self, obj):
 
     def is_accessible(self, obj):
         return _checkPermission(AccessContentsInformation, obj)
+
+    def objects(self):
+        return [_('Objects in all'), _('Folders'), _('Published objects')]


