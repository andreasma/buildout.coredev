Repository: plone.resourceeditor


Branch: refs/heads/master
Date: 2020-02-12T12:22:50+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.resourceeditor/commit/0e676458af1b034e549604cf25d25eb43d045d99

Do not call processInputs.

It is not needed since Zope 4, and not existing in Zope 5.
Fixes https://github.com/plone/plone.resourceeditor/issues/26

Files changed:
A news/26.bugfix
M plone/resourceeditor/browser.py

b"diff --git a/news/26.bugfix b/news/26.bugfix\nnew file mode 100644\nindex 0000000..5a76d55\n--- /dev/null\n+++ b/news/26.bugfix\n@@ -0,0 +1,3 @@\n+Do not call ``processInputs``.\n+It is not needed since Zope 4, and not existing in Zope 5.\n+[maurits]\ndiff --git a/plone/resourceeditor/browser.py b/plone/resourceeditor/browser.py\nindex 815f10f..16bf964 100644\n--- a/plone/resourceeditor/browser.py\n+++ b/plone/resourceeditor/browser.py\n@@ -9,7 +9,6 @@\n from Products.CMFCore.utils import getToolByName\n from Products.CMFPlone.utils import safe_unicode\n from Products.CMFPlone.utils import safe_encode\n-from Products.Five.browser.decode import processInputs\n from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile\n from six.moves import urllib\n from six.moves.urllib.parse import urlparse\n@@ -698,7 +697,7 @@ def __call__(self):\n             return self.index()\n \n     def setup(self):\n-        processInputs(self.request)\n+        pass\n \n     @zproperty.Lazy\n     def portalUrl(self):\n@@ -1230,8 +1229,6 @@ def getFile(self, path):\n         return json.dumps(result)\n \n     def saveFile(self, path, value):\n-        processInputs(self.request)\n-\n         path = self.request.form.get('path', path)\n         value = self.request.form.get('value', value)\n         if six.PY2:\n"

Repository: plone.resourceeditor


Branch: refs/heads/master
Date: 2020-02-14T14:27:59+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.resourceeditor/commit/77d128f02a5259102f9e3a9817bf24229785af4b

Merge pull request #27 from plone/maurits-zope5-compat

Do not call processInputs.

Files changed:
A news/26.bugfix
M plone/resourceeditor/browser.py

b"diff --git a/news/26.bugfix b/news/26.bugfix\nnew file mode 100644\nindex 0000000..5a76d55\n--- /dev/null\n+++ b/news/26.bugfix\n@@ -0,0 +1,3 @@\n+Do not call ``processInputs``.\n+It is not needed since Zope 4, and not existing in Zope 5.\n+[maurits]\ndiff --git a/plone/resourceeditor/browser.py b/plone/resourceeditor/browser.py\nindex 815f10f..16bf964 100644\n--- a/plone/resourceeditor/browser.py\n+++ b/plone/resourceeditor/browser.py\n@@ -9,7 +9,6 @@\n from Products.CMFCore.utils import getToolByName\n from Products.CMFPlone.utils import safe_unicode\n from Products.CMFPlone.utils import safe_encode\n-from Products.Five.browser.decode import processInputs\n from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile\n from six.moves import urllib\n from six.moves.urllib.parse import urlparse\n@@ -698,7 +697,7 @@ def __call__(self):\n             return self.index()\n \n     def setup(self):\n-        processInputs(self.request)\n+        pass\n \n     @zproperty.Lazy\n     def portalUrl(self):\n@@ -1230,8 +1229,6 @@ def getFile(self, path):\n         return json.dumps(result)\n \n     def saveFile(self, path, value):\n-        processInputs(self.request)\n-\n         path = self.request.form.get('path', path)\n         value = self.request.form.get('value', value)\n         if six.PY2:\n"

