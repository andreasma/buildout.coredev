Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2019-06-20T14:00:42+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.dexterity/commit/4df08d68135d3621d98fc8c1aab6ac72619342e5

Fix tests in python 3.8

Files changed:
A news/298.bugfix
M plone/app/dexterity/tests/editing.rst

b'diff --git a/news/298.bugfix b/news/298.bugfix\nnew file mode 100644\nindex 0000000..d36cb0c\n--- /dev/null\n+++ b/news/298.bugfix\n@@ -0,0 +1 @@\n+Fix tests in Python 3.8 [pbauer]\n\\ No newline at end of file\ndiff --git a/plone/app/dexterity/tests/editing.rst b/plone/app/dexterity/tests/editing.rst\nindex 8391cce..3be8d8a 100644\n--- a/plone/app/dexterity/tests/editing.rst\n+++ b/plone/app/dexterity/tests/editing.rst\n@@ -150,7 +150,10 @@ still test the Zope side.\n \n Get some tools::\n \n-  >>> from cgi import escape\n+  >>> try:\n+  >>>     from html import escape\n+  >>> except ImportError:\n+  >>>     from cgi import escape\n   >>> from six.moves.urllib.parse import quote_plus\n \n We should be able to navigate to the modeleditor view by clicking a\n'

Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2019-06-21T11:59:19+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.dexterity/commit/83eb722acdbd291c39335a6821c79ba3cfc8daa6

fix syntax

Files changed:
M plone/app/dexterity/tests/editing.rst

b'diff --git a/plone/app/dexterity/tests/editing.rst b/plone/app/dexterity/tests/editing.rst\nindex 3be8d8a..c2f7923 100644\n--- a/plone/app/dexterity/tests/editing.rst\n+++ b/plone/app/dexterity/tests/editing.rst\n@@ -151,9 +151,9 @@ still test the Zope side.\n Get some tools::\n \n   >>> try:\n-  >>>     from html import escape\n-  >>> except ImportError:\n-  >>>     from cgi import escape\n+  ...     from html import escape\n+  ... except ImportError:\n+  ...     from cgi import escape\n   >>> from six.moves.urllib.parse import quote_plus\n \n We should be able to navigate to the modeleditor view by clicking a\n'

Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2019-06-22T07:40:40+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.dexterity/commit/28be326a5961667cc774e908c5f9019afbe2803e

quotes are not escaped here (html.escape does it by default, cgi not)

Files changed:
M plone/app/dexterity/tests/editing.rst

b'diff --git a/plone/app/dexterity/tests/editing.rst b/plone/app/dexterity/tests/editing.rst\nindex c2f7923..fc1a3b0 100644\n--- a/plone/app/dexterity/tests/editing.rst\n+++ b/plone/app/dexterity/tests/editing.rst\n@@ -187,7 +187,7 @@ Return to our view and find the XML model source in a div, ready for the Ace edi\n   True\n \n   >>> model_source = portal.portal_types.plonista.model_source\n-  >>> escaped_model_source = escape(model_source)\n+  >>> escaped_model_source = escape(model_source, quote=False)\n   >>> escaped_model_source in browser.contents\n   True\n \n'

Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2019-06-22T08:46:14+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.dexterity/commit/32628f14e0e8abdda4fc2884ef97a82ca3c502cc

Merge pull request #298 from plone/python38

Fix tests in python 3.8

Files changed:
A news/298.bugfix
M plone/app/dexterity/tests/editing.rst

b'diff --git a/news/298.bugfix b/news/298.bugfix\nnew file mode 100644\nindex 0000000..d36cb0c\n--- /dev/null\n+++ b/news/298.bugfix\n@@ -0,0 +1 @@\n+Fix tests in Python 3.8 [pbauer]\n\\ No newline at end of file\ndiff --git a/plone/app/dexterity/tests/editing.rst b/plone/app/dexterity/tests/editing.rst\nindex 9cd5de7..4741177 100644\n--- a/plone/app/dexterity/tests/editing.rst\n+++ b/plone/app/dexterity/tests/editing.rst\n@@ -150,7 +150,10 @@ still test the Zope side.\n \n Get some tools::\n \n-  >>> from cgi import escape\n+  >>> try:\n+  ...     from html import escape\n+  ... except ImportError:\n+  ...     from cgi import escape\n   >>> from six.moves.urllib.parse import quote_plus\n \n We should be able to navigate to the modeleditor view by clicking a\n@@ -184,7 +187,7 @@ Return to our view and find the XML model source in a div, ready for the Ace edi\n   True\n \n   >>> model_source = portal.portal_types.plonista.model_source\n-  >>> escaped_model_source = escape(model_source)\n+  >>> escaped_model_source = escape(model_source, quote=False)\n   >>> escaped_model_source in browser.contents\n   True\n \n'

