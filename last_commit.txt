Repository: plone.cachepurging


Branch: refs/heads/master
Date: 2018-06-06T20:59:37+03:00
Author: Alin Voinea (avoinea) <alin.voinea@eaudeweb.ro>
Commit: https://github.com/plone/plone.cachepurging/commit/b2321116a3fe9af8d04aebb811ebf13cb5929c6c

Refs #11 - Set default purger backlog size to 0 (infinity)

Files changed:
M CHANGES.rst
M plone/cachepurging/purger.py

b"diff --git a/CHANGES.rst b/CHANGES.rst\nindex a6d1a25..219d961 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Set default purger backlog size to 0 (infinity) in order to fully invalidate Varnish cache\n+  [avoinea refs #11]\n \n \n 1.0.15 (2018-04-24)\ndiff --git a/plone/cachepurging/purger.py b/plone/cachepurging/purger.py\nindex 3f673bc..1b042f9 100644\n--- a/plone/cachepurging/purger.py\n+++ b/plone/cachepurging/purger.py\n@@ -66,7 +66,7 @@ def connect(self):\n @implementer(IPurger)\n class DefaultPurger(object):\n \n-    def __init__(self, factory=Connection, timeout=30, backlog=200,\n+    def __init__(self, factory=Connection, timeout=30, backlog=0,\n                  errorHeaders=('x-squid-error', ), http_1_1=True):\n         self.factory = factory\n         self.timeout = timeout\n"

Repository: plone.cachepurging


Branch: refs/heads/master
Date: 2018-07-16T14:03:35+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.cachepurging/commit/b04190a3dcefa67892048c283da81833963462a1

Merge pull request #12 from eea/master

Refs #11 - Set default purger backlog size to 0 (infinity)

Files changed:
M CHANGES.rst
M plone/cachepurging/purger.py

b"diff --git a/CHANGES.rst b/CHANGES.rst\nindex a6d1a25..219d961 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Set default purger backlog size to 0 (infinity) in order to fully invalidate Varnish cache\n+  [avoinea refs #11]\n \n \n 1.0.15 (2018-04-24)\ndiff --git a/plone/cachepurging/purger.py b/plone/cachepurging/purger.py\nindex 3f673bc..1b042f9 100644\n--- a/plone/cachepurging/purger.py\n+++ b/plone/cachepurging/purger.py\n@@ -66,7 +66,7 @@ def connect(self):\n @implementer(IPurger)\n class DefaultPurger(object):\n \n-    def __init__(self, factory=Connection, timeout=30, backlog=200,\n+    def __init__(self, factory=Connection, timeout=30, backlog=0,\n                  errorHeaders=('x-squid-error', ), http_1_1=True):\n         self.factory = factory\n         self.timeout = timeout\n"

