Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2019-04-13T17:34:47+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.upgrade/commit/76d9f4d004756f00c7dfcb69f215729e73106058

Add a alias for webdav.LockItem.LockItem to fix https://github.com/plone/Products.CMFPlone/issues/2800

Files changed:
M plone/app/upgrade/__init__.py

b'diff --git a/plone/app/upgrade/__init__.py b/plone/app/upgrade/__init__.py\nindex 0314b5e8..eb471e06 100644\n--- a/plone/app/upgrade/__init__.py\n+++ b/plone/app/upgrade/__init__.py\n@@ -163,6 +163,13 @@\n     sys.modules[\'Products.ResourceRegistries.tools.CSSRegistry\'] = bbb\n     sys.modules[\'Products.ResourceRegistries.tools.JSRegistry\'] = bbb\n \n+try:\n+    from webdav.LockItem import LockItem\n+    LockItem  # pyflakes\n+except ImportError:\n+    from OFS.LockItem import LockItem\n+    alias_module(\'webdav.LockItem.LockItem\', LockItem)\n+\n \n class HiddenProducts(object):\n     """This hides the upgrade profiles from the quick installer tool."""\n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2019-04-13T17:37:29+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.upgrade/commit/6737d13aed3869de948bf2af1c004c74d1fe8a74

add changenote

Files changed:
A news/203.bugfix

b'diff --git a/news/203.bugfix b/news/203.bugfix\nnew file mode 100644\nindex 00000000..7d49d108\n--- /dev/null\n+++ b/news/203.bugfix\n@@ -0,0 +1,2 @@\n+Add alias for webdav.LockItem.LockItem. Fixes https://github.com/plone/Products.CMFPlone/issues/2800\n+[pbauer]\n\\ No newline at end of file\n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2019-04-16T11:54:09+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.upgrade/commit/d7efb38a021073fb15436ee54579832131fa2a7e

Merge pull request #203 from plone/add_alias_for_webdav_LockItem

Add a alias for webdav.LockItem.LockItem

Files changed:
A news/203.bugfix
M plone/app/upgrade/__init__.py

b'diff --git a/news/203.bugfix b/news/203.bugfix\nnew file mode 100644\nindex 00000000..7d49d108\n--- /dev/null\n+++ b/news/203.bugfix\n@@ -0,0 +1,2 @@\n+Add alias for webdav.LockItem.LockItem. Fixes https://github.com/plone/Products.CMFPlone/issues/2800\n+[pbauer]\n\\ No newline at end of file\ndiff --git a/plone/app/upgrade/__init__.py b/plone/app/upgrade/__init__.py\nindex 0314b5e8..eb471e06 100644\n--- a/plone/app/upgrade/__init__.py\n+++ b/plone/app/upgrade/__init__.py\n@@ -163,6 +163,13 @@\n     sys.modules[\'Products.ResourceRegistries.tools.CSSRegistry\'] = bbb\n     sys.modules[\'Products.ResourceRegistries.tools.JSRegistry\'] = bbb\n \n+try:\n+    from webdav.LockItem import LockItem\n+    LockItem  # pyflakes\n+except ImportError:\n+    from OFS.LockItem import LockItem\n+    alias_module(\'webdav.LockItem.LockItem\', LockItem)\n+\n \n class HiddenProducts(object):\n     """This hides the upgrade profiles from the quick installer tool."""\n'

