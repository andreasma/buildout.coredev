Repository: plone.scale


Branch: refs/heads/master
Date: 2018-07-21T09:04:35+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.scale/commit/8f988161af21231c509b64fd06f688a1cf138592

fix _cleanup for py3

Files changed:
M plone/scale/storage.py

b'diff --git a/plone/scale/storage.py b/plone/scale/storage.py\nindex 29d83d7..be5e129 100644\n--- a/plone/scale/storage.py\n+++ b/plone/scale/storage.py\n@@ -246,7 +246,7 @@ def _cleanup(self):\n         if not isinstance(modified_time, number_types):\n             # https://github.com/plone/plone.scale/issues/12\n             return\n-        for key, value in storage.items():\n+        for key, value in list(storage.items()):\n             # remove info stored by tuple keys\n             # before refactoring\n             if isinstance(key, tuple):\n'

Repository: plone.scale


Branch: refs/heads/master
Date: 2018-09-14T17:21:03+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.scale/commit/a4d86aef06ec2f2a6d2a7c9b07b2b17f6d3c6446

add changenote

Files changed:
M CHANGES.rst
M setup.py

b"diff --git a/CHANGES.rst b/CHANGES.rst\nindex a31b6d8..fe00b4f 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -15,7 +15,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Fix cleanup of image scales in py3\n+  [pbauer]\n \n \n 3.0.1 (2018-04-03)\ndiff --git a/setup.py b/setup.py\nindex aeecfd0..f76f272 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -42,6 +42,7 @@\n         'Programming Language :: Python :: 2.7',\n         'Programming Language :: Python :: 3.5',\n         'Programming Language :: Python :: 3.6',\n+        'Programming Language :: Python :: 3.7',\n     ],\n     keywords='image scaling',\n     author='Plone Foundation',\n"

Repository: plone.scale


Branch: refs/heads/master
Date: 2018-09-15T12:04:38+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.scale/commit/d49d472644e8697e49392706c0fbdf6323c69584

Merge pull request #31 from plone/python3

fix _cleanup for py3

Files changed:
M CHANGES.rst
M plone/scale/storage.py
M setup.py

b"diff --git a/CHANGES.rst b/CHANGES.rst\nindex a31b6d8..fe00b4f 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -15,7 +15,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Fix cleanup of image scales in py3\n+  [pbauer]\n \n \n 3.0.1 (2018-04-03)\ndiff --git a/plone/scale/storage.py b/plone/scale/storage.py\nindex 29d83d7..be5e129 100644\n--- a/plone/scale/storage.py\n+++ b/plone/scale/storage.py\n@@ -246,7 +246,7 @@ def _cleanup(self):\n         if not isinstance(modified_time, number_types):\n             # https://github.com/plone/plone.scale/issues/12\n             return\n-        for key, value in storage.items():\n+        for key, value in list(storage.items()):\n             # remove info stored by tuple keys\n             # before refactoring\n             if isinstance(key, tuple):\ndiff --git a/setup.py b/setup.py\nindex aeecfd0..f76f272 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -42,6 +42,7 @@\n         'Programming Language :: Python :: 2.7',\n         'Programming Language :: Python :: 3.5',\n         'Programming Language :: Python :: 3.6',\n+        'Programming Language :: Python :: 3.7',\n     ],\n     keywords='image scaling',\n     author='Plone Foundation',\n"

