Repository: Products.CMFPlone


Branch: refs/heads/4.3.x
Date: 2018-07-30T21:49:58-03:00
Author: hvelarde (hvelarde) <hector.velarde@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/6f310ea306f872b48510b79d45c2a7c7fa1819e6

Add support for X-Content-Type-Options and X-XSS-Protection security headers

Files changed:
M Products/CMFPlone/skins/plone_templates/main_template.pt
M docs/CHANGES.rst

b'diff --git a/Products/CMFPlone/skins/plone_templates/main_template.pt b/Products/CMFPlone/skins/plone_templates/main_template.pt\nindex ca538320e..c843a494a 100644\n--- a/Products/CMFPlone/skins/plone_templates/main_template.pt\n+++ b/Products/CMFPlone/skins/plone_templates/main_template.pt\n@@ -20,7 +20,9 @@\n                   site_properties context/portal_properties/site_properties;\n                   ajax_load request/ajax_load | nothing;\n                   ajax_include_head request/ajax_include_head | nothing;\n-                  dummy python:request.RESPONSE.setHeader(\'X-UA-Compatible\', \'IE=edge\');"\n+                  dummy python:request.RESPONSE.setHeader(\'X-UA-Compatible\', \'IE=edge\');\n+                  dummy python:request.RESPONSE.setHeader(\'X-Content-Type-Options\', \'nosniff\');\n+                  dummy python:request.RESPONSE.setHeader(\'X-XSS-Protection\', \'1; mode=block\');"\n       tal:attributes="lang lang;\n                       xml:lang lang">\n \ndiff --git a/docs/CHANGES.rst b/docs/CHANGES.rst\nindex 8ce6ef5d2..ef993e8c8 100644\n--- a/docs/CHANGES.rst\n+++ b/docs/CHANGES.rst\n@@ -15,7 +15,8 @@ Breaking changes:\n \n New features:\n \n-- *add item here*\n+- Add support for ``X-Content-Type-Options`` and ``X-XSS-Protection`` security headers.\n+  [hvelarde]\n \n Bug fixes:\n \n'

Repository: Products.CMFPlone


Branch: refs/heads/4.3.x
Date: 2018-07-31T10:40:50-03:00
Author: hvelarde (hvelarde) <hector.velarde@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/3e69be1654861f6ead9b452185a7c6e374d83189

Get rid of obsolete X-UA-Compatible header

refs. https://docs.microsoft.com/en-us/previous-versions/windows/internet-explorer/ie-developer/compatibility/cc288325(v=vs.85)

Files changed:
M Products/CMFPlone/skins/plone_templates/main_template.pt
M docs/CHANGES.rst

b'diff --git a/Products/CMFPlone/skins/plone_templates/main_template.pt b/Products/CMFPlone/skins/plone_templates/main_template.pt\nindex c843a494a..ee8adec79 100644\n--- a/Products/CMFPlone/skins/plone_templates/main_template.pt\n+++ b/Products/CMFPlone/skins/plone_templates/main_template.pt\n@@ -20,7 +20,6 @@\n                   site_properties context/portal_properties/site_properties;\n                   ajax_load request/ajax_load | nothing;\n                   ajax_include_head request/ajax_include_head | nothing;\n-                  dummy python:request.RESPONSE.setHeader(\'X-UA-Compatible\', \'IE=edge\');\n                   dummy python:request.RESPONSE.setHeader(\'X-Content-Type-Options\', \'nosniff\');\n                   dummy python:request.RESPONSE.setHeader(\'X-XSS-Protection\', \'1; mode=block\');"\n       tal:attributes="lang lang;\ndiff --git a/docs/CHANGES.rst b/docs/CHANGES.rst\nindex ef993e8c8..92dd9f70f 100644\n--- a/docs/CHANGES.rst\n+++ b/docs/CHANGES.rst\n@@ -20,7 +20,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Get rid of obsolete ``X-UA-Compatible`` header.\n+  [hvelarde]\n \n \n 4.3.18 (2018-05-29)\n'

Repository: Products.CMFPlone


Branch: refs/heads/4.3.x
Date: 2018-07-31T11:43:46-03:00
Author: hvelarde (hvelarde) <hector.velarde@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/5dde61173b298eae88edeb581f12b5d4923c4622

Code review based on @mauritsvanrees comments

Files changed:
M Products/CMFPlone/skins/plone_templates/main_template.pt
M docs/CHANGES.rst

b'diff --git a/Products/CMFPlone/skins/plone_templates/main_template.pt b/Products/CMFPlone/skins/plone_templates/main_template.pt\nindex ee8adec79..c843a494a 100644\n--- a/Products/CMFPlone/skins/plone_templates/main_template.pt\n+++ b/Products/CMFPlone/skins/plone_templates/main_template.pt\n@@ -20,6 +20,7 @@\n                   site_properties context/portal_properties/site_properties;\n                   ajax_load request/ajax_load | nothing;\n                   ajax_include_head request/ajax_include_head | nothing;\n+                  dummy python:request.RESPONSE.setHeader(\'X-UA-Compatible\', \'IE=edge\');\n                   dummy python:request.RESPONSE.setHeader(\'X-Content-Type-Options\', \'nosniff\');\n                   dummy python:request.RESPONSE.setHeader(\'X-XSS-Protection\', \'1; mode=block\');"\n       tal:attributes="lang lang;\ndiff --git a/docs/CHANGES.rst b/docs/CHANGES.rst\nindex 92dd9f70f..b6c06aa54 100644\n--- a/docs/CHANGES.rst\n+++ b/docs/CHANGES.rst\n@@ -15,13 +15,12 @@ Breaking changes:\n \n New features:\n \n-- Add support for ``X-Content-Type-Options`` and ``X-XSS-Protection`` security headers.\n+- Add ``X-Content-Type-Options`` and ``X-XSS-Protection`` security headers.\n   [hvelarde]\n \n Bug fixes:\n \n-- Get rid of obsolete ``X-UA-Compatible`` header.\n-  [hvelarde]\n+- *add item here*\n \n \n 4.3.18 (2018-05-29)\n'

Repository: Products.CMFPlone


Branch: refs/heads/4.3.x
Date: 2018-08-03T16:48:25+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/72a07f4dad61d7a3d905f92ea7665e0543a7d9e2

Merge pull request #2479 from plone/hvelarde-security

Add X-Content-Type-Options and X-XSS-Protection security headers

Files changed:
M Products/CMFPlone/skins/plone_templates/main_template.pt
M docs/CHANGES.rst

b'diff --git a/Products/CMFPlone/skins/plone_templates/main_template.pt b/Products/CMFPlone/skins/plone_templates/main_template.pt\nindex ca538320e..c843a494a 100644\n--- a/Products/CMFPlone/skins/plone_templates/main_template.pt\n+++ b/Products/CMFPlone/skins/plone_templates/main_template.pt\n@@ -20,7 +20,9 @@\n                   site_properties context/portal_properties/site_properties;\n                   ajax_load request/ajax_load | nothing;\n                   ajax_include_head request/ajax_include_head | nothing;\n-                  dummy python:request.RESPONSE.setHeader(\'X-UA-Compatible\', \'IE=edge\');"\n+                  dummy python:request.RESPONSE.setHeader(\'X-UA-Compatible\', \'IE=edge\');\n+                  dummy python:request.RESPONSE.setHeader(\'X-Content-Type-Options\', \'nosniff\');\n+                  dummy python:request.RESPONSE.setHeader(\'X-XSS-Protection\', \'1; mode=block\');"\n       tal:attributes="lang lang;\n                       xml:lang lang">\n \ndiff --git a/docs/CHANGES.rst b/docs/CHANGES.rst\nindex 8ce6ef5d2..b6c06aa54 100644\n--- a/docs/CHANGES.rst\n+++ b/docs/CHANGES.rst\n@@ -15,7 +15,8 @@ Breaking changes:\n \n New features:\n \n-- *add item here*\n+- Add ``X-Content-Type-Options`` and ``X-XSS-Protection`` security headers.\n+  [hvelarde]\n \n Bug fixes:\n \n'

