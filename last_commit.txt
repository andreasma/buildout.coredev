Repository: plone.app.layout


Branch: refs/heads/master
Date: 2018-07-31T11:24:21-03:00
Author: hvelarde (hvelarde) <hector.velarde@gmail.com>
Commit: https://github.com/plone/plone.app.layout/commit/3e5db3697ffd2172d68d2fafe1cf10b94c9feb58

Get rid of obsolete X-UA-Compatible header

refs. https://docs.microsoft.com/en-us/previous-versions/windows/internet-explorer/ie-developer/compatibility/cc288325(v=vs.85)

Files changed:
M CHANGES.rst
M plone/app/layout/viewlets/configure.zcml
M plone/app/layout/viewlets/httpheaders.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 74037eb..700fb7e 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Get rid of obsolete ``X-UA-Compatible`` header.\n+  [hvelarde]\n \n \n 2.8.1 (2018-06-18)\ndiff --git a/plone/app/layout/viewlets/configure.zcml b/plone/app/layout/viewlets/configure.zcml\nindex ef81421..0dbd36b 100644\n--- a/plone/app/layout/viewlets/configure.zcml\n+++ b/plone/app/layout/viewlets/configure.zcml\n@@ -136,14 +136,6 @@\n         permission="zope.Public"\n         />\n \n-    <!-- X-UA-Compatible -->\n-    <browser:viewlet\n-        name="plone.xuacompatible"\n-        manager=".interfaces.IHTTPHeaders"\n-        class=".httpheaders.XUACompatible"\n-        permission="zope.Public"\n-        />\n-\n     <!-- The portal header -->\n     <browser:viewlet\n         name="plone.header"\ndiff --git a/plone/app/layout/viewlets/httpheaders.py b/plone/app/layout/viewlets/httpheaders.py\nindex 4b08265..0f39afa 100644\n--- a/plone/app/layout/viewlets/httpheaders.py\n+++ b/plone/app/layout/viewlets/httpheaders.py\n@@ -37,10 +37,3 @@ def getHeaders(self):\n             (\'Expires\', \'Sat, 1 Jan 2000 00:00:00 GMT\'),\n             (\'Content-Language\', lang)\n         ]\n-\n-\n-class XUACompatible(HeaderViewlet):\n-    """set the header (\'X-UA-Compatible\', \'IE=edge\');"""\n-\n-    def getHeaders(self):\n-        return [(\'X-UA-Compatible\', \'IE=edge\')]\n'

Repository: plone.app.layout


Branch: refs/heads/master
Date: 2018-08-03T16:45:37+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.layout/commit/f66688025339ad25f58343b247a798868761c91f

Merge pull request #154 from plone/hvelarde-headers

Get rid of obsolete X-UA-Compatible header

Files changed:
M CHANGES.rst
M plone/app/layout/viewlets/configure.zcml
M plone/app/layout/viewlets/httpheaders.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 74037eb..700fb7e 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Get rid of obsolete ``X-UA-Compatible`` header.\n+  [hvelarde]\n \n \n 2.8.1 (2018-06-18)\ndiff --git a/plone/app/layout/viewlets/configure.zcml b/plone/app/layout/viewlets/configure.zcml\nindex ef81421..0dbd36b 100644\n--- a/plone/app/layout/viewlets/configure.zcml\n+++ b/plone/app/layout/viewlets/configure.zcml\n@@ -136,14 +136,6 @@\n         permission="zope.Public"\n         />\n \n-    <!-- X-UA-Compatible -->\n-    <browser:viewlet\n-        name="plone.xuacompatible"\n-        manager=".interfaces.IHTTPHeaders"\n-        class=".httpheaders.XUACompatible"\n-        permission="zope.Public"\n-        />\n-\n     <!-- The portal header -->\n     <browser:viewlet\n         name="plone.header"\ndiff --git a/plone/app/layout/viewlets/httpheaders.py b/plone/app/layout/viewlets/httpheaders.py\nindex 4b08265..0f39afa 100644\n--- a/plone/app/layout/viewlets/httpheaders.py\n+++ b/plone/app/layout/viewlets/httpheaders.py\n@@ -37,10 +37,3 @@ def getHeaders(self):\n             (\'Expires\', \'Sat, 1 Jan 2000 00:00:00 GMT\'),\n             (\'Content-Language\', lang)\n         ]\n-\n-\n-class XUACompatible(HeaderViewlet):\n-    """set the header (\'X-UA-Compatible\', \'IE=edge\');"""\n-\n-    def getHeaders(self):\n-        return [(\'X-UA-Compatible\', \'IE=edge\')]\n'

