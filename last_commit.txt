Repository: mockup


Branch: refs/heads/master
Date: 2020-01-21T15:06:09+01:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/0325da35a5e7869c95c900435191b4e7bcf3eca4

Structure pattern: Escape special characters when filtering. fixes gh-932

Files changed:
A news/932.bugfix
M mockup/patterns/structure/js/views/textfilter.js

b'diff --git a/mockup/patterns/structure/js/views/textfilter.js b/mockup/patterns/structure/js/views/textfilter.js\nindex b67e9d6f5..be573f9f2 100644\n--- a/mockup/patterns/structure/js/views/textfilter.js\n+++ b/mockup/patterns/structure/js/views/textfilter.js\n@@ -93,7 +93,7 @@ define([\n         clearTimeout(self.timeoutId);\n       }\n       self.timeoutId = setTimeout(function() {\n-        self.term = $(event.currentTarget).val();\n+        self.term = encodeURIComponent($(event.currentTarget).val());\n         self.app.collection.currentPage = 1;\n         self.app.collection.pager();\n \ndiff --git a/news/932.bugfix b/news/932.bugfix\nnew file mode 100644\nindex 000000000..3ce024573\n--- /dev/null\n+++ b/news/932.bugfix\n@@ -0,0 +1,2 @@\n+Structure pattern: Escape special characters when filtering\n+[frapell]\n'

Repository: mockup


Branch: refs/heads/master
Date: 2020-01-21T15:08:30+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/7f69f6c1ede5b4f4364a3a557443e0a4e514f0c6

Merge pull request #933 from plone/frapell-escape-query-text

Structure pattern: Escape special characters when filtering

Files changed:
A news/932.bugfix
M mockup/patterns/structure/js/views/textfilter.js

b'diff --git a/mockup/patterns/structure/js/views/textfilter.js b/mockup/patterns/structure/js/views/textfilter.js\nindex b67e9d6f5..be573f9f2 100644\n--- a/mockup/patterns/structure/js/views/textfilter.js\n+++ b/mockup/patterns/structure/js/views/textfilter.js\n@@ -93,7 +93,7 @@ define([\n         clearTimeout(self.timeoutId);\n       }\n       self.timeoutId = setTimeout(function() {\n-        self.term = $(event.currentTarget).val();\n+        self.term = encodeURIComponent($(event.currentTarget).val());\n         self.app.collection.currentPage = 1;\n         self.app.collection.pager();\n \ndiff --git a/news/932.bugfix b/news/932.bugfix\nnew file mode 100644\nindex 000000000..3ce024573\n--- /dev/null\n+++ b/news/932.bugfix\n@@ -0,0 +1,2 @@\n+Structure pattern: Escape special characters when filtering\n+[frapell]\n'

