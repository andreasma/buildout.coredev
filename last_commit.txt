Repository: plone.app.event


Branch: refs/heads/master
Date: 2018-06-14T01:10:28+02:00
Author: Peter Holzer (agitator) <peter.holzer@agitator.com>
Commit: https://github.com/plone/plone.app.event/commit/464e206fcd0ed3e712c9fc3d10249898b2e635c7

Update resources

Files changed:
A plone/app/event/profiles/default/registry.xml
M CHANGES.rst
M plone/app/event/browser/configure.zcml
M plone/app/event/browser/event_listing.pt
M plone/app/event/browser/event_summary.pt
M plone/app/event/browser/resources/calendar.svg
M setup.py
D plone/app/event/browser/resources/calendar-o.svg
D plone/app/event/profiles/default/cssregistry.xml
D plone/app/event/profiles/default/jsregistry.xml

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 0bfa99ba..da366b40 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -1,7 +1,7 @@\n Changelog\n =========\n \n-\\ (unreleased)\n+3.2.0 (unreleased)\n --------------\n \n Breaking changes:\n@@ -14,7 +14,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Update plone.app.event resources. Requires plonetheme.barceloneta >= 1.8.2\n+  [agitator]\n \n \n 3.1.1 (2018-06-04)\ndiff --git a/plone/app/event/browser/configure.zcml b/plone/app/event/browser/configure.zcml\nindex eb265cca..15ebfb19 100644\n--- a/plone/app/event/browser/configure.zcml\n+++ b/plone/app/event/browser/configure.zcml\n@@ -1,14 +1,14 @@\n <configure\n     xmlns="http://namespaces.zope.org/zope"\n     xmlns:browser="http://namespaces.zope.org/browser"\n+    xmlns:plone="http://namespaces.plone.org/plone"\n     xmlns:zcml="http://namespaces.zope.org/zcml"\n     i18n_domain="plone">\n \n-    <browser:resourceDirectory\n+    <plone:static\n         name="plone.app.event"\n+        type="plone"\n         directory="resources"\n-        permission="zope.Public"\n-        layer="..interfaces.IBrowserLayer"\n         />\n \n     <!-- Event listing -->\ndiff --git a/plone/app/event/browser/event_listing.pt b/plone/app/event/browser/event_listing.pt\nindex a2a2eec3..b4159975 100644\n--- a/plone/app/event/browser/event_listing.pt\n+++ b/plone/app/event/browser/event_listing.pt\n@@ -63,61 +63,10 @@\n           </a></h2>\n           <div class="documentByLine">\n             <tal:date tal:replace="structure python:view.formatted_date(data)"/>\n-            <div itemprop="location" class="location"\n-                tal:condition="data/location"\n-                tal:content="data/location">location</div>\n           </div>\n \n           <p itemprop="description" class="description" tal:condition="data/description" tal:content="data/description" />\n \n-          <ul class="horizontal metadata">\n-\n-            <li tal:condition="data/subjects" itemprop="eventType" class="category">\n-              <span tal:repeat="cat data/subjects" tal:content="cat" />\n-            </li>\n-\n-            <li tal:condition="data/event_url">\n-              <a class="event_url" title="External Website"\n-                  tal:attributes="href data/event_url"\n-                  i18n:attributes="title external_website"\n-                  i18n:translate="label_web">Web</a>\n-            </li>\n-\n-            <li tal:define="contact_email data/contact_email|nothing;\n-                            contact_name data/contact_name|nothing"\n-                tal:condition="contact_email|contact_name">\n-              <span tal:condition="contact_email">\n-                <i18n:label_email translate="label_email">Email</i18n:label_email>:\n-              </span>\n-              <a class="contact_email" title=""\n-                  tal:omit-tag="not:contact_email"\n-                  tal:attributes="href string:mailto:${contact_email}; title contact_name">\n-                <span tal:condition="python:contact_email and not contact_name"\n-                      tal:replace="contact_email">Email</span>\n-                <span tal:condition="contact_name" tal:content="contact_name"/>\n-              </a>\n-            </li>\n-\n-            <li tal:condition="data/contact_phone" title="Phone" i18n:attributes="title label_phone">\n-              <span i18n:translate="label_phone">Phone</span>:\n-              <a class="contact_phone" title=""\n-                  tal:attributes="href string:tel:${data/contact_phone}"\n-                  tal:content="data/contact_phone">123</a>\n-            </li>\n-\n-            <li>\n-              <a class="event_ical" rel="nofollow"\n-                  tal:define="portal_url context/@@plone_portal_state/portal_url;"\n-                  tal:attributes="href string:${data/url}/ics_view"\n-                  title="Download this event in iCal format"\n-                  i18n:attributes="title title_add_to_ical;">\n-                <img src="" alt=""\n-                    tal:attributes="src string:${portal_url}/++resource++plone.app.event/calendar-o.svg" width="12" height="12" />\n-                <span i18n:translate="label_add_to_ical">iCal</span>\n-              </a>\n-            </li>\n-\n-          </ul>\n \n         </div>\n \ndiff --git a/plone/app/event/browser/event_summary.pt b/plone/app/event/browser/event_summary.pt\nindex 962ff47d..8b7976d4 100644\n--- a/plone/app/event/browser/event_summary.pt\n+++ b/plone/app/event/browser/event_summary.pt\n@@ -124,8 +124,8 @@\n              tal:attributes="href string:$here_url/ics_view"\n              title="Download this event in iCal format"\n              i18n:attributes="title title_add_to_ical;">\n-            <img src="" alt=""\n-                tal:attributes="src string:${portal_url}/++resource++plone.app.event/icon_export_ical.png"/>\n+            <img src="" alt="" width="14" height="14" class="icalIcon"\n+                tal:attributes="src string:${portal_url}/++plone++plone.app.event/calendar.svg"/>\n             <span i18n:translate="label_add_to_ical">iCal</span></a>\n         </tal:span>\n       </li>\ndiff --git a/plone/app/event/browser/resources/calendar-o.svg b/plone/app/event/browser/resources/calendar-o.svg\ndeleted file mode 100644\nindex 89f2e81a..00000000\n--- a/plone/app/event/browser/resources/calendar-o.svg\n+++ /dev/null\n@@ -1 +0,0 @@\n-<svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M192 1664h1408v-1024h-1408v1024zm384-1216v-288q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v288q0 14 9 23t23 9h64q14 0 23-9t9-23zm768 0v-288q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v288q0 14 9 23t23 9h64q14 0 23-9t9-23zm384-64v1280q0 52-38 90t-90 38h-1408q-52 0-90-38t-38-90v-1280q0-52 38-90t90-38h128v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h384v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h128q52 0 90 38t38 90z"/></svg>\n\\ No newline at end of file\ndiff --git a/plone/app/event/browser/resources/calendar.svg b/plone/app/event/browser/resources/calendar.svg\nindex a2778829..725e8879 100644\n--- a/plone/app/event/browser/resources/calendar.svg\n+++ b/plone/app/event/browser/resources/calendar.svg\n@@ -1 +1 @@\n-<svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M192 1664h288v-288h-288v288zm352 0h320v-288h-320v288zm-352-352h288v-320h-288v320zm352 0h320v-320h-320v320zm-352-384h288v-288h-288v288zm736 736h320v-288h-320v288zm-384-736h320v-288h-320v288zm768 736h288v-288h-288v288zm-384-352h320v-320h-320v320zm-352-864v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm736 864h288v-320h-288v320zm-384-384h320v-288h-320v288zm384 0h288v-288h-288v288zm32-480v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm384-64v1280q0 52-38 90t-90 38h-1408q-52 0-90-38t-38-90v-1280q0-52 38-90t90-38h128v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h384v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h128q52 0 90 38t38 90z"/></svg>\n\\ No newline at end of file\n+<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"/></svg>\n\\ No newline at end of file\ndiff --git a/plone/app/event/profiles/default/cssregistry.xml b/plone/app/event/profiles/default/cssregistry.xml\ndeleted file mode 100644\nindex 8a662965..00000000\n--- a/plone/app/event/profiles/default/cssregistry.xml\n+++ /dev/null\n@@ -1,8 +0,0 @@\n-<?xml version="1.0"?>\n-<object name="portal_css">\n- <stylesheet title=""\n-    id="++resource++plone.app.event/event.css"\n-    media="screen" rel="stylesheet" rendering="link"\n-    cacheable="True" compression="safe" cookable="True"\n-    enabled="True" expression="" />\n-</object>\ndiff --git a/plone/app/event/profiles/default/jsregistry.xml b/plone/app/event/profiles/default/jsregistry.xml\ndeleted file mode 100644\nindex 2704c918..00000000\n--- a/plone/app/event/profiles/default/jsregistry.xml\n+++ /dev/null\n@@ -1,13 +0,0 @@\n-<?xml version="1.0"?>\n-<object name="portal_javascripts" meta_type="JavaScripts Registry">\n-\n-  <javascript\n-      cacheable="True"\n-      compression="safe"\n-      cookable="True"\n-      enabled="True"\n-      id="++resource++plone.app.event/event.js"\n-      inline="False"\n-      />\n-\n-</object>\ndiff --git a/plone/app/event/profiles/default/registry.xml b/plone/app/event/profiles/default/registry.xml\nnew file mode 100644\nindex 00000000..d61b9cdd\n--- /dev/null\n+++ b/plone/app/event/profiles/default/registry.xml\n@@ -0,0 +1,16 @@\n+<?xml version="1.0"?>\n+<registry>\n+\n+  <records prefix="plone.resources/plone-app-event"\n+            interface=\'Products.CMFPlone.interfaces.IResourceRegistry\'>\n+      <value key="js">++plone++plone.app.event/event.js</value>\n+  </records>\n+  <records prefix="plone.bundles/plone-legacy"\n+            interface=\'Products.CMFPlone.interfaces.IBundleRegistry\'>\n+    <value key="resources" purge="false">\n+      <element>plone-app-event</element>\n+    </value>\n+    <value key="last_compilation"></value>\n+  </records>\n+\n+</registry>\ndiff --git a/setup.py b/setup.py\nindex 8aa5ae22..81cf1fce 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -4,7 +4,7 @@\n import os\n \n \n-version = \'3.1.2.dev0\'\n+version = \'3.2.0.dev0\'\n \n \n setup(\n'

Repository: plone.app.event


Branch: refs/heads/master
Date: 2018-06-14T12:28:11+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.event/commit/6ed22285395ce073c5b86af193e3f60d35075d0b

delete unused resources

Files changed:
D plone/app/event/browser/resources/event.css
D plone/app/event/browser/resources/icon_export_ical.png

b'diff --git a/plone/app/event/browser/resources/event.css b/plone/app/event/browser/resources/event.css\ndeleted file mode 100644\nindex ba87d5a7..00000000\n--- a/plone/app/event/browser/resources/event.css\n+++ /dev/null\n@@ -1,241 +0,0 @@\n-.event.summary {\n-    float: right;\n-    clear: right; /* if there are more right-floating elements, clear them, so\n-                   * they are displayed among each other */\n-    margin: 1em 0 1em 1em;\n-}\n-\n-/* event listing styles */\n-\n-\n-/* BEGIN COMMON EVENT STYLES */\n-\n-article.vevent a.event_ical img {\n-    vertical-align: baseline;\n-    height: 1em;\n-    width: auto;\n-    color: #007bb3;\n-}\n-.vevent div.cal_date {\n-    float:left;\n-    vertical-align:top;\n-    text-align: center;\n-    margin: 42px 1.5em 0.5em 0;\n-    background-color:white;\n-    border-radius:0.5em;\n-    /*box-shadow: 0.5em 0.5em 0.4em black;*/\n-    min-width:4.4em;\n-}\n-.vevent span.cal_wkday {\n-    display:block;\n-    font-size:1em;\n-    font-weight:normal;\n-    padding-bottom:0.3em;\n-}\n-.vevent span.cal_day {\n-    font-size:1.7em;\n-    display:block;\n-    padding-top:0.3em;\n-}\n-.vevent span.cal_month {\n-    font-size:1.1em;\n-    line-height:1.3em;\n-    background: #007bb3;\n-    display:block;\n-}\n-\n-.vevent div.cal_info { margin-left:9em; }\n-\n-/* horizontal event metadata */\n-#content .vevent ul.metadata { margin: 0.8em 0; }\n-#content .vevent ul.horizontal { padding: 0; }\n-#content .vevent ul.horizontal li {\n-    display: inline-block;\n-    line-height: 1.5em;\n-    list-style-image: none;\n-    list-style-type: none;\n-}\n-.vevent .horizontal.metadata li:after { content: " \\2014 "; }\n-.vevent .horizontal.metadata li:last-child:after { content: ""; }\n-.vevent .horizontal.metadata .category span:after { content: ","; }\n-.vevent .horizontal.metadata .category span:last-child:after { content: ""; }\n-\n-.vevent .timezone {\n-    display:block;\n-    margin-top:0.5em;\n-    padding:0.2em 0;\n-    background-color:#ffe;\n-    color:#354;\n-    width:100%;\n-}\n-\n-.vevent .timerange, .vevent .timezone {\n-    font-size:85%;\n-    line-height:1em;\n-    white-space:nowrap;\n-}\n-\n-.vevent .datedisplay {\n-    line-height:1.5em;\n-    margin-bottom:0.2em;\n-    /*font-weight:bold;*/\n-    font-size:100%;\n-}\n-\n-.vevent abbr.dtstart {\n-    /*font-weight:bold;*/\n-}\n-/* END COMMON EVENT STYLES */\n-\n-\n-/* BEGIN EVENT LISTING STYLES */\n-.template-event_listing .documentFirstHeading {\n-    position: relative;\n-}\n-.template-event_listing .documentFirstHeading nav {\n-    font-size: 14px;\n-    position: absolute;\n-    right: 0;\n-    bottom: 13px;\n-}\n-.template-event_listing .documentFirstHeading nav ul {\n-    margin:0;\n-    list-style-type:none;\n-}\n-.template-event_listing ul.mode_selector {\n-    display: block;\n-    margin-left: 0;\n-    list-style-type: none;\n-}\n-.template-event_listing ul.mode_selector li {\n-    display: inline;\n-}\n-.template-event_listing nav ul.mode_selector li a {\n-    display: inline-block;\n-    margin-left: 0.5em;\n-}\n-.template-event_listing nav ul.mode_selector li a:hover,\n-.template-event_listing nav ul.mode_selector li a:focus {\n-    text-decoration: underline;\n-    border-bottom: 0;\n-}\n-\n-/* END EVENT LISTING STYLES */\n-\n-\n-\n-/* BEGIN PORTLET CALENDAR */\n-.portletCalendar {\n-    width: auto;\n-    margin: 1px 0 1em 0;\n-}\n-\n-.portletCalendar dt {\n-    background-color: #eee;\n-    font-weight: bold;\n-    text-align: center;\n-    line-height: 1.6em;\n-    border-bottom: none;\n-}\n-\n-.portletCalendar dd {\n-    margin: 0;\n-    padding: 0;\n-}\n-\n-.portletCalendar dt a.calendarPrevious {\n-    float: left;\n-    padding: 0 1em;\n-    margin: 0 -.5em;\n-}\n-\n-.portletCalendar dt a.calendarNext {\n-    float: right;\n-    padding: 0 1em;\n-    margin: 0 -.5em;\n-}\n-\n-.portletCalendar a.calendarNext,.portletCalendar a.calendarPrevious{\n-    color:inherit;\n-}\n-\n-.portletCalendar a, .portletCalendar a:focus,\n-.portletCalendar a, .portletCalendar a:hover,\n-.ploneCalendar a {\n-    text-decoration: none;\n-    border-bottom: none !important;\n-}\n-\n-.ploneCalendar {\n-    border-spacing: 0;\n-    width:100%;\n-}\n-\n-.ploneCalendar td {\n-    background-color: transparent;\n-    width: 14%;\n-    text-align: center;\n-    padding: 2px;\n-    border: 2px solid #eee;\n-    background-color: #eee;\n-}\n-\n-.ploneCalendar .weekdays th {\n-    background-color: #eee;\n-    text-align: center;\n-    padding: 2px;\n-}\n-\n-.ploneCalendar .event {\n-    background-color: #eee;\n-}\n-\n-.ploneCalendar .todayevent {\n-    background-color: #eee;\n-    border: 2px solid #205C90;\n-}\n-\n-.ploneCalendar .todaynoevent {\n-    border: 2px solid #205C90;\n-}\n-\n-/* additional to sunburst */\n-.ploneCalendar td.today {\n-    background-color: white;\n-    border-color: #205C90;\n-}\n-.ploneCalendar td:hover { background-color: white; }\n-.ploneCalendar td a {\n-    display:inline-block;\n-    width:100%;\n-    height:100%;\n-}\n-\n-/* grey out prev/next month incl. links and background */\n-.ploneCalendar td.cal_prev_month,\n-.ploneCalendar td.cal_next_month {\n-    opacity:0.4;\n-}\n-\n-/* tooltip styling. by default the element to be styled is .tooltip  */\n-.pae_calendar_tooltip {\n-    display:none;\n-    background-color:white;\n-    border:1px solid black;\n-    border-radius:0.3em;\n-    box-shadow: 0.1em 0.1em 0.1em black;\n-    font-size:80%;\n-    padding:10px;\n-    margin:10px;\n-    max-width: 30em;\n-    z-index: 10;\n-}\n-.pae_calendar_tooltip a {\n-    color:black;\n-    display:block;\n-    width:100%;\n-}\n-.pae_calendar_tooltip a:hover { color:blue; }\n-.pae_calendar_tooltip a .title { font-weight:bold; }\n-\n-/* END PORTLET CALENDAR */\ndiff --git a/plone/app/event/browser/resources/icon_export_ical.png b/plone/app/event/browser/resources/icon_export_ical.png\ndeleted file mode 100644\nindex df034b20..00000000\nBinary files a/plone/app/event/browser/resources/icon_export_ical.png and /dev/null differ\n'

Repository: plone.app.event


Branch: refs/heads/master
Date: 2018-06-14T12:41:23+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.event/commit/cb860983b16f7ca9f366ad3ce7a2e5415fa04299

Update CHANGES.rst

Files changed:
M CHANGES.rst

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex da366b40..919f1c7a 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,7 @@ New features:\n \n Bug fixes:\n \n-- Update plone.app.event resources. Requires plonetheme.barceloneta >= 1.8.2\n+- Update plone.app.event resources. Requires plonetheme.barceloneta >= 1.9.\n   [agitator]\n \n \n'

Repository: plone.app.event


Branch: refs/heads/master
Date: 2018-09-14T10:07:46+02:00
Author: Sune Broendum Woeller (sunew) <sune@woeller.dk>
Commit: https://github.com/plone/plone.app.event/commit/0ca8a7f4b0f4e5ef0d3975c8e3e158ebcff5555f

Merge pull request #287 from 'update-resources'

Files changed:
A plone/app/event/profiles/default/registry.xml
M CHANGES.rst
M plone/app/event/browser/configure.zcml
M plone/app/event/browser/event_listing.pt
M plone/app/event/browser/event_summary.pt
M plone/app/event/browser/resources/calendar.svg
M setup.py
D plone/app/event/browser/resources/calendar-o.svg
D plone/app/event/browser/resources/event.css
D plone/app/event/browser/resources/icon_export_ical.png
D plone/app/event/profiles/default/cssregistry.xml
D plone/app/event/profiles/default/jsregistry.xml

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 0bfa99ba..919f1c7a 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -1,7 +1,7 @@\n Changelog\n =========\n \n-\\ (unreleased)\n+3.2.0 (unreleased)\n --------------\n \n Breaking changes:\n@@ -14,7 +14,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Update plone.app.event resources. Requires plonetheme.barceloneta >= 1.9.\n+  [agitator]\n \n \n 3.1.1 (2018-06-04)\ndiff --git a/plone/app/event/browser/configure.zcml b/plone/app/event/browser/configure.zcml\nindex eb265cca..15ebfb19 100644\n--- a/plone/app/event/browser/configure.zcml\n+++ b/plone/app/event/browser/configure.zcml\n@@ -1,14 +1,14 @@\n <configure\n     xmlns="http://namespaces.zope.org/zope"\n     xmlns:browser="http://namespaces.zope.org/browser"\n+    xmlns:plone="http://namespaces.plone.org/plone"\n     xmlns:zcml="http://namespaces.zope.org/zcml"\n     i18n_domain="plone">\n \n-    <browser:resourceDirectory\n+    <plone:static\n         name="plone.app.event"\n+        type="plone"\n         directory="resources"\n-        permission="zope.Public"\n-        layer="..interfaces.IBrowserLayer"\n         />\n \n     <!-- Event listing -->\ndiff --git a/plone/app/event/browser/event_listing.pt b/plone/app/event/browser/event_listing.pt\nindex a2a2eec3..b4159975 100644\n--- a/plone/app/event/browser/event_listing.pt\n+++ b/plone/app/event/browser/event_listing.pt\n@@ -63,61 +63,10 @@\n           </a></h2>\n           <div class="documentByLine">\n             <tal:date tal:replace="structure python:view.formatted_date(data)"/>\n-            <div itemprop="location" class="location"\n-                tal:condition="data/location"\n-                tal:content="data/location">location</div>\n           </div>\n \n           <p itemprop="description" class="description" tal:condition="data/description" tal:content="data/description" />\n \n-          <ul class="horizontal metadata">\n-\n-            <li tal:condition="data/subjects" itemprop="eventType" class="category">\n-              <span tal:repeat="cat data/subjects" tal:content="cat" />\n-            </li>\n-\n-            <li tal:condition="data/event_url">\n-              <a class="event_url" title="External Website"\n-                  tal:attributes="href data/event_url"\n-                  i18n:attributes="title external_website"\n-                  i18n:translate="label_web">Web</a>\n-            </li>\n-\n-            <li tal:define="contact_email data/contact_email|nothing;\n-                            contact_name data/contact_name|nothing"\n-                tal:condition="contact_email|contact_name">\n-              <span tal:condition="contact_email">\n-                <i18n:label_email translate="label_email">Email</i18n:label_email>:\n-              </span>\n-              <a class="contact_email" title=""\n-                  tal:omit-tag="not:contact_email"\n-                  tal:attributes="href string:mailto:${contact_email}; title contact_name">\n-                <span tal:condition="python:contact_email and not contact_name"\n-                      tal:replace="contact_email">Email</span>\n-                <span tal:condition="contact_name" tal:content="contact_name"/>\n-              </a>\n-            </li>\n-\n-            <li tal:condition="data/contact_phone" title="Phone" i18n:attributes="title label_phone">\n-              <span i18n:translate="label_phone">Phone</span>:\n-              <a class="contact_phone" title=""\n-                  tal:attributes="href string:tel:${data/contact_phone}"\n-                  tal:content="data/contact_phone">123</a>\n-            </li>\n-\n-            <li>\n-              <a class="event_ical" rel="nofollow"\n-                  tal:define="portal_url context/@@plone_portal_state/portal_url;"\n-                  tal:attributes="href string:${data/url}/ics_view"\n-                  title="Download this event in iCal format"\n-                  i18n:attributes="title title_add_to_ical;">\n-                <img src="" alt=""\n-                    tal:attributes="src string:${portal_url}/++resource++plone.app.event/calendar-o.svg" width="12" height="12" />\n-                <span i18n:translate="label_add_to_ical">iCal</span>\n-              </a>\n-            </li>\n-\n-          </ul>\n \n         </div>\n \ndiff --git a/plone/app/event/browser/event_summary.pt b/plone/app/event/browser/event_summary.pt\nindex 962ff47d..8b7976d4 100644\n--- a/plone/app/event/browser/event_summary.pt\n+++ b/plone/app/event/browser/event_summary.pt\n@@ -124,8 +124,8 @@\n              tal:attributes="href string:$here_url/ics_view"\n              title="Download this event in iCal format"\n              i18n:attributes="title title_add_to_ical;">\n-            <img src="" alt=""\n-                tal:attributes="src string:${portal_url}/++resource++plone.app.event/icon_export_ical.png"/>\n+            <img src="" alt="" width="14" height="14" class="icalIcon"\n+                tal:attributes="src string:${portal_url}/++plone++plone.app.event/calendar.svg"/>\n             <span i18n:translate="label_add_to_ical">iCal</span></a>\n         </tal:span>\n       </li>\ndiff --git a/plone/app/event/browser/resources/calendar-o.svg b/plone/app/event/browser/resources/calendar-o.svg\ndeleted file mode 100644\nindex 89f2e81a..00000000\n--- a/plone/app/event/browser/resources/calendar-o.svg\n+++ /dev/null\n@@ -1 +0,0 @@\n-<svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M192 1664h1408v-1024h-1408v1024zm384-1216v-288q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v288q0 14 9 23t23 9h64q14 0 23-9t9-23zm768 0v-288q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v288q0 14 9 23t23 9h64q14 0 23-9t9-23zm384-64v1280q0 52-38 90t-90 38h-1408q-52 0-90-38t-38-90v-1280q0-52 38-90t90-38h128v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h384v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h128q52 0 90 38t38 90z"/></svg>\n\\ No newline at end of file\ndiff --git a/plone/app/event/browser/resources/calendar.svg b/plone/app/event/browser/resources/calendar.svg\nindex a2778829..725e8879 100644\n--- a/plone/app/event/browser/resources/calendar.svg\n+++ b/plone/app/event/browser/resources/calendar.svg\n@@ -1 +1 @@\n-<svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M192 1664h288v-288h-288v288zm352 0h320v-288h-320v288zm-352-352h288v-320h-288v320zm352 0h320v-320h-320v320zm-352-384h288v-288h-288v288zm736 736h320v-288h-320v288zm-384-736h320v-288h-320v288zm768 736h288v-288h-288v288zm-384-352h320v-320h-320v320zm-352-864v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm736 864h288v-320h-288v320zm-384-384h320v-288h-320v288zm384 0h288v-288h-288v288zm32-480v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm384-64v1280q0 52-38 90t-90 38h-1408q-52 0-90-38t-38-90v-1280q0-52 38-90t90-38h128v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h384v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h128q52 0 90 38t38 90z"/></svg>\n\\ No newline at end of file\n+<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"/></svg>\n\\ No newline at end of file\ndiff --git a/plone/app/event/browser/resources/event.css b/plone/app/event/browser/resources/event.css\ndeleted file mode 100644\nindex ba87d5a7..00000000\n--- a/plone/app/event/browser/resources/event.css\n+++ /dev/null\n@@ -1,241 +0,0 @@\n-.event.summary {\n-    float: right;\n-    clear: right; /* if there are more right-floating elements, clear them, so\n-                   * they are displayed among each other */\n-    margin: 1em 0 1em 1em;\n-}\n-\n-/* event listing styles */\n-\n-\n-/* BEGIN COMMON EVENT STYLES */\n-\n-article.vevent a.event_ical img {\n-    vertical-align: baseline;\n-    height: 1em;\n-    width: auto;\n-    color: #007bb3;\n-}\n-.vevent div.cal_date {\n-    float:left;\n-    vertical-align:top;\n-    text-align: center;\n-    margin: 42px 1.5em 0.5em 0;\n-    background-color:white;\n-    border-radius:0.5em;\n-    /*box-shadow: 0.5em 0.5em 0.4em black;*/\n-    min-width:4.4em;\n-}\n-.vevent span.cal_wkday {\n-    display:block;\n-    font-size:1em;\n-    font-weight:normal;\n-    padding-bottom:0.3em;\n-}\n-.vevent span.cal_day {\n-    font-size:1.7em;\n-    display:block;\n-    padding-top:0.3em;\n-}\n-.vevent span.cal_month {\n-    font-size:1.1em;\n-    line-height:1.3em;\n-    background: #007bb3;\n-    display:block;\n-}\n-\n-.vevent div.cal_info { margin-left:9em; }\n-\n-/* horizontal event metadata */\n-#content .vevent ul.metadata { margin: 0.8em 0; }\n-#content .vevent ul.horizontal { padding: 0; }\n-#content .vevent ul.horizontal li {\n-    display: inline-block;\n-    line-height: 1.5em;\n-    list-style-image: none;\n-    list-style-type: none;\n-}\n-.vevent .horizontal.metadata li:after { content: " \\2014 "; }\n-.vevent .horizontal.metadata li:last-child:after { content: ""; }\n-.vevent .horizontal.metadata .category span:after { content: ","; }\n-.vevent .horizontal.metadata .category span:last-child:after { content: ""; }\n-\n-.vevent .timezone {\n-    display:block;\n-    margin-top:0.5em;\n-    padding:0.2em 0;\n-    background-color:#ffe;\n-    color:#354;\n-    width:100%;\n-}\n-\n-.vevent .timerange, .vevent .timezone {\n-    font-size:85%;\n-    line-height:1em;\n-    white-space:nowrap;\n-}\n-\n-.vevent .datedisplay {\n-    line-height:1.5em;\n-    margin-bottom:0.2em;\n-    /*font-weight:bold;*/\n-    font-size:100%;\n-}\n-\n-.vevent abbr.dtstart {\n-    /*font-weight:bold;*/\n-}\n-/* END COMMON EVENT STYLES */\n-\n-\n-/* BEGIN EVENT LISTING STYLES */\n-.template-event_listing .documentFirstHeading {\n-    position: relative;\n-}\n-.template-event_listing .documentFirstHeading nav {\n-    font-size: 14px;\n-    position: absolute;\n-    right: 0;\n-    bottom: 13px;\n-}\n-.template-event_listing .documentFirstHeading nav ul {\n-    margin:0;\n-    list-style-type:none;\n-}\n-.template-event_listing ul.mode_selector {\n-    display: block;\n-    margin-left: 0;\n-    list-style-type: none;\n-}\n-.template-event_listing ul.mode_selector li {\n-    display: inline;\n-}\n-.template-event_listing nav ul.mode_selector li a {\n-    display: inline-block;\n-    margin-left: 0.5em;\n-}\n-.template-event_listing nav ul.mode_selector li a:hover,\n-.template-event_listing nav ul.mode_selector li a:focus {\n-    text-decoration: underline;\n-    border-bottom: 0;\n-}\n-\n-/* END EVENT LISTING STYLES */\n-\n-\n-\n-/* BEGIN PORTLET CALENDAR */\n-.portletCalendar {\n-    width: auto;\n-    margin: 1px 0 1em 0;\n-}\n-\n-.portletCalendar dt {\n-    background-color: #eee;\n-    font-weight: bold;\n-    text-align: center;\n-    line-height: 1.6em;\n-    border-bottom: none;\n-}\n-\n-.portletCalendar dd {\n-    margin: 0;\n-    padding: 0;\n-}\n-\n-.portletCalendar dt a.calendarPrevious {\n-    float: left;\n-    padding: 0 1em;\n-    margin: 0 -.5em;\n-}\n-\n-.portletCalendar dt a.calendarNext {\n-    float: right;\n-    padding: 0 1em;\n-    margin: 0 -.5em;\n-}\n-\n-.portletCalendar a.calendarNext,.portletCalendar a.calendarPrevious{\n-    color:inherit;\n-}\n-\n-.portletCalendar a, .portletCalendar a:focus,\n-.portletCalendar a, .portletCalendar a:hover,\n-.ploneCalendar a {\n-    text-decoration: none;\n-    border-bottom: none !important;\n-}\n-\n-.ploneCalendar {\n-    border-spacing: 0;\n-    width:100%;\n-}\n-\n-.ploneCalendar td {\n-    background-color: transparent;\n-    width: 14%;\n-    text-align: center;\n-    padding: 2px;\n-    border: 2px solid #eee;\n-    background-color: #eee;\n-}\n-\n-.ploneCalendar .weekdays th {\n-    background-color: #eee;\n-    text-align: center;\n-    padding: 2px;\n-}\n-\n-.ploneCalendar .event {\n-    background-color: #eee;\n-}\n-\n-.ploneCalendar .todayevent {\n-    background-color: #eee;\n-    border: 2px solid #205C90;\n-}\n-\n-.ploneCalendar .todaynoevent {\n-    border: 2px solid #205C90;\n-}\n-\n-/* additional to sunburst */\n-.ploneCalendar td.today {\n-    background-color: white;\n-    border-color: #205C90;\n-}\n-.ploneCalendar td:hover { background-color: white; }\n-.ploneCalendar td a {\n-    display:inline-block;\n-    width:100%;\n-    height:100%;\n-}\n-\n-/* grey out prev/next month incl. links and background */\n-.ploneCalendar td.cal_prev_month,\n-.ploneCalendar td.cal_next_month {\n-    opacity:0.4;\n-}\n-\n-/* tooltip styling. by default the element to be styled is .tooltip  */\n-.pae_calendar_tooltip {\n-    display:none;\n-    background-color:white;\n-    border:1px solid black;\n-    border-radius:0.3em;\n-    box-shadow: 0.1em 0.1em 0.1em black;\n-    font-size:80%;\n-    padding:10px;\n-    margin:10px;\n-    max-width: 30em;\n-    z-index: 10;\n-}\n-.pae_calendar_tooltip a {\n-    color:black;\n-    display:block;\n-    width:100%;\n-}\n-.pae_calendar_tooltip a:hover { color:blue; }\n-.pae_calendar_tooltip a .title { font-weight:bold; }\n-\n-/* END PORTLET CALENDAR */\ndiff --git a/plone/app/event/browser/resources/icon_export_ical.png b/plone/app/event/browser/resources/icon_export_ical.png\ndeleted file mode 100644\nindex df034b20..00000000\nBinary files a/plone/app/event/browser/resources/icon_export_ical.png and /dev/null differ\ndiff --git a/plone/app/event/profiles/default/cssregistry.xml b/plone/app/event/profiles/default/cssregistry.xml\ndeleted file mode 100644\nindex 8a662965..00000000\n--- a/plone/app/event/profiles/default/cssregistry.xml\n+++ /dev/null\n@@ -1,8 +0,0 @@\n-<?xml version="1.0"?>\n-<object name="portal_css">\n- <stylesheet title=""\n-    id="++resource++plone.app.event/event.css"\n-    media="screen" rel="stylesheet" rendering="link"\n-    cacheable="True" compression="safe" cookable="True"\n-    enabled="True" expression="" />\n-</object>\ndiff --git a/plone/app/event/profiles/default/jsregistry.xml b/plone/app/event/profiles/default/jsregistry.xml\ndeleted file mode 100644\nindex 2704c918..00000000\n--- a/plone/app/event/profiles/default/jsregistry.xml\n+++ /dev/null\n@@ -1,13 +0,0 @@\n-<?xml version="1.0"?>\n-<object name="portal_javascripts" meta_type="JavaScripts Registry">\n-\n-  <javascript\n-      cacheable="True"\n-      compression="safe"\n-      cookable="True"\n-      enabled="True"\n-      id="++resource++plone.app.event/event.js"\n-      inline="False"\n-      />\n-\n-</object>\ndiff --git a/plone/app/event/profiles/default/registry.xml b/plone/app/event/profiles/default/registry.xml\nnew file mode 100644\nindex 00000000..d61b9cdd\n--- /dev/null\n+++ b/plone/app/event/profiles/default/registry.xml\n@@ -0,0 +1,16 @@\n+<?xml version="1.0"?>\n+<registry>\n+\n+  <records prefix="plone.resources/plone-app-event"\n+            interface=\'Products.CMFPlone.interfaces.IResourceRegistry\'>\n+      <value key="js">++plone++plone.app.event/event.js</value>\n+  </records>\n+  <records prefix="plone.bundles/plone-legacy"\n+            interface=\'Products.CMFPlone.interfaces.IBundleRegistry\'>\n+    <value key="resources" purge="false">\n+      <element>plone-app-event</element>\n+    </value>\n+    <value key="last_compilation"></value>\n+  </records>\n+\n+</registry>\ndiff --git a/setup.py b/setup.py\nindex 8aa5ae22..81cf1fce 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -4,7 +4,7 @@\n import os\n \n \n-version = \'3.1.2.dev0\'\n+version = \'3.2.0.dev0\'\n \n \n setup(\n'

