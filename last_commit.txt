Repository: plone.app.layout


Branch: refs/heads/master
Date: 2020-02-15T13:25:17+01:00
Author: ale-rt (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/plone.app.layout/commit/db130d6388964053ac5585f2c1b723fd1b090432

Remove deprecation warnings

Fixes #233

Files changed:
A news/233.bugfix
M plone/app/layout/globals/portal.py
M plone/app/layout/globals/tests/test_portal.py
M plone/app/layout/viewlets/common.py

b'diff --git a/news/233.bugfix b/news/233.bugfix\nnew file mode 100644\nindex 00000000..865a87f9\n--- /dev/null\n+++ b/news/233.bugfix\n@@ -0,0 +1 @@\n+Remove deprecation warnings [ale-rt]\ndiff --git a/plone/app/layout/globals/portal.py b/plone/app/layout/globals/portal.py\nindex eeea7180..321c7b68 100644\n--- a/plone/app/layout/globals/portal.py\n+++ b/plone/app/layout/globals/portal.py\n@@ -3,12 +3,12 @@\n from Acquisition import aq_inner\n from plone.app.layout.navigation.root import getNavigationRoot\n from plone.app.layout.navigation.root import getNavigationRootObject\n+from plone.i18n.interfaces import ILanguageSchema\n from plone.memoize.view import memoize\n from plone.memoize.view import memoize_contextless\n from plone.registry.interfaces import IRegistry\n from Products.CMFCore.interfaces import ISiteRoot\n from Products.CMFCore.utils import getToolByName\n-from Products.CMFPlone.interfaces import ILanguageSchema\n from Products.CMFPlone.interfaces import ISearchSchema\n from Products.CMFPlone.interfaces import ISiteSchema\n from Products.Five.browser import BrowserView\ndiff --git a/plone/app/layout/globals/tests/test_portal.py b/plone/app/layout/globals/tests/test_portal.py\nindex f5ff1dbe..3b8e4fa2 100644\n--- a/plone/app/layout/globals/tests/test_portal.py\n+++ b/plone/app/layout/globals/tests/test_portal.py\n@@ -5,8 +5,8 @@\n from plone.app.testing import setRoles\n from plone.app.testing import TEST_USER_ID\n from plone.app.testing.helpers import logout\n+from plone.i18n.interfaces import ILanguageSchema\n from plone.registry.interfaces import IRegistry\n-from Products.CMFPlone.interfaces import ILanguageSchema\n from Products.CMFPlone.interfaces import ISearchSchema\n from Products.CMFPlone.interfaces import ISiteSchema\n from zope.component import getUtility\ndiff --git a/plone/app/layout/viewlets/common.py b/plone/app/layout/viewlets/common.py\nindex 770b8692..6fc1caa4 100644\n--- a/plone/app/layout/viewlets/common.py\n+++ b/plone/app/layout/viewlets/common.py\n@@ -8,6 +8,7 @@\n from plone.app.layout.globals.interfaces import IViewView\n from plone.app.layout.navigation.root import getNavigationRoot\n from plone.app.layout.navigation.root import getNavigationRootObject\n+from plone.i18n.interfaces import ILanguageSchema\n from plone.memoize.view import memoize\n from plone.memoize.view import memoize_contextless\n from plone.protect.utils import addTokenToUrl\n@@ -16,7 +17,6 @@\n from Products.CMFPlone.interfaces import IPloneSiteRoot\n from Products.CMFPlone.interfaces import ISearchSchema\n from Products.CMFPlone.interfaces import ISiteSchema\n-from Products.CMFPlone.interfaces.controlpanel import ILanguageSchema\n from Products.CMFPlone.interfaces.controlpanel import INavigationSchema\n from Products.CMFPlone.utils import getSiteLogo\n from Products.CMFPlone.utils import safe_unicode\n'

Repository: plone.app.layout


Branch: refs/heads/master
Date: 2020-02-15T15:22:22+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.layout/commit/19650d36f451848c2ccf118aa058e6ba94c29355

Merge pull request #234 from plone/fix-deprecation

Remove deprecation warnings

Files changed:
A news/233.bugfix
M plone/app/layout/globals/portal.py
M plone/app/layout/globals/tests/test_portal.py
M plone/app/layout/viewlets/common.py

b'diff --git a/news/233.bugfix b/news/233.bugfix\nnew file mode 100644\nindex 00000000..865a87f9\n--- /dev/null\n+++ b/news/233.bugfix\n@@ -0,0 +1 @@\n+Remove deprecation warnings [ale-rt]\ndiff --git a/plone/app/layout/globals/portal.py b/plone/app/layout/globals/portal.py\nindex eeea7180..321c7b68 100644\n--- a/plone/app/layout/globals/portal.py\n+++ b/plone/app/layout/globals/portal.py\n@@ -3,12 +3,12 @@\n from Acquisition import aq_inner\n from plone.app.layout.navigation.root import getNavigationRoot\n from plone.app.layout.navigation.root import getNavigationRootObject\n+from plone.i18n.interfaces import ILanguageSchema\n from plone.memoize.view import memoize\n from plone.memoize.view import memoize_contextless\n from plone.registry.interfaces import IRegistry\n from Products.CMFCore.interfaces import ISiteRoot\n from Products.CMFCore.utils import getToolByName\n-from Products.CMFPlone.interfaces import ILanguageSchema\n from Products.CMFPlone.interfaces import ISearchSchema\n from Products.CMFPlone.interfaces import ISiteSchema\n from Products.Five.browser import BrowserView\ndiff --git a/plone/app/layout/globals/tests/test_portal.py b/plone/app/layout/globals/tests/test_portal.py\nindex f5ff1dbe..3b8e4fa2 100644\n--- a/plone/app/layout/globals/tests/test_portal.py\n+++ b/plone/app/layout/globals/tests/test_portal.py\n@@ -5,8 +5,8 @@\n from plone.app.testing import setRoles\n from plone.app.testing import TEST_USER_ID\n from plone.app.testing.helpers import logout\n+from plone.i18n.interfaces import ILanguageSchema\n from plone.registry.interfaces import IRegistry\n-from Products.CMFPlone.interfaces import ILanguageSchema\n from Products.CMFPlone.interfaces import ISearchSchema\n from Products.CMFPlone.interfaces import ISiteSchema\n from zope.component import getUtility\ndiff --git a/plone/app/layout/viewlets/common.py b/plone/app/layout/viewlets/common.py\nindex 770b8692..6fc1caa4 100644\n--- a/plone/app/layout/viewlets/common.py\n+++ b/plone/app/layout/viewlets/common.py\n@@ -8,6 +8,7 @@\n from plone.app.layout.globals.interfaces import IViewView\n from plone.app.layout.navigation.root import getNavigationRoot\n from plone.app.layout.navigation.root import getNavigationRootObject\n+from plone.i18n.interfaces import ILanguageSchema\n from plone.memoize.view import memoize\n from plone.memoize.view import memoize_contextless\n from plone.protect.utils import addTokenToUrl\n@@ -16,7 +17,6 @@\n from Products.CMFPlone.interfaces import IPloneSiteRoot\n from Products.CMFPlone.interfaces import ISearchSchema\n from Products.CMFPlone.interfaces import ISiteSchema\n-from Products.CMFPlone.interfaces.controlpanel import ILanguageSchema\n from Products.CMFPlone.interfaces.controlpanel import INavigationSchema\n from Products.CMFPlone.utils import getSiteLogo\n from Products.CMFPlone.utils import safe_unicode\n'

