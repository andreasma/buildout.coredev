Repository: plone.formwidget.autocomplete


Branch: refs/heads/master
Date: 2019-12-16T14:10:03+01:00
Author: Laurent Lasudry (laulaz) <lasudry@gmail.com>
Commit: https://github.com/plone/plone.formwidget.autocomplete/commit/2e5a0b33ec16861867d324ada5f0c1d134b98c64

Add Plone 5 compatibility

Files changed:
A plone/formwidget/autocomplete/profiles/plone4/cssregistry.xml
A plone/formwidget/autocomplete/profiles/plone4/jsregistry.xml
A plone/formwidget/autocomplete/profiles/plone4/metadata.xml
A plone/formwidget/autocomplete/profiles/plone5/metadata.xml
A plone/formwidget/autocomplete/profiles/plone5/registry.xml
A plone/formwidget/autocomplete/profiles/uninstall/registry.xml
M CHANGES.rst
M plone/formwidget/autocomplete/configure.zcml
M setup.py
D plone/formwidget/autocomplete/profiles/default/cssregistry.xml
D plone/formwidget/autocomplete/profiles/default/jsregistry.xml
D plone/formwidget/autocomplete/profiles/default/metadata.xml

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex fb647f8..b46252c 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -6,7 +6,8 @@ Changelog\n \n Breaking changes:\n \n-- *add item here*\n+- Add Plone 5 compatibility\n+  [laulaz]\n \n New features:\n \ndiff --git a/plone/formwidget/autocomplete/configure.zcml b/plone/formwidget/autocomplete/configure.zcml\nindex 1a70e1c..14c56e0 100644\n--- a/plone/formwidget/autocomplete/configure.zcml\n+++ b/plone/formwidget/autocomplete/configure.zcml\n@@ -1,5 +1,6 @@\n <configure\n     xmlns="http://namespaces.zope.org/zope"\n+    xmlns:zcml="http://namespaces.zope.org/zcml"\n     xmlns:browser="http://namespaces.zope.org/browser"\n     xmlns:gs="http://namespaces.zope.org/genericsetup"\n     i18n_domain="plone">\n@@ -21,9 +22,18 @@\n         />\n \n     <gs:registerProfile\n+        zcml:condition="not-have plone-5"\n         name="default"\n         title="Autocomplete widget"\n-        directory="profiles/default"\n+        directory="profiles/plone4"\n+        for="Products.CMFPlone.interfaces.IPloneSiteRoot"\n+        provides="Products.GenericSetup.interfaces.EXTENSION"\n+        />\n+    <gs:registerProfile\n+        zcml:condition="have plone-5"\n+        name="default"\n+        title="Autocomplete widget"\n+        directory="profiles/plone5"\n         for="Products.CMFPlone.interfaces.IPloneSiteRoot"\n         provides="Products.GenericSetup.interfaces.EXTENSION"\n         />\ndiff --git a/plone/formwidget/autocomplete/profiles/default/cssregistry.xml b/plone/formwidget/autocomplete/profiles/plone4/cssregistry.xml\nsimilarity index 100%\nrename from plone/formwidget/autocomplete/profiles/default/cssregistry.xml\nrename to plone/formwidget/autocomplete/profiles/plone4/cssregistry.xml\ndiff --git a/plone/formwidget/autocomplete/profiles/default/jsregistry.xml b/plone/formwidget/autocomplete/profiles/plone4/jsregistry.xml\nsimilarity index 100%\nrename from plone/formwidget/autocomplete/profiles/default/jsregistry.xml\nrename to plone/formwidget/autocomplete/profiles/plone4/jsregistry.xml\ndiff --git a/plone/formwidget/autocomplete/profiles/default/metadata.xml b/plone/formwidget/autocomplete/profiles/plone4/metadata.xml\nsimilarity index 100%\nrename from plone/formwidget/autocomplete/profiles/default/metadata.xml\nrename to plone/formwidget/autocomplete/profiles/plone4/metadata.xml\ndiff --git a/plone/formwidget/autocomplete/profiles/plone5/metadata.xml b/plone/formwidget/autocomplete/profiles/plone5/metadata.xml\nnew file mode 100644\nindex 0000000..cf4492a\n--- /dev/null\n+++ b/plone/formwidget/autocomplete/profiles/plone5/metadata.xml\n@@ -0,0 +1,4 @@\n+<?xml version="1.0"?>\n+<metadata>\n+  <version>1</version>\n+</metadata>\ndiff --git a/plone/formwidget/autocomplete/profiles/plone5/registry.xml b/plone/formwidget/autocomplete/profiles/plone5/registry.xml\nnew file mode 100644\nindex 0000000..c188168\n--- /dev/null\n+++ b/plone/formwidget/autocomplete/profiles/plone5/registry.xml\n@@ -0,0 +1,30 @@\n+<?xml version="1.0"?>\n+<registry>\n+\n+  <records prefix="plone.resources/formwidget-autocomplete-jquery"\n+           interface=\'Products.CMFPlone.interfaces.IResourceRegistry\'>\n+    <value key="css">\n+      <element>++resource++plone.formwidget.autocomplete/jquery.autocomplete.css</element>\n+    </value>\n+    <value key="js">++resource++plone.formwidget.autocomplete/jquery.autocomplete.min.js</value>\n+  </records>\n+\n+  <records prefix="plone.resources/formwidget-autocomplete"\n+           interface=\'Products.CMFPlone.interfaces.IResourceRegistry\'>\n+    <value key="js">++resource++plone.formwidget.autocomplete/formwidget-autocomplete.js</value>\n+  </records>\n+\n+  <records prefix="plone.bundles/formwidget-autocomplete"\n+           interface=\'Products.CMFPlone.interfaces.IBundleRegistry\'>\n+    <value key="resources">\n+      <element>formwidget-autocomplete-jquery</element>\n+      <element>formwidget-autocomplete</element>\n+    </value>\n+    <value key="depends">jquery</value>\n+    <value key="csscompilation">++plone++static/formwidget.autocomplete.min.css</value>\n+    <value key="jscompilation">++plone++static/formwidget.autocomplete.min.js</value>\n+    <value key="compile">False</value>\n+    <value key="enabled">True</value>\n+  </records>\n+\n+</registry>\ndiff --git a/plone/formwidget/autocomplete/profiles/uninstall/registry.xml b/plone/formwidget/autocomplete/profiles/uninstall/registry.xml\nnew file mode 100644\nindex 0000000..90fe896\n--- /dev/null\n+++ b/plone/formwidget/autocomplete/profiles/uninstall/registry.xml\n@@ -0,0 +1,19 @@\n+<?xml version="1.0"?>\n+<registry>\n+\n+  <records prefix="plone.resources/formwidget-autocomplete-jquery"\n+           interface="Products.CMFPlone.interfaces.IResourceRegistry"\n+           remove="true">\n+  </records>\n+\n+  <records prefix="plone.resources/formwidget-autocomplete"\n+           interface="Products.CMFPlone.interfaces.IResourceRegistry"\n+           remove="true">\n+  </records>\n+\n+  <records prefix="plone.bundles/formwidget-autocomplete"\n+           interface="Products.CMFPlone.interfaces.IBundleRegistry"\n+           remove="true">\n+  </records>\n+\n+</registry>\ndiff --git a/setup.py b/setup.py\nindex 670c2ce..2e9486b 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -12,6 +12,8 @@\n           "Framework :: Plone",\n           "Framework :: Plone :: 4.3",\n           "Framework :: Plone :: 5.0",\n+          "Framework :: Plone :: 5.1",\n+          "Framework :: Plone :: 5.2",\n           "Framework :: Zope2",\n           "License :: OSI Approved :: GNU General Public License (GPL)",\n           "Operating System :: OS Independent",\n'

Repository: plone.formwidget.autocomplete


Branch: refs/heads/master
Date: 2019-12-20T10:53:04+01:00
Author: Laurent Lasudry (laulaz) <lasudry@gmail.com>
Commit: https://github.com/plone/plone.formwidget.autocomplete/commit/2612d992d1ec8dada3b13e7a9abb51561fdc92d6

Plone 5 compatibility is not breaking change

Files changed:
M CHANGES.rst

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex b46252c..aa8ce28 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -6,12 +6,12 @@ Changelog\n \n Breaking changes:\n \n-- Add Plone 5 compatibility\n-  [laulaz]\n+- *add item here*\n \n New features:\n \n-- *add item here*\n+- Add Plone 5 compatibility\n+  [laulaz]\n \n Bug fixes:\n \n'

Repository: plone.formwidget.autocomplete


Branch: refs/heads/master
Date: 2019-12-26T01:06:29+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.formwidget.autocomplete/commit/419214adcf578f362307323fbba1fa05928d9500

Merge pull request #25 from affinitic/plone5

Add Plone 5 compatibility

Files changed:
A plone/formwidget/autocomplete/profiles/plone4/cssregistry.xml
A plone/formwidget/autocomplete/profiles/plone4/jsregistry.xml
A plone/formwidget/autocomplete/profiles/plone4/metadata.xml
A plone/formwidget/autocomplete/profiles/plone5/metadata.xml
A plone/formwidget/autocomplete/profiles/plone5/registry.xml
A plone/formwidget/autocomplete/profiles/uninstall/registry.xml
M CHANGES.rst
M plone/formwidget/autocomplete/configure.zcml
M setup.py
D plone/formwidget/autocomplete/profiles/default/cssregistry.xml
D plone/formwidget/autocomplete/profiles/default/jsregistry.xml
D plone/formwidget/autocomplete/profiles/default/metadata.xml

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex fb647f8..aa8ce28 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -10,7 +10,8 @@ Breaking changes:\n \n New features:\n \n-- *add item here*\n+- Add Plone 5 compatibility\n+  [laulaz]\n \n Bug fixes:\n \ndiff --git a/plone/formwidget/autocomplete/configure.zcml b/plone/formwidget/autocomplete/configure.zcml\nindex 1a70e1c..14c56e0 100644\n--- a/plone/formwidget/autocomplete/configure.zcml\n+++ b/plone/formwidget/autocomplete/configure.zcml\n@@ -1,5 +1,6 @@\n <configure\n     xmlns="http://namespaces.zope.org/zope"\n+    xmlns:zcml="http://namespaces.zope.org/zcml"\n     xmlns:browser="http://namespaces.zope.org/browser"\n     xmlns:gs="http://namespaces.zope.org/genericsetup"\n     i18n_domain="plone">\n@@ -21,9 +22,18 @@\n         />\n \n     <gs:registerProfile\n+        zcml:condition="not-have plone-5"\n         name="default"\n         title="Autocomplete widget"\n-        directory="profiles/default"\n+        directory="profiles/plone4"\n+        for="Products.CMFPlone.interfaces.IPloneSiteRoot"\n+        provides="Products.GenericSetup.interfaces.EXTENSION"\n+        />\n+    <gs:registerProfile\n+        zcml:condition="have plone-5"\n+        name="default"\n+        title="Autocomplete widget"\n+        directory="profiles/plone5"\n         for="Products.CMFPlone.interfaces.IPloneSiteRoot"\n         provides="Products.GenericSetup.interfaces.EXTENSION"\n         />\ndiff --git a/plone/formwidget/autocomplete/profiles/default/cssregistry.xml b/plone/formwidget/autocomplete/profiles/plone4/cssregistry.xml\nsimilarity index 100%\nrename from plone/formwidget/autocomplete/profiles/default/cssregistry.xml\nrename to plone/formwidget/autocomplete/profiles/plone4/cssregistry.xml\ndiff --git a/plone/formwidget/autocomplete/profiles/default/jsregistry.xml b/plone/formwidget/autocomplete/profiles/plone4/jsregistry.xml\nsimilarity index 100%\nrename from plone/formwidget/autocomplete/profiles/default/jsregistry.xml\nrename to plone/formwidget/autocomplete/profiles/plone4/jsregistry.xml\ndiff --git a/plone/formwidget/autocomplete/profiles/default/metadata.xml b/plone/formwidget/autocomplete/profiles/plone4/metadata.xml\nsimilarity index 100%\nrename from plone/formwidget/autocomplete/profiles/default/metadata.xml\nrename to plone/formwidget/autocomplete/profiles/plone4/metadata.xml\ndiff --git a/plone/formwidget/autocomplete/profiles/plone5/metadata.xml b/plone/formwidget/autocomplete/profiles/plone5/metadata.xml\nnew file mode 100644\nindex 0000000..cf4492a\n--- /dev/null\n+++ b/plone/formwidget/autocomplete/profiles/plone5/metadata.xml\n@@ -0,0 +1,4 @@\n+<?xml version="1.0"?>\n+<metadata>\n+  <version>1</version>\n+</metadata>\ndiff --git a/plone/formwidget/autocomplete/profiles/plone5/registry.xml b/plone/formwidget/autocomplete/profiles/plone5/registry.xml\nnew file mode 100644\nindex 0000000..c188168\n--- /dev/null\n+++ b/plone/formwidget/autocomplete/profiles/plone5/registry.xml\n@@ -0,0 +1,30 @@\n+<?xml version="1.0"?>\n+<registry>\n+\n+  <records prefix="plone.resources/formwidget-autocomplete-jquery"\n+           interface=\'Products.CMFPlone.interfaces.IResourceRegistry\'>\n+    <value key="css">\n+      <element>++resource++plone.formwidget.autocomplete/jquery.autocomplete.css</element>\n+    </value>\n+    <value key="js">++resource++plone.formwidget.autocomplete/jquery.autocomplete.min.js</value>\n+  </records>\n+\n+  <records prefix="plone.resources/formwidget-autocomplete"\n+           interface=\'Products.CMFPlone.interfaces.IResourceRegistry\'>\n+    <value key="js">++resource++plone.formwidget.autocomplete/formwidget-autocomplete.js</value>\n+  </records>\n+\n+  <records prefix="plone.bundles/formwidget-autocomplete"\n+           interface=\'Products.CMFPlone.interfaces.IBundleRegistry\'>\n+    <value key="resources">\n+      <element>formwidget-autocomplete-jquery</element>\n+      <element>formwidget-autocomplete</element>\n+    </value>\n+    <value key="depends">jquery</value>\n+    <value key="csscompilation">++plone++static/formwidget.autocomplete.min.css</value>\n+    <value key="jscompilation">++plone++static/formwidget.autocomplete.min.js</value>\n+    <value key="compile">False</value>\n+    <value key="enabled">True</value>\n+  </records>\n+\n+</registry>\ndiff --git a/plone/formwidget/autocomplete/profiles/uninstall/registry.xml b/plone/formwidget/autocomplete/profiles/uninstall/registry.xml\nnew file mode 100644\nindex 0000000..90fe896\n--- /dev/null\n+++ b/plone/formwidget/autocomplete/profiles/uninstall/registry.xml\n@@ -0,0 +1,19 @@\n+<?xml version="1.0"?>\n+<registry>\n+\n+  <records prefix="plone.resources/formwidget-autocomplete-jquery"\n+           interface="Products.CMFPlone.interfaces.IResourceRegistry"\n+           remove="true">\n+  </records>\n+\n+  <records prefix="plone.resources/formwidget-autocomplete"\n+           interface="Products.CMFPlone.interfaces.IResourceRegistry"\n+           remove="true">\n+  </records>\n+\n+  <records prefix="plone.bundles/formwidget-autocomplete"\n+           interface="Products.CMFPlone.interfaces.IBundleRegistry"\n+           remove="true">\n+  </records>\n+\n+</registry>\ndiff --git a/setup.py b/setup.py\nindex 670c2ce..2e9486b 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -12,6 +12,8 @@\n           "Framework :: Plone",\n           "Framework :: Plone :: 4.3",\n           "Framework :: Plone :: 5.0",\n+          "Framework :: Plone :: 5.1",\n+          "Framework :: Plone :: 5.2",\n           "Framework :: Zope2",\n           "License :: OSI Approved :: GNU General Public License (GPL)",\n           "Operating System :: OS Independent",\n'

