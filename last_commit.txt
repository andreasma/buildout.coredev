Repository: Products.Archetypes


Branch: refs/heads/master
Date: 2018-09-22T16:47:40+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/Products.Archetypes/commit/1be0e86b2f6774e254433da058a3faace4e952ae

Switch to new testcase using AT after PloneTestcase is now DX

Files changed:
M CHANGES.rst
M Products/Archetypes/tests/attestcase.py
M Products/Archetypes/tests/test_date_components_support_script.py
M Products/Archetypes/tests/test_interfaces.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 0df068b7..24846599 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Switch to new TestCase using AT after PloneTestcase is now DX.\n+  [pbauer]\n \n \n 1.15.3 (2018-06-18)\ndiff --git a/Products/Archetypes/tests/attestcase.py b/Products/Archetypes/tests/attestcase.py\nindex 4a771bc0..96756869 100644\n--- a/Products/Archetypes/tests/attestcase.py\n+++ b/Products/Archetypes/tests/attestcase.py\n@@ -1,4 +1,4 @@\n-from plone.app.testing import bbb\n+from plone.app.testing import bbb_at\n from plone.app.testing import FunctionalTesting, applyProfile\n from Products.GenericSetup import EXTENSION, profile_registry\n \n@@ -12,9 +12,9 @@ def setupSampleTypeProfile():\n                                      EXTENSION)\n \n \n-class ATTestCaseFixture(bbb.PloneTestCaseFixture):\n+class ATTestCaseFixture(bbb_at.PloneTestCaseFixture):\n \n-    defaultBases = (bbb.PTC_FIXTURE,)\n+    defaultBases = (bbb_at.PTC_FIXTURE,)\n \n     def setUpZope(self, app, configurationContext):\n         setupSampleTypeProfile()\n@@ -30,7 +30,7 @@ def setUpPloneSite(self, portal):\n                                           name=\'Archetypes:Functional\')\n \n \n-class ATTestCase(bbb.PloneTestCase):\n+class ATTestCase(bbb_at.PloneTestCase):\n     """Simple AT test case\n     """\n \ndiff --git a/Products/Archetypes/tests/test_date_components_support_script.py b/Products/Archetypes/tests/test_date_components_support_script.py\nindex 12edd381..cc310102 100644\n--- a/Products/Archetypes/tests/test_date_components_support_script.py\n+++ b/Products/Archetypes/tests/test_date_components_support_script.py\n@@ -1,5 +1,5 @@\n # -*- coding: utf-8 -*-\n-from plone.app.testing.bbb import PloneTestCase\n+from plone.app.testing.bbb_at import PloneTestCase\n \n from DateTime import DateTime\n \ndiff --git a/Products/Archetypes/tests/test_interfaces.py b/Products/Archetypes/tests/test_interfaces.py\nindex 312c13c3..c3d2c1e8 100644\n--- a/Products/Archetypes/tests/test_interfaces.py\n+++ b/Products/Archetypes/tests/test_interfaces.py\n@@ -48,7 +48,7 @@\n     StorageLayer, AttributeStorage, ObjectManagedStorage, MetadataStorage\n from Products.Archetypes.atapi import registerType\n \n-from plone.app.testing.bbb import PTC_FUNCTIONAL_TESTING\n+from plone.app.testing.bbb_at import PTC_FUNCTIONAL_TESTING\n \n \n def className(klass):\n'

Repository: Products.Archetypes


Branch: refs/heads/master
Date: 2018-09-27T15:10:27+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/Products.Archetypes/commit/be499a002adddcc2ec73240e528f641ff8b245c8

Merge pull request #111 from plone/testlayer

Switch to new testcase using AT after PloneTestcase is now DX

Files changed:
M CHANGES.rst
M Products/Archetypes/tests/attestcase.py
M Products/Archetypes/tests/test_date_components_support_script.py
M Products/Archetypes/tests/test_interfaces.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 0df068b7..24846599 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Switch to new TestCase using AT after PloneTestcase is now DX.\n+  [pbauer]\n \n \n 1.15.3 (2018-06-18)\ndiff --git a/Products/Archetypes/tests/attestcase.py b/Products/Archetypes/tests/attestcase.py\nindex 4a771bc0..96756869 100644\n--- a/Products/Archetypes/tests/attestcase.py\n+++ b/Products/Archetypes/tests/attestcase.py\n@@ -1,4 +1,4 @@\n-from plone.app.testing import bbb\n+from plone.app.testing import bbb_at\n from plone.app.testing import FunctionalTesting, applyProfile\n from Products.GenericSetup import EXTENSION, profile_registry\n \n@@ -12,9 +12,9 @@ def setupSampleTypeProfile():\n                                      EXTENSION)\n \n \n-class ATTestCaseFixture(bbb.PloneTestCaseFixture):\n+class ATTestCaseFixture(bbb_at.PloneTestCaseFixture):\n \n-    defaultBases = (bbb.PTC_FIXTURE,)\n+    defaultBases = (bbb_at.PTC_FIXTURE,)\n \n     def setUpZope(self, app, configurationContext):\n         setupSampleTypeProfile()\n@@ -30,7 +30,7 @@ def setUpPloneSite(self, portal):\n                                           name=\'Archetypes:Functional\')\n \n \n-class ATTestCase(bbb.PloneTestCase):\n+class ATTestCase(bbb_at.PloneTestCase):\n     """Simple AT test case\n     """\n \ndiff --git a/Products/Archetypes/tests/test_date_components_support_script.py b/Products/Archetypes/tests/test_date_components_support_script.py\nindex 12edd381..cc310102 100644\n--- a/Products/Archetypes/tests/test_date_components_support_script.py\n+++ b/Products/Archetypes/tests/test_date_components_support_script.py\n@@ -1,5 +1,5 @@\n # -*- coding: utf-8 -*-\n-from plone.app.testing.bbb import PloneTestCase\n+from plone.app.testing.bbb_at import PloneTestCase\n \n from DateTime import DateTime\n \ndiff --git a/Products/Archetypes/tests/test_interfaces.py b/Products/Archetypes/tests/test_interfaces.py\nindex 312c13c3..c3d2c1e8 100644\n--- a/Products/Archetypes/tests/test_interfaces.py\n+++ b/Products/Archetypes/tests/test_interfaces.py\n@@ -48,7 +48,7 @@\n     StorageLayer, AttributeStorage, ObjectManagedStorage, MetadataStorage\n from Products.Archetypes.atapi import registerType\n \n-from plone.app.testing.bbb import PTC_FUNCTIONAL_TESTING\n+from plone.app.testing.bbb_at import PTC_FUNCTIONAL_TESTING\n \n \n def className(klass):\n'

