Repository: plone.batching


Branch: refs/heads/master
Date: 2018-09-22T14:27:49+02:00
Author: ale-rt (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/plone.batching/commit/47e4bf6910f17c2b07a2b8f10cc928980a7a8b5f

Fix navlist different in Python2 and Python 3

Fixes #21

Files changed:
M CHANGES.rst
M plone/batching/batch.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 7335394..73059f3 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,6 +14,8 @@ New features:\n \n Bug fixes:\n \n+- Fix navlist different in Python2 and Python 3 (Refs. #21)\n+  [ale-rt]\n - Python 3 fixes.\n   [thet]\n \ndiff --git a/plone/batching/batch.py b/plone/batching/batch.py\nindex 710642d..f0c8fca 100644\n--- a/plone/batching/batch.py\n+++ b/plone/batching/batch.py\n@@ -78,7 +78,8 @@ def initialize(self, start, end, size):\n     @property\n     def navlist(self):\n         """ Pagenumber list for creating batch links """\n-        start = int(max(self.pagenumber - round(self.pagerange / 2), 1))\n+\n+        start = int(max(self.pagenumber - self.pagerange // 2, 1))\n         end = int(min(start + self.pagerange - 1, self.lastpage))\n         return range(start, end + 1)\n \n'

Repository: plone.batching


Branch: refs/heads/master
Date: 2018-09-26T09:08:46+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.batching/commit/0d746abfadf815708d0e6ab6b057fce497f6becb

Merge pull request #23 from plone/21-fix-navlist

Fix navlist different in Python2 and Python 3

Files changed:
M CHANGES.rst
M plone/batching/batch.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 7335394..73059f3 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,6 +14,8 @@ New features:\n \n Bug fixes:\n \n+- Fix navlist different in Python2 and Python 3 (Refs. #21)\n+  [ale-rt]\n - Python 3 fixes.\n   [thet]\n \ndiff --git a/plone/batching/batch.py b/plone/batching/batch.py\nindex 710642d..f0c8fca 100644\n--- a/plone/batching/batch.py\n+++ b/plone/batching/batch.py\n@@ -78,7 +78,8 @@ def initialize(self, start, end, size):\n     @property\n     def navlist(self):\n         """ Pagenumber list for creating batch links """\n-        start = int(max(self.pagenumber - round(self.pagerange / 2), 1))\n+\n+        start = int(max(self.pagenumber - self.pagerange // 2, 1))\n         end = int(min(start + self.pagerange - 1, self.lastpage))\n         return range(start, end + 1)\n \n'

