Repository: mockup


Branch: refs/heads/master
Date: 2018-05-29T14:24:28-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/e6b40c3ce8e9a7c55590980644e94102278b7386

Make sure rearranging items is disabled when filtering

Files changed:
M CHANGES.rst
M mockup/patterns/structure/js/views/app.js
M mockup/patterns/structure/js/views/textfilter.js

b"diff --git a/CHANGES.rst b/CHANGES.rst\nindex 83097a4f..d9316c53 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -16,6 +16,9 @@ New features:\n \n Bug fixes:\n \n+- pat-structure: When doing a search to filter items, disable reordering\n+  [frapell]\n+\n - pat-contentloader: When the content which replaces the target is empty, empty the target instead of removing it.\n   This fixes a problem, where an empty result didn't did remove the ability to successfully replace the target for subsequent content loads.\n   [thet]\ndiff --git a/mockup/patterns/structure/js/views/app.js b/mockup/patterns/structure/js/views/app.js\nindex 85a87a23..0a89760a 100644\n--- a/mockup/patterns/structure/js/views/app.js\n+++ b/mockup/patterns/structure/js/views/app.js\n@@ -242,6 +242,12 @@ define([\n       }\n     },\n     inQueryMode: function() {\n+      if (this.toolbar) {\n+          var term = this.toolbar.get('filter').term;\n+          if (term){\n+            return true;\n+          }\n+      }\n       if (this.additionalCriterias.length > 0) {\n         return true;\n       }\n@@ -474,12 +480,14 @@ define([\n       }\n       // still need to manually set in case rendering isn't done(especially true for tests)\n       var $status = this.$('.status');\n-      $status[0].className = 'alert alert-' + this.status.type + ' status';\n-      var $text = $('<span></span>');\n-      $text.text(this.status.text);\n-      var $label = $('<strong></strong>');\n-      $label.text(this.status.label);\n-      $status.empty().append($label).append($text);\n+      if ($status.length > 0){\n+          $status[0].className = 'alert alert-' + this.status.type + ' status';\n+          var $text = $('<span></span>');\n+          $text.text(this.status.text);\n+          var $label = $('<strong></strong>');\n+          $label.text(this.status.label);\n+          $status.empty().append($label).append($text);\n+      }\n     },\n     render: function() {\n       var self = this;\ndiff --git a/mockup/patterns/structure/js/views/textfilter.js b/mockup/patterns/structure/js/views/textfilter.js\nindex 4136ab0a..b67e9d6f 100644\n--- a/mockup/patterns/structure/js/views/textfilter.js\n+++ b/mockup/patterns/structure/js/views/textfilter.js\n@@ -96,6 +96,11 @@ define([\n         self.term = $(event.currentTarget).val();\n         self.app.collection.currentPage = 1;\n         self.app.collection.pager();\n+\n+        if (!self.term){\n+            self.app.setStatus();\n+        }\n+\n       }, this.keyupDelay);\n     }\n   });\n"

Repository: mockup


Branch: refs/heads/master
Date: 2018-05-29T14:26:05-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/a6493c9b27153c5ec60365cf7f7370b8261ad19d

Add new DataTables pattern

Files changed:
A mockup/patterns/datatables/pattern.datatables.less
A mockup/patterns/datatables/pattern.js
M CHANGES.rst
M bower.json
M mockup/js/bundles/docs.js
M mockup/js/bundles/plone.js
M mockup/js/bundles/structure.js
M mockup/js/config.js
M mockup/less/docs.less
M mockup/less/structure.less
M mockup/less/widgets.less

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex d9316c53..1d5de798 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -10,6 +10,10 @@ Breaking changes:\n \n New features:\n \n+- Add a new pattern, to provide the DataTables functionality\n+  https://datatables.net/\n+  [frapell]\n+\n - Mark special links: Mark external link with rel="noopener"\n   https://developers.google.com/web/tools/lighthouse/audits/noopener\n   [mamico]\ndiff --git a/bower.json b/bower.json\nindex df959f74..bff753fa 100644\n--- a/bower.json\n+++ b/bower.json\n@@ -7,6 +7,28 @@\n     "backbone.paginator": "0.8.1",\n     "bootstrap": "3.3.6",\n     "console-polyfill": "0.2.2",\n+    "datatables.net": "1.10.16",\n+    "datatables.net-bs": "1.10.16",\n+    "datatables.net-autofill": "2.2.2",\n+    "datatables.net-autofill-bs": "2.2.2",\n+    "datatables.net-buttons": "1.4.2",\n+    "datatables.net-buttons-bs": "1.4.2",\n+    "datatables.net-colreorder": "1.4.1",\n+    "datatables.net-colreorder-bs": "1.4.1",\n+    "datatables.net-fixedcolumns": "3.2.3",\n+    "datatables.net-fixedcolumns-bs": "3.2.3",\n+    "datatables.net-fixedheader": "3.1.3",\n+    "datatables.net-fixedheader-bs": "3.1.3",\n+    "datatables.net-keytable": "2.3.2",\n+    "datatables.net-keytable-bs": "2.3.2",\n+    "datatables.net-responsive": "2.2.0",\n+    "datatables.net-responsive-bs": "2.2.0",\n+    "datatables.net-rowreorder": "1.2.3",\n+    "datatables.net-rowreorder-bs": "1.2.3",\n+    "datatables.net-scroller": "1.4.3",\n+    "datatables.net-scroller-bs": "1.4.3",\n+    "datatables.net-select": "1.2.3",\n+    "datatables.net-select-bs": "1.2.3",\n     "dropzone": "4.3.0",\n     "es5-shim": "4.5.9",\n     "jqtree": "1.4.1",\ndiff --git a/mockup/js/bundles/docs.js b/mockup/js/bundles/docs.js\nindex 22e6d658..7c94e7e8 100644\n--- a/mockup/js/bundles/docs.js\n+++ b/mockup/js/bundles/docs.js\n@@ -36,6 +36,7 @@ require([\n           { id: \'backdrop\',                  url: \'patterns/backdrop/pattern.js\',                  title: \'Backdrop\',                    description: \'TODO\'                                                                                      },\n           { id: \'contentloader\',             url: \'patterns/contentloader/pattern.js\',             title: \'Content Loader\',              description: \'Dynamically configure content to be reloaded\'                                              },\n           { id: \'cookietrigger\',             url: \'patterns/cookietrigger/pattern.js\',             title: \'Cookie Trigger\',              description: \'Shows a DOM element if browser cookies are disabled.\'                                      },\n+          { id: \'datatables\',                url: \'patterns/datatables/pattern.js\',                title: \'Datatables\',                  description: \'Advanced interaction controls for Tables.\'                                                 },\n           { id: \'eventedit\',                 url: \'patterns/eventedit/pattern.js\',                 title: \'Event Edit Forms\',            description: \'Start/End delta validation whole day and open end handling\'                                },\n           { id: \'filemanager\',               url: \'patterns/filemanager/pattern.js\',               title: \'File Manager\',                description: \'Manage file system-like resources\'                                                         },\n           { id: \'formautofocus\',             url: \'patterns/formautofocus/pattern.js\',             title: \'Form Auto Focus\',             description: \'TODO\'                                                                                      },\ndiff --git a/mockup/js/bundles/plone.js b/mockup/js/bundles/plone.js\nindex d7abca72..02675ca3 100644\n--- a/mockup/js/bundles/plone.js\n+++ b/mockup/js/bundles/plone.js\n@@ -10,6 +10,7 @@ define([\n   \'mockup-patterns-tinymce\',\n \n   \'mockup-patterns-autotoc\',\n+  \'mockup-patterns-datatables\',\n   \'mockup-patterns-formunloadalert\',\n   \'mockup-patterns-preventdoublesubmit\',\n   \'mockup-patterns-formautofocus\',\ndiff --git a/mockup/js/bundles/structure.js b/mockup/js/bundles/structure.js\nindex 6422eefd..70e2ded8 100644\n--- a/mockup/js/bundles/structure.js\n+++ b/mockup/js/bundles/structure.js\n@@ -7,6 +7,7 @@ if (window.jQuery) {\n \n define([\n   \'jquery\',\n+  \'mockup-patterns-datatables\',\n   \'mockup-patterns-modal\',\n   \'mockup-patterns-structure\'\n ], function($) {\ndiff --git a/mockup/js/config.js b/mockup/js/config.js\nindex bd11b50a..f1a56e33 100644\n--- a/mockup/js/config.js\n+++ b/mockup/js/config.js\n@@ -29,6 +29,25 @@\n       \'bootstrap-collapse\': \'bower_components/bootstrap/js/collapse\',\n       \'bootstrap-dropdown\': \'bower_components/bootstrap/js/dropdown\',\n       \'bootstrap-transition\': \'bower_components/bootstrap/js/transition\',\n+      \'datatables.net\': \'bower_components/datatables.net/js/jquery.dataTables.min\',\n+      \'datatables.net-bs\': \'bower_components/datatables.net-bs/js/dataTables.bootstrap.min\',\n+      \'datatables.net-autofill\': \'bower_components/datatables.net-autofill/js/dataTables.autoFill.min\',\n+      \'datatables.net-autofill-bs\': \'bower_components/datatables.net-autofill-bs/js/dataTables.autoFill.min\',\n+      \'datatables.net-buttons\': \'bower_components/datatables.net-buttons/js/dataTables.buttons.min\',\n+      \'datatables.net-buttons-flash\': \'bower_components/datatables.net-buttons/js/buttons.flash.min\',\n+      \'datatables.net-buttons-html5\': \'bower_components/datatables.net-buttons/js/buttons.html5.min\',\n+      \'datatables.net-buttons-print\': \'bower_components/datatables.net-buttons/js/buttons.print.min\',\n+      \'datatables.net-buttons-bs\': \'bower_components/datatables.net-buttons-bs/js/buttons.bootstrap.min\',\n+      \'datatables.net-colreorder\': \'bower_components/datatables.net-colreorder/js/dataTables.colReorder.min\',\n+      \'datatables.net-buttons-colvis\': \'bower_components/datatables.net-buttons/js/buttons.colVis.min\',\n+      \'datatables.net-fixedcolumns\': \'bower_components/datatables.net-fixedcolumns/js/dataTables.fixedColumns.min\',\n+      \'datatables.net-fixedheader\': \'bower_components/datatables.net-fixedheader/js/dataTables.fixedHeader.min\',\n+      \'datatables.net-keytable\': \'bower_components/datatables.net-keytable/js/dataTables.keyTable.min\',\n+      \'datatables.net-responsive\': \'bower_components/datatables.net-responsive/js/dataTables.responsive.min\',\n+      \'datatables.net-responsive-bs\': \'bower_components/datatables.net-responsive-bs/js/responsive.bootstrap.min\',\n+      \'datatables.net-rowreorder\': \'bower_components/datatables.net-rowreorder/js/dataTables.rowReorder.min\',\n+      \'datatables.net-scroller\': \'bower_components/datatables.net-scroller/js/dataTables.scroller.min\',\n+      \'datatables.net-select\': \'bower_components/datatables.net-select/js/dataTables.select.min\',\n       \'docs-contribute\': \'CONTRIBUTE.md\',\n       \'docs-getting-started\': \'GETTING_STARTED.md\',\n       \'docs-learn\': \'LEARN.md\',\n@@ -68,6 +87,7 @@\n       \'mockup-patterns-backdrop\': \'patterns/backdrop/pattern\',\n       \'mockup-patterns-contentloader\': \'patterns/contentloader/pattern\',\n       \'mockup-patterns-cookietrigger\': \'patterns/cookietrigger/pattern\',\n+      \'mockup-patterns-datatables\': \'patterns/datatables/pattern\',\n       \'mockup-patterns-eventedit\': \'patterns/eventedit/pattern\',\n       \'mockup-patterns-filemanager\': \'patterns/filemanager/pattern\',\n       \'mockup-patterns-filemanager-url\': \'patterns/filemanager\',\ndiff --git a/mockup/less/docs.less b/mockup/less/docs.less\nindex 981872d6..3ab5236c 100644\n--- a/mockup/less/docs.less\n+++ b/mockup/less/docs.less\n@@ -6,6 +6,7 @@\n @icon-font-path: "@{bowerPath}/bootstrap/dist/fonts/";\n \n @import "@{mockupPath}/autotoc/pattern.autotoc.less";\n+@import "@{mockupPath}/datatables/pattern.datatables.less";\n @import "@{mockupPath}/filemanager/pattern.filemanager.less";\n @import "@{mockupPath}/livesearch/pattern.livesearch.less";\n @import "@{mockupPath}/markspeciallinks/pattern.markspeciallinks.less";\ndiff --git a/mockup/less/structure.less b/mockup/less/structure.less\nindex 1fd20f2c..7d0ad5ec 100644\n--- a/mockup/less/structure.less\n+++ b/mockup/less/structure.less\n@@ -1,6 +1,7 @@\n @import "mixins.less";\n @import "plonetoolbar.less";\n @import "@{mockupPath}/autotoc/pattern.autotoc.less";\n+@import "@{mockupPath}/datatables/pattern.datatables.less";\n @import "@{mockupPath}/pickadate/pattern.pickadate.less";\n @import "@{mockupPath}/modal/pattern.modal.less";\n @import "@{mockupPath}/select2/pattern.select2.less";\ndiff --git a/mockup/less/widgets.less b/mockup/less/widgets.less\nindex 5585e35e..e68329b8 100644\n--- a/mockup/less/widgets.less\n+++ b/mockup/less/widgets.less\n@@ -1,4 +1,5 @@\n @import "mixins.less";\n+@import "@{mockupPath}/datatables/pattern.datatables.less";\n @import "@{mockupPath}/select2/pattern.select2.less";\n @import "@{mockupPath}/pickadate/pattern.pickadate.less";\n @import "@{mockupPath}/relateditems/pattern.relateditems.less";\ndiff --git a/mockup/patterns/datatables/pattern.datatables.less b/mockup/patterns/datatables/pattern.datatables.less\nnew file mode 100644\nindex 00000000..0f60c077\n--- /dev/null\n+++ b/mockup/patterns/datatables/pattern.datatables.less\n@@ -0,0 +1,7 @@\n+@import (css) "@{bowerPath}/datatables.net-bs/css/dataTables.bootstrap.css";\n+@import (css) "@{bowerPath}/datatables.net-buttons-bs/css/buttons.bootstrap.min.css";\n+@import (css) "@{bowerPath}/datatables.net-colreorder-bs/css/colReorder.bootstrap.min.css";\n+@import (css) "@{bowerPath}/datatables.net-rowreorder-bs/css/rowReorder.bootstrap.min.css";\n+@import (css) "@{bowerPath}/datatables.net-select-bs/css/select.bootstrap.min.css";\n+@import (css) "@{bowerPath}/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css";\n+@import (css) "@{bowerPath}/datatables.net-fixedcolumns-bs/css/fixedColumns.bootstrap.min.css";\ndiff --git a/mockup/patterns/datatables/pattern.js b/mockup/patterns/datatables/pattern.js\nnew file mode 100644\nindex 00000000..355397d6\n--- /dev/null\n+++ b/mockup/patterns/datatables/pattern.js\n@@ -0,0 +1,535 @@\n+/* DataTables pattern.\n+ *\n+ * This pattern provides the functionality from https://datatables.net/\n+ *\n+ * Options:\n+ *\n+ * Documentation:\n+ *    # Example\n+ *\n+ *    {{ example-1 }}\n+ *\n+ * Example: example-1\n+ *     <table class="pat-datatables table table-striped table-bordered" id="datatables-example">\n+ *         <thead>\n+ *             <tr>\n+ *                 <th>Name</th>\n+ *                 <th>Position</th>\n+ *                 <th>Office</th>\n+ *                 <th>Age</th>\n+ *                 <th>Start date</th>\n+ *                 <th>Salary</th>\n+ *             </tr>\n+ *         </thead>\n+ *         <tbody>\n+ *             <tr>\n+ *                 <td>Tiger Nixon</td>\n+ *                 <td>System Architect</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>61</td>\n+ *                 <td>2011/04/25</td>\n+ *                 <td>$320,800</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Garrett Winters</td>\n+ *                 <td>Accountant</td>\n+ *                 <td>Tokyo</td>\n+ *                 <td>63</td>\n+ *                 <td>2011/07/25</td>\n+ *                 <td>$170,750</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Ashton Cox</td>\n+ *                 <td>Junior Technical Author</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>66</td>\n+ *                 <td>2009/01/12</td>\n+ *                 <td>$86,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Cedric Kelly</td>\n+ *                 <td>Senior Javascript Developer</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>22</td>\n+ *                 <td>2012/03/29</td>\n+ *                 <td>$433,060</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Airi Satou</td>\n+ *                 <td>Accountant</td>\n+ *                 <td>Tokyo</td>\n+ *                 <td>33</td>\n+ *                 <td>2008/11/28</td>\n+ *                 <td>$162,700</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Brielle Williamson</td>\n+ *                 <td>Integration Specialist</td>\n+ *                 <td>New York</td>\n+ *                 <td>61</td>\n+ *                 <td>2012/12/02</td>\n+ *                 <td>$372,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Herrod Chandler</td>\n+ *                 <td>Sales Assistant</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>59</td>\n+ *                 <td>2012/08/06</td>\n+ *                 <td>$137,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Rhona Davidson</td>\n+ *                 <td>Integration Specialist</td>\n+ *                 <td>Tokyo</td>\n+ *                 <td>55</td>\n+ *                 <td>2010/10/14</td>\n+ *                 <td>$327,900</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Colleen Hurst</td>\n+ *                 <td>Javascript Developer</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>39</td>\n+ *                 <td>2009/09/15</td>\n+ *                 <td>$205,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Sonya Frost</td>\n+ *                 <td>Software Engineer</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>23</td>\n+ *                 <td>2008/12/13</td>\n+ *                 <td>$103,600</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Jena Gaines</td>\n+ *                 <td>Office Manager</td>\n+ *                 <td>London</td>\n+ *                 <td>30</td>\n+ *                 <td>2008/12/19</td>\n+ *                 <td>$90,560</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Quinn Flynn</td>\n+ *                 <td>Support Lead</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>22</td>\n+ *                 <td>2013/03/03</td>\n+ *                 <td>$342,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Charde Marshall</td>\n+ *                 <td>Regional Director</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>36</td>\n+ *                 <td>2008/10/16</td>\n+ *                 <td>$470,600</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Haley Kennedy</td>\n+ *                 <td>Senior Marketing Designer</td>\n+ *                 <td>London</td>\n+ *                 <td>43</td>\n+ *                 <td>2012/12/18</td>\n+ *                 <td>$313,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Tatyana Fitzpatrick</td>\n+ *                 <td>Regional Director</td>\n+ *                 <td>London</td>\n+ *                 <td>19</td>\n+ *                 <td>2010/03/17</td>\n+ *                 <td>$385,750</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Michael Silva</td>\n+ *                 <td>Marketing Designer</td>\n+ *                 <td>London</td>\n+ *                 <td>66</td>\n+ *                 <td>2012/11/27</td>\n+ *                 <td>$198,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Paul Byrd</td>\n+ *                 <td>Chief Financial Officer (CFO)</td>\n+ *                 <td>New York</td>\n+ *                 <td>64</td>\n+ *                 <td>2010/06/09</td>\n+ *                 <td>$725,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Gloria Little</td>\n+ *                 <td>Systems Administrator</td>\n+ *                 <td>New York</td>\n+ *                 <td>59</td>\n+ *                 <td>2009/04/10</td>\n+ *                 <td>$237,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Bradley Greer</td>\n+ *                 <td>Software Engineer</td>\n+ *                 <td>London</td>\n+ *                 <td>41</td>\n+ *                 <td>2012/10/13</td>\n+ *                 <td>$132,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Dai Rios</td>\n+ *                 <td>Personnel Lead</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>35</td>\n+ *                 <td>2012/09/26</td>\n+ *                 <td>$217,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Jenette Caldwell</td>\n+ *                 <td>Development Lead</td>\n+ *                 <td>New York</td>\n+ *                 <td>30</td>\n+ *                 <td>2011/09/03</td>\n+ *                 <td>$345,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Yuri Berry</td>\n+ *                 <td>Chief Marketing Officer (CMO)</td>\n+ *                 <td>New York</td>\n+ *                 <td>40</td>\n+ *                 <td>2009/06/25</td>\n+ *                 <td>$675,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Caesar Vance</td>\n+ *                 <td>Pre-Sales Support</td>\n+ *                 <td>New York</td>\n+ *                 <td>21</td>\n+ *                 <td>2011/12/12</td>\n+ *                 <td>$106,450</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Doris Wilder</td>\n+ *                 <td>Sales Assistant</td>\n+ *                 <td>Sidney</td>\n+ *                 <td>23</td>\n+ *                 <td>2010/09/20</td>\n+ *                 <td>$85,600</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Angelica Ramos</td>\n+ *                 <td>Chief Executive Officer (CEO)</td>\n+ *                 <td>London</td>\n+ *                 <td>47</td>\n+ *                 <td>2009/10/09</td>\n+ *                 <td>$1,200,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Gavin Joyce</td>\n+ *                 <td>Developer</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>42</td>\n+ *                 <td>2010/12/22</td>\n+ *                 <td>$92,575</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Jennifer Chang</td>\n+ *                 <td>Regional Director</td>\n+ *                 <td>Singapore</td>\n+ *                 <td>28</td>\n+ *                 <td>2010/11/14</td>\n+ *                 <td>$357,650</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Brenden Wagner</td>\n+ *                 <td>Software Engineer</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>28</td>\n+ *                 <td>2011/06/07</td>\n+ *                 <td>$206,850</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Fiona Green</td>\n+ *                 <td>Chief Operating Officer (COO)</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>48</td>\n+ *                 <td>2010/03/11</td>\n+ *                 <td>$850,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Shou Itou</td>\n+ *                 <td>Regional Marketing</td>\n+ *                 <td>Tokyo</td>\n+ *                 <td>20</td>\n+ *                 <td>2011/08/14</td>\n+ *                 <td>$163,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Michelle House</td>\n+ *                 <td>Integration Specialist</td>\n+ *                 <td>Sidney</td>\n+ *                 <td>37</td>\n+ *                 <td>2011/06/02</td>\n+ *                 <td>$95,400</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Suki Burks</td>\n+ *                 <td>Developer</td>\n+ *                 <td>London</td>\n+ *                 <td>53</td>\n+ *                 <td>2009/10/22</td>\n+ *                 <td>$114,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Prescott Bartlett</td>\n+ *                 <td>Technical Author</td>\n+ *                 <td>London</td>\n+ *                 <td>27</td>\n+ *                 <td>2011/05/07</td>\n+ *                 <td>$145,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Gavin Cortez</td>\n+ *                 <td>Team Leader</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>22</td>\n+ *                 <td>2008/10/26</td>\n+ *                 <td>$235,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Martena Mccray</td>\n+ *                 <td>Post-Sales support</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>46</td>\n+ *                 <td>2011/03/09</td>\n+ *                 <td>$324,050</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Unity Butler</td>\n+ *                 <td>Marketing Designer</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>47</td>\n+ *                 <td>2009/12/09</td>\n+ *                 <td>$85,675</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Howard Hatfield</td>\n+ *                 <td>Office Manager</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>51</td>\n+ *                 <td>2008/12/16</td>\n+ *                 <td>$164,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Hope Fuentes</td>\n+ *                 <td>Secretary</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>41</td>\n+ *                 <td>2010/02/12</td>\n+ *                 <td>$109,850</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Vivian Harrell</td>\n+ *                 <td>Financial Controller</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>62</td>\n+ *                 <td>2009/02/14</td>\n+ *                 <td>$452,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Timothy Mooney</td>\n+ *                 <td>Office Manager</td>\n+ *                 <td>London</td>\n+ *                 <td>37</td>\n+ *                 <td>2008/12/11</td>\n+ *                 <td>$136,200</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Jackson Bradshaw</td>\n+ *                 <td>Director</td>\n+ *                 <td>New York</td>\n+ *                 <td>65</td>\n+ *                 <td>2008/09/26</td>\n+ *                 <td>$645,750</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Olivia Liang</td>\n+ *                 <td>Support Engineer</td>\n+ *                 <td>Singapore</td>\n+ *                 <td>64</td>\n+ *                 <td>2011/02/03</td>\n+ *                 <td>$234,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Bruno Nash</td>\n+ *                 <td>Software Engineer</td>\n+ *                 <td>London</td>\n+ *                 <td>38</td>\n+ *                 <td>2011/05/03</td>\n+ *                 <td>$163,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Sakura Yamamoto</td>\n+ *                 <td>Support Engineer</td>\n+ *                 <td>Tokyo</td>\n+ *                 <td>37</td>\n+ *                 <td>2009/08/19</td>\n+ *                 <td>$139,575</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Thor Walton</td>\n+ *                 <td>Developer</td>\n+ *                 <td>New York</td>\n+ *                 <td>61</td>\n+ *                 <td>2013/08/11</td>\n+ *                 <td>$98,540</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Finn Camacho</td>\n+ *                 <td>Support Engineer</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>47</td>\n+ *                 <td>2009/07/07</td>\n+ *                 <td>$87,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Serge Baldwin</td>\n+ *                 <td>Data Coordinator</td>\n+ *                 <td>Singapore</td>\n+ *                 <td>64</td>\n+ *                 <td>2012/04/09</td>\n+ *                 <td>$138,575</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Zenaida Frank</td>\n+ *                 <td>Software Engineer</td>\n+ *                 <td>New York</td>\n+ *                 <td>63</td>\n+ *                 <td>2010/01/04</td>\n+ *                 <td>$125,250</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Zorita Serrano</td>\n+ *                 <td>Software Engineer</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>56</td>\n+ *                 <td>2012/06/01</td>\n+ *                 <td>$115,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Jennifer Acosta</td>\n+ *                 <td>Junior Javascript Developer</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>43</td>\n+ *                 <td>2013/02/01</td>\n+ *                 <td>$75,650</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Cara Stevens</td>\n+ *                 <td>Sales Assistant</td>\n+ *                 <td>New York</td>\n+ *                 <td>46</td>\n+ *                 <td>2011/12/06</td>\n+ *                 <td>$145,600</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Hermione Butler</td>\n+ *                 <td>Regional Director</td>\n+ *                 <td>London</td>\n+ *                 <td>47</td>\n+ *                 <td>2011/03/21</td>\n+ *                 <td>$356,250</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Lael Greer</td>\n+ *                 <td>Systems Administrator</td>\n+ *                 <td>London</td>\n+ *                 <td>21</td>\n+ *                 <td>2009/02/27</td>\n+ *                 <td>$103,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Jonas Alexander</td>\n+ *                 <td>Developer</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>30</td>\n+ *                 <td>2010/07/14</td>\n+ *                 <td>$86,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Shad Decker</td>\n+ *                 <td>Regional Director</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>51</td>\n+ *                 <td>2008/11/13</td>\n+ *                 <td>$183,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Michael Bruce</td>\n+ *                 <td>Javascript Developer</td>\n+ *                 <td>Singapore</td>\n+ *                 <td>29</td>\n+ *                 <td>2011/06/27</td>\n+ *                 <td>$183,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Donna Snider</td>\n+ *                 <td>Customer Support</td>\n+ *                 <td>New York</td>\n+ *                 <td>27</td>\n+ *                 <td>2011/01/25</td>\n+ *                 <td>$112,000</td>\n+ *             </tr>\n+ *         </tbody>\n+ *         <tfoot>\n+ *             <tr>\n+ *                 <th>Name</th>\n+ *                 <th>Position</th>\n+ *                 <th>Office</th>\n+ *                 <th>Age</th>\n+ *                 <th>Start date</th>\n+ *                 <th>Salary</th>\n+ *             </tr>\n+ *         </tfoot>\n+ *     </table>\n+ */\n+\n+define([\n+  \'jquery\',\n+  \'pat-base\',\n+  \'datatables.net\',\n+  \'datatables.net-bs\',\n+  \'datatables.net-buttons\',\n+  "datatables.net-buttons-colvis",\n+  "datatables.net-buttons-flash",\n+  "datatables.net-buttons-html5",\n+  "datatables.net-buttons-print",\n+  \'datatables.net-buttons-bs\',\n+  \'datatables.net-colreorder\',\n+  \'datatables.net-rowreorder\',\n+  \'datatables.net-fixedcolumns\',\n+  \'datatables.net-fixedheader\',\n+  \'datatables.net-select\'\n+], function($, Base, Dt) {\n+  \'use strict\';\n+\n+  var DataTables = Base.extend({\n+    // The name for this pattern\n+    name: \'datatables\',\n+    trigger: \'.pat-datatables\',\n+    parser: \'mockup\',\n+\n+    defaults: {\n+      // Default values for attributes\n+    },\n+\n+    init: function() {\n+      // The init code for your pattern goes here\n+      var self = this;\n+      // self.$el contains the html element\n+      var table = self.$el.DataTable(self.options);\n+\n+    }\n+  });\n+\n+  return DataTables;\n+\n+});\n'

Repository: mockup


Branch: refs/heads/master
Date: 2018-05-29T15:24:56-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/827c1823d3ac43a236b5ac69435374c403e12625

Revert "Fix less file path to use alias"

This reverts commit 6b2dd5b2c92c0a1e2f3933f85bb3d4a2847c83f6.

Files changed:
M mockup/patterns/thememapper/pattern.thememapper.less

b'diff --git a/mockup/patterns/thememapper/pattern.thememapper.less b/mockup/patterns/thememapper/pattern.thememapper.less\nindex 4c58cce6..7666065a 100644\n--- a/mockup/patterns/thememapper/pattern.thememapper.less\n+++ b/mockup/patterns/thememapper/pattern.thememapper.less\n@@ -1,6 +1,6 @@\n @import "@{mockuplessPath}/ui.less";\n /* just be lazy here and include all of bootstrap... */\n-@import "@{mockup-patterns-filemanager}";\n+@import "@{mockupPath}/filemanager/pattern.filemanager.less";\n \n body.plone-toolbar-left-default {\n \tpadding-left: 0px;\n'

Repository: mockup


Branch: refs/heads/master
Date: 2018-05-29T17:17:18-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/e4bdb85026e31857227840c2a6c785b73e3e674a

When a button is disabled, avoid firing events when clicked

Files changed:
M CHANGES.rst
M mockup/patterns/structure/less/pattern.structure.less
M mockup/patterns/structure/templates/paging.xml

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 1d5de798..a21dd0e2 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -20,6 +20,9 @@ New features:\n \n Bug fixes:\n \n+- pat-structure: When a button is disabled, avoid firing events when clicked\n+  [frapell]\n+\n - pat-structure: When doing a search to filter items, disable reordering\n   [frapell]\n \ndiff --git a/mockup/patterns/structure/less/pattern.structure.less b/mockup/patterns/structure/less/pattern.structure.less\nindex de2a18b4..6cb8efe3 100644\n--- a/mockup/patterns/structure/less/pattern.structure.less\n+++ b/mockup/patterns/structure/less/pattern.structure.less\n@@ -22,7 +22,6 @@\n \n \n .pat-structure {\n-\n     .fade:extend(.fade all){}\n     .collapse:extend(.collapse all){}\n     .collapsing:extend(.collapsing all){}\n@@ -162,6 +161,8 @@\n         width: 500px;\n     }\n \n+    li.disabled a {pointer-events: none;}\n+\n     /* button overrides to make it look\n        more streamlined */\n     #btn-attribute-columns{\ndiff --git a/mockup/patterns/structure/templates/paging.xml b/mockup/patterns/structure/templates/paging.xml\nindex 1db4562a..807c28b0 100644\n--- a/mockup/patterns/structure/templates/paging.xml\n+++ b/mockup/patterns/structure/templates/paging.xml\n@@ -10,16 +10,16 @@\n       </a>\n     </li>\n     <% _.each(pages, function(p){ %>\n-    <li class="<% if (currentPage == p) { %>active<% } %>">\n+    <li class="<% if (currentPage == p) { %>active<% } else if ( p == \'...\' ) { %>disabled<% }%>">\n       <a href="#" class="page"><%- p %></a>\n     </li>\n     <% }); %>\n-    <li class="<% if (currentPage === lastPage) { %>disabled<% } %>">\n+    <li class="<% if (currentPage === totalPages) { %>disabled<% } %>">\n       <a href="#" class="servernext">\n         &gt;\n       </a>\n     </li>\n-    <li class="<% if (currentPage === lastPage) { %>disabled<% } %>">\n+    <li class="<% if (currentPage === totalPages) { %>disabled<% } %>">\n       <a href="#" class="serverlast">\n         &raquo;\n       </a>\n'

Repository: mockup


Branch: refs/heads/master
Date: 2018-05-30T11:01:22-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/65373fdd63b018a2a7c32d3e37ab8f218b565611

Add 'All' option for pagination

Files changed:
M CHANGES.rst
M mockup/patterns/structure/js/views/paging.js
M mockup/patterns/structure/templates/paging.xml

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex a21dd0e2..387115e9 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -10,6 +10,9 @@ Breaking changes:\n \n New features:\n \n+- pat-structure: Add an \'All\' option for the pagination\n+  [frapell]\n+\n - Add a new pattern, to provide the DataTables functionality\n   https://datatables.net/\n   [frapell]\ndiff --git a/mockup/patterns/structure/js/views/paging.js b/mockup/patterns/structure/js/views/paging.js\nindex 4221be92..edbe92c3 100644\n--- a/mockup/patterns/structure/js/views/paging.js\n+++ b/mockup/patterns/structure/js/views/paging.js\n@@ -99,7 +99,7 @@ define([\n     },\n     changeCount: function(e) {\n       e.preventDefault();\n-      var per = $(e.target).text();\n+      var per = $(e.target).data(\'perpage\');\n       this.collection.howManyPer(per);\n       this.app.setCookieSetting(\'perPage\', per);\n     }\ndiff --git a/mockup/patterns/structure/templates/paging.xml b/mockup/patterns/structure/templates/paging.xml\nindex 807c28b0..1349ca59 100644\n--- a/mockup/patterns/structure/templates/paging.xml\n+++ b/mockup/patterns/structure/templates/paging.xml\n@@ -29,13 +29,16 @@\n   <ul class="pagination pagination-sm">\n     <li class="disabled"><a href="#"><%- _t("Show:") %></a></li>\n     <li class="serverhowmany serverhowmany15 <% if(perPage == 15){ %>disabled<% } %>">\n-      <a href="#" class="">15</a>\n+      <a href="#" class="" data-perpage="15">15</a>\n     </li>\n     <li class="serverhowmany serverhowmany30 <% if(perPage == 30){ %>disabled<% } %>">\n-      <a href="#" class="">30</a>\n+      <a href="#" class="" data-perpage="30">30</a>\n     </li>\n     <li class="serverhowmany serverhowmany50 <% if(perPage == 50){ %>disabled<% } %>">\n-      <a href="#" class="">50</a>\n+      <a href="#" class="" data-perpage="50">50</a>\n+    </li>\n+    <li class="serverhowmany serverhowmanyall <% if(perPage == 9999){ %>disabled<% } %>">\n+      <a href="#" class="" data-perpage="9999">All</a>\n     </li>\n   </ul>\n \n'

Repository: mockup


Branch: refs/heads/master
Date: 2018-05-30T13:04:04-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/0ec63062d3cadb960feee41ecca20c423230fa84

pat-structure: Use the datatables pattern for sorting columns. Closes gh-848

Files changed:
M CHANGES.rst
M mockup/patterns/structure/js/views/table.js
M mockup/patterns/structure/pattern.js
M mockup/patterns/structure/templates/table.xml
M mockup/tests/pattern-structure-test.js

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 387115e9..834e8fb5 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -10,6 +10,9 @@ Breaking changes:\n \n New features:\n \n+- pat-structure: Use the datatables pattern for sorting columns \n+  [frapell]\n+\n - pat-structure: Add an \'All\' option for the pagination\n   [frapell]\n \ndiff --git a/mockup/patterns/structure/js/views/table.js b/mockup/patterns/structure/js/views/table.js\nindex 78ad5882..f50ce343 100644\n--- a/mockup/patterns/structure/js/views/table.js\n+++ b/mockup/patterns/structure/js/views/table.js\n@@ -4,14 +4,16 @@ define([\n   \'mockup-patterns-structure-url/js/views/tablerow\',\n   \'text!mockup-patterns-structure-url/templates/table.xml\',\n   \'mockup-ui-url/views/base\',\n+  \'mockup-patterns-datatables\',\n   \'mockup-patterns-sortable\',\n   \'mockup-patterns-moment\',\n   \'mockup-patterns-structure-url/js/models/result\',\n   \'mockup-patterns-structure-url/js/views/actionmenu\',\n   \'translate\',\n+  \'pat-registry\',\n   \'bootstrap-alert\'\n-], function($, _, TableRowView, TableTemplate, BaseView, Sortable,\n-            patMoment, Result, ActionMenuView, _t) {\n+], function($, _, TableRowView, TableTemplate, BaseView, patDataTables,\n+            Sortable, patMoment, Result, ActionMenuView, _t, registry) {\n   \'use strict\';\n \n   var TableView = BaseView.extend({\n@@ -67,6 +69,25 @@ define([\n     },\n     render: function() {\n       var self = this;\n+\n+      // By default do not start sorted by any column\n+      // Ignore first column and the last one (activeColumns.length + 2)\n+      // Do not show paginator, search or information, we only want column sorting\n+      var datatables_options = {\n+        "aaSorting": [],\n+        "aoColumnDefs": [\n+          { "bSortable": false, "aTargets": [ 0, self.app.activeColumns.length + 2 ] }\n+        ],\n+        "paging": false,\n+        "searching": false,\n+        "info": false\n+      };\n+\n+      // If options were passed from the pattern, override these ones\n+      $.extend(\n+        datatables_options, self.app.options.datatables_options\n+      );\n+\n       self.$el.html(self.template({\n         _t: _t,\n         pathParts: _.filter(\n@@ -77,7 +98,8 @@ define([\n         ),\n         status: self.app.status,\n         activeColumns: self.app.activeColumns,\n-        availableColumns: self.app.availableColumns\n+        availableColumns: self.app.availableColumns,\n+        datatables_options: JSON.stringify(datatables_options)\n       }));\n \n       if (self.collection.length) {\n@@ -108,6 +130,15 @@ define([\n       }\n \n       self.storeOrder();\n+\n+      registry.scan(self.$el);\n+\n+      self.$el.find("table").on( \'order.dt\', function (e, settings, details) {\n+        self.app.setStatus({text: _t(\'Can not order items while manually sorting a column\'), type: \'warning\'});\n+        $(".pat-datatables tbody").find(\'tr\').off("drag")\n+        self.$el.removeClass(\'order-support\');\n+      } );\n+\n       return this;\n     },\n     breadcrumbClicked: function(e) {\ndiff --git a/mockup/patterns/structure/pattern.js b/mockup/patterns/structure/pattern.js\nindex d3b92870..2f0d563f 100644\n--- a/mockup/patterns/structure/pattern.js\n+++ b/mockup/patterns/structure/pattern.js\n@@ -162,6 +162,8 @@ define([\n         url: \'/rename\'\n       }],\n \n+      datatables_options: {},\n+\n       upload: {\n         uploadMultiple: true,\n         showTitle: true\ndiff --git a/mockup/patterns/structure/templates/table.xml b/mockup/patterns/structure/templates/table.xml\nindex 7e3f8dfe..507f746c 100644\n--- a/mockup/patterns/structure/templates/table.xml\n+++ b/mockup/patterns/structure/templates/table.xml\n@@ -3,7 +3,8 @@\n   <span><%- status.text %></span>&nbsp;<% // &nbsp; to get correct height for empty alerts %>\n </div>\n \n-<table class="table table-striped table-bordered">\n+<table class="pat-datatables table table-striped table-bordered"\n+       data-pat-datatables="<%- datatables_options %>">\n   <thead>\n     <tr class="fc-breadcrumbs-container">\n       <td class="fc-breadcrumbs" colspan="<%- activeColumns.length + 3 %>">\ndiff --git a/mockup/tests/pattern-structure-test.js b/mockup/tests/pattern-structure-test.js\nindex 50e9ca0a..6e1a3753 100644\n--- a/mockup/tests/pattern-structure-test.js\n+++ b/mockup/tests/pattern-structure-test.js\n@@ -973,7 +973,7 @@ define([\n     it(\'initialize\', function() {\n       registry.scan(this.$el);\n       // moveUrl provided, can get to this via order-support.\n-      expect(this.$el.find(\'.order-support > table\').size()).to.equal(1);\n+      expect(this.$el.find(\'table\').size()).to.equal(1);\n     });\n \n     it(\'select item populates selection well\', function() {\n'

Repository: mockup


Branch: refs/heads/master
Date: 2018-05-30T14:15:59-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/a727fd86de73239d41caab4f4d51c59c8a87e4b7

Forgot to include a less file

Files changed:
M mockup/patterns/structure/less/pattern.structure.less

b'diff --git a/mockup/patterns/structure/less/pattern.structure.less b/mockup/patterns/structure/less/pattern.structure.less\nindex 6cb8efe3..eeed5873 100644\n--- a/mockup/patterns/structure/less/pattern.structure.less\n+++ b/mockup/patterns/structure/less/pattern.structure.less\n@@ -3,6 +3,7 @@\n @import "@{bowerPath}/bootstrap/less/glyphicons.less";\n @import "@{mockuplessPath}/ui.less";\n @import "@{mockupPath}/tooltip/pattern.tooltip.less";\n+@import "@{mockupPath}/datatables/pattern.datatables.less";\n \n @import "@{bowerPath}/bootstrap/less/mixins.less";\n @import "@{bowerPath}/bootstrap/less/utilities.less";\n'

Repository: mockup


Branch: refs/heads/master
Date: 2018-05-30T14:26:36-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/59ec2b961f7fbc1202254bc198d2cec1015f7a1c

Revert "Add 'All' option for pagination"

This reverts commit 65373fdd63b018a2a7c32d3e37ab8f218b565611.

Files changed:
M mockup/patterns/structure/js/views/paging.js
M mockup/patterns/structure/templates/paging.xml

b'diff --git a/mockup/patterns/structure/js/views/paging.js b/mockup/patterns/structure/js/views/paging.js\nindex edbe92c3..4221be92 100644\n--- a/mockup/patterns/structure/js/views/paging.js\n+++ b/mockup/patterns/structure/js/views/paging.js\n@@ -99,7 +99,7 @@ define([\n     },\n     changeCount: function(e) {\n       e.preventDefault();\n-      var per = $(e.target).data(\'perpage\');\n+      var per = $(e.target).text();\n       this.collection.howManyPer(per);\n       this.app.setCookieSetting(\'perPage\', per);\n     }\ndiff --git a/mockup/patterns/structure/templates/paging.xml b/mockup/patterns/structure/templates/paging.xml\nindex 1349ca59..807c28b0 100644\n--- a/mockup/patterns/structure/templates/paging.xml\n+++ b/mockup/patterns/structure/templates/paging.xml\n@@ -29,16 +29,13 @@\n   <ul class="pagination pagination-sm">\n     <li class="disabled"><a href="#"><%- _t("Show:") %></a></li>\n     <li class="serverhowmany serverhowmany15 <% if(perPage == 15){ %>disabled<% } %>">\n-      <a href="#" class="" data-perpage="15">15</a>\n+      <a href="#" class="">15</a>\n     </li>\n     <li class="serverhowmany serverhowmany30 <% if(perPage == 30){ %>disabled<% } %>">\n-      <a href="#" class="" data-perpage="30">30</a>\n+      <a href="#" class="">30</a>\n     </li>\n     <li class="serverhowmany serverhowmany50 <% if(perPage == 50){ %>disabled<% } %>">\n-      <a href="#" class="" data-perpage="50">50</a>\n-    </li>\n-    <li class="serverhowmany serverhowmanyall <% if(perPage == 9999){ %>disabled<% } %>">\n-      <a href="#" class="" data-perpage="9999">All</a>\n+      <a href="#" class="">50</a>\n     </li>\n   </ul>\n \n'

Repository: mockup


Branch: refs/heads/master
Date: 2018-05-30T14:35:36-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/bedec3350145ae69242111e9a71233e01a1431a4

pat-structure: Add a '250' option for pagination

Files changed:
M CHANGES.rst
M mockup/patterns/structure/templates/paging.xml

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 834e8fb5..68c72752 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -13,7 +13,7 @@ New features:\n - pat-structure: Use the datatables pattern for sorting columns \n   [frapell]\n \n-- pat-structure: Add an \'All\' option for the pagination\n+- pat-structure: Add a \'250\' option for the pagination\n   [frapell]\n \n - Add a new pattern, to provide the DataTables functionality\ndiff --git a/mockup/patterns/structure/templates/paging.xml b/mockup/patterns/structure/templates/paging.xml\nindex 807c28b0..f26c97b9 100644\n--- a/mockup/patterns/structure/templates/paging.xml\n+++ b/mockup/patterns/structure/templates/paging.xml\n@@ -37,6 +37,9 @@\n     <li class="serverhowmany serverhowmany50 <% if(perPage == 50){ %>disabled<% } %>">\n       <a href="#" class="">50</a>\n     </li>\n+    <li class="serverhowmany serverhowmany250 <% if(perPage == 250){ %>disabled<% } %>">\n+      <a href="#" class="">250</a>\n+    </li>\n   </ul>\n \n   <ul class="pagination pagination-sm">\n'

Repository: mockup


Branch: refs/heads/master
Date: 2018-05-30T16:15:26-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/aa228bcdd7e42c6239f68e4a4ecf074ae52ce57a

Include data-order attribute so sort will work fine with dates

Files changed:
M mockup/patterns/structure/templates/tablerow.xml

b'diff --git a/mockup/patterns/structure/templates/tablerow.xml b/mockup/patterns/structure/templates/tablerow.xml\nindex cffb48d5..ad759fac 100644\n--- a/mockup/patterns/structure/templates/tablerow.xml\n+++ b/mockup/patterns/structure/templates/tablerow.xml\n@@ -34,7 +34,7 @@\n \n <% _.each(activeColumns, function(column) { %>\n   <% if(column !== \'Description\' && _.has(availableColumns, column)) { %>\n-    <td class="<%- column %>"><%- attributes[column] %></td>\n+    <td class="<%- column %>" data-order="<%- attributes[column] %>"><%- attributes[column] %></td>\n   <% } %>\n <% }); %>\n \n'

Repository: mockup


Branch: refs/heads/master
Date: 2018-05-30T16:50:27-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/a6613bb4b526ad6fa66331f859c997fa6df87e89

Typo

Files changed:
M mockup/js/config.js

b"diff --git a/mockup/js/config.js b/mockup/js/config.js\nindex f1a56e33..c71ef8db 100644\n--- a/mockup/js/config.js\n+++ b/mockup/js/config.js\n@@ -32,7 +32,7 @@\n       'datatables.net': 'bower_components/datatables.net/js/jquery.dataTables.min',\n       'datatables.net-bs': 'bower_components/datatables.net-bs/js/dataTables.bootstrap.min',\n       'datatables.net-autofill': 'bower_components/datatables.net-autofill/js/dataTables.autoFill.min',\n-      'datatables.net-autofill-bs': 'bower_components/datatables.net-autofill-bs/js/dataTables.autoFill.min',\n+      'datatables.net-autofill-bs': 'bower_components/datatables.net-autofill-bs/js/autoFill.bootstrap.min',\n       'datatables.net-buttons': 'bower_components/datatables.net-buttons/js/dataTables.buttons.min',\n       'datatables.net-buttons-flash': 'bower_components/datatables.net-buttons/js/buttons.flash.min',\n       'datatables.net-buttons-html5': 'bower_components/datatables.net-buttons/js/buttons.html5.min',\n"

Repository: mockup


Branch: refs/heads/master
Date: 2018-07-02T15:00:47-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/5d6808e6fbc2a388157c297d9a0caaa671fcbb81

Merge branch 'master' into frapell-sort-folder_contents

Files changed:
M CHANGES.rst
M mockup/js/i18n.js
M mockup/patterns/contentloader/pattern.js
M mockup/patterns/filemanager/js/findinfiles.js
M mockup/patterns/tinymce/less/pattern.tinymce.less
M mockup/patterns/tinymce/pattern.js
M mockup/tests/i18n-test.js
M package.json

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 68c72752..eb91a656 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -1,7 +1,7 @@\n Changelog\n =========\n \n-2.7.3 (unreleased)\n+2.7.5 (unreleased)\n ------------------\n \n Breaking changes:\n@@ -19,11 +19,42 @@ New features:\n - Add a new pattern, to provide the DataTables functionality\n   https://datatables.net/\n   [frapell]\n+- *add item here*\n+\n+Bug fixes:\n+\n+- *add item here*\n+\n+\n+2.7.4 (2018-06-21)\n+------------------\n+\n+New features:\n+\n+- pat-contentloader: Add ``loading-done`` event.\n+  [agitator, thet]\n+\n+Bug fixes:\n+\n+- pat-contentloader: Add \'content-load-error\' to other exit-cases too. Clean up classes on initialization.\n+  [thet]\n+\n+- Fix for loading country specific language codes\n+  [lyralemos]\n+\n+\n+2.7.3 (2018-06-21)\n+------------------\n+\n+New features:\n \n - Mark special links: Mark external link with rel="noopener"\n   https://developers.google.com/web/tools/lighthouse/audits/noopener\n   [mamico]\n \n+- pat-contentloader: Add ``loading-done`` event.\n+  [agitator, thet]\n+\n Bug fixes:\n \n - pat-structure: When a button is disabled, avoid firing events when clicked\n@@ -31,6 +62,11 @@ Bug fixes:\n \n - pat-structure: When doing a search to filter items, disable reordering\n   [frapell]\n+- tinymce: Do not include content.min.css as part of the bundle\n+  [frapell]\n+\n+- pat-contentloader: Add \'content-load-error\' to other exit-cases too. Clean up classes on initialization.\n+  [thet]\n \n - pat-contentloader: When the content which replaces the target is empty, empty the target instead of removing it.\n   This fixes a problem, where an empty result didn\'t did remove the ability to successfully replace the target for subsequent content loads.\n@@ -55,6 +91,10 @@ Bug fixes:\n - Tinymce: Fix issue where Webpack less-loader was unable to load TinyMCE bundle styles\n   [datakurre]\n \n+- Fix for loading country specific language codes\n+  [lyralemos]\n+\n+\n 2.7.2 (2018-04-08)\n ------------------\n \ndiff --git a/mockup/js/i18n.js b/mockup/js/i18n.js\nindex 0f60d351..0fcb380a 100644\n--- a/mockup/js/i18n.js\n+++ b/mockup/js/i18n.js\n@@ -18,7 +18,13 @@ define([\n     if (!self.baseUrl) {\n       self.baseUrl = \'/plonejsi18n\';\n     }\n-    self.currentLanguage = $(\'html\').attr(\'lang\') || \'en-us\';\n+    self.currentLanguage = $(\'html\').attr(\'lang\') || \'en\';\n+\n+    // Fix for country specific languages\n+    if (self.currentLanguage.split(\'-\').length > 1) {\n+      self.currentLanguage = self.currentLanguage.split(\'-\')[0] + \'_\' + self.currentLanguage.split(\'-\')[1].toUpperCase();\n+    }\n+\n     self.storage = null;\n     self.catalogs = {};\n     self.ttl = 24 * 3600 * 1000;\ndiff --git a/mockup/patterns/contentloader/pattern.js b/mockup/patterns/contentloader/pattern.js\nindex 1515dabe..114e68c3 100644\n--- a/mockup/patterns/contentloader/pattern.js\n+++ b/mockup/patterns/contentloader/pattern.js\n@@ -53,6 +53,8 @@ define([\n       if(that.options.url === \'el\' && that.$el[0].tagName === \'A\'){\n         that.options.url = that.$el.attr(\'href\');\n       }\n+      that.$el.removeClass(\'loading-content\');\n+      that.$el.removeClass(\'content-load-error\');\n       if(that.options.trigger === \'immediate\'){\n         that._load();\n       }else{\n@@ -92,7 +94,8 @@ define([\n             try{\n               $el = $(_.template(that.options.template)(data));\n             }catch(e){\n-              // log this\n+              that.$el.removeClass(\'loading-content\');\n+              that.$el.addClass(\'content-load-error\');\n               log.warn(\'error rendering template. pat-contentloader will not work\');\n               return;\n             }\n@@ -101,9 +104,9 @@ define([\n             $el = $el.find(that.options.content);\n           }\n           that.loadLocal($el);\n-          that.$el.removeClass(\'loading-content\');\n         },\n         error: function(){\n+          that.$el.removeClass(\'loading-content\');\n           that.$el.addClass(\'content-load-error\');\n         }\n       });\n@@ -111,6 +114,8 @@ define([\n     loadLocal: function($content){\n       var that = this;\n       if(!$content && that.options.content === null){\n+        that.$el.removeClass(\'loading-content\');\n+        that.$el.addClass(\'content-load-error\');\n         log.warn(\'No selector configured\');\n         return;\n       }\n@@ -118,6 +123,8 @@ define([\n       if(that.options.target !== null){\n         $target = $(that.options.target);\n         if($target.size() === 0){\n+          that.$el.removeClass(\'loading-content\');\n+          that.$el.addClass(\'content-load-error\');\n           log.warn(\'No target nodes found\');\n           return;\n         }\n@@ -137,6 +144,7 @@ define([\n       }\n \n       that.$el.removeClass(\'loading-content\');\n+      that.emit(\'loading-done\');\n     }\n   });\n \ndiff --git a/mockup/patterns/filemanager/js/findinfiles.js b/mockup/patterns/filemanager/js/findinfiles.js\nindex 51ea104e..c527e0e3 100644\n--- a/mockup/patterns/filemanager/js/findinfiles.js\n+++ b/mockup/patterns/filemanager/js/findinfiles.js\n@@ -22,7 +22,7 @@ define([\n       \'<form>\' +\n         \'<div class="input-group">\' +\n           \'<input type="text" class="search form-control" \' +\n-                  \'id="file-search-field" placeholder="<%= _t("Find text witin theme resource in plone") %>">\' +\n+                  \'id="file-search-field" placeholder="<%= _t("Find text within theme resource in plone") %>">\' +\n         \'</div>\' +\n         \'<div class="input-group">\' +\n           \'<input type="submit" class="btn btn-primary" value="<%= _t("Search") %>"/>\' +\ndiff --git a/mockup/patterns/tinymce/less/pattern.tinymce.less b/mockup/patterns/tinymce/less/pattern.tinymce.less\nindex a692438f..15633442 100644\n--- a/mockup/patterns/tinymce/less/pattern.tinymce.less\n+++ b/mockup/patterns/tinymce/less/pattern.tinymce.less\n@@ -1,5 +1,4 @@\n-@import (css) "@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/skin.min.css";\n-@import (css) "@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/content.min.css";\n+@import (inline) "@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/skin.min.css";\n @import (inline) "@{bowerPath}tinymce-builded/js/tinymce/plugins/visualblocks/css/visualblocks.css";\n @import "@{mockupPath}/modal/pattern.modal.less";\n @import "@{mockupPath}/autotoc/pattern.autotoc.less";\ndiff --git a/mockup/patterns/tinymce/pattern.js b/mockup/patterns/tinymce/pattern.js\nindex 96a7b813..ff3783ab 100644\n--- a/mockup/patterns/tinymce/pattern.js\n+++ b/mockup/patterns/tinymce/pattern.js\n@@ -290,7 +290,7 @@ define([\n       var self = this;\n       var i18n = new I18n();\n       var lang = i18n.currentLanguage;\n-      if (lang !== \'en-us\' && self.options.tiny.language !== \'en\') {\n+      if (lang !== \'en\' && self.options.tiny.language !== \'en\') {\n         tinymce.baseURL = self.options.loadingBaseUrl;\n         // does the expected language exist?\n         $.ajax({\ndiff --git a/mockup/tests/i18n-test.js b/mockup/tests/i18n-test.js\nindex e50eb993..392e6a40 100644\n--- a/mockup/tests/i18n-test.js\n+++ b/mockup/tests/i18n-test.js\n@@ -84,6 +84,28 @@ define([\n         expect(_(\'foo\')).to.be(\'bar\');\n         server.restore();\n       });\n+\n+      it(\'handles country specific translations\', function() {\n+        var i18n = new I18n();\n+        var server = sinon.fakeServer.create();\n+        server.autoRespond = true;\n+        var clock = sinon.useFakeTimers();\n+\n+        server.respondWith(\'GET\', /plonejsi18n/, function (xhr) {\n+          xhr.respond(200, { \'Content-Type\': \'application/json\' }, JSON.stringify({\n+            foo: \'bar-us\',\n+          }));\n+        });\n+        i18n.configure({\n+          currentLanguage: \'en-us\',\n+          baseUrl: \'/plonejsi18n\'\n+        });\n+        i18n.loadCatalog(\'foobar-us\');\n+        clock.tick(500);\n+        var _ = i18n.MessageFactory(\'foobar-us\');\n+        expect(_(\'foo\')).to.be(\'bar-us\');\n+        server.restore();\n+      });\n     });\n \n   });\ndiff --git a/package.json b/package.json\nindex 8a26bb46..f25a8173 100644\n--- a/package.json\n+++ b/package.json\n@@ -1,6 +1,6 @@\n {\n   "name": "mockup",\n-  "version": "2.7.3",\n+  "version": "2.7.5",\n   "description": "A collection of client side patterns for faster and easier web development",\n   "homepage": "http://plone.github.io/mockup",\n   "devDependencies": {\n'

Repository: mockup


Branch: refs/heads/master
Date: 2018-07-02T22:20:10-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/74afbc054c4c6e72952c96c0d6a2c57730e58239

Provide a way to reset the column sort

Files changed:
M mockup/patterns/datatables/pattern.js
M mockup/patterns/structure/js/views/app.js
M mockup/patterns/structure/js/views/paging.js
M mockup/patterns/structure/js/views/table.js
M mockup/patterns/structure/less/pattern.structure.less
M mockup/patterns/structure/templates/tablerow.xml
M package.json

b'diff --git a/mockup/patterns/datatables/pattern.js b/mockup/patterns/datatables/pattern.js\nindex 355397d6..13d56d55 100644\n--- a/mockup/patterns/datatables/pattern.js\n+++ b/mockup/patterns/datatables/pattern.js\n@@ -516,6 +516,7 @@ define([\n     name: \'datatables\',\n     trigger: \'.pat-datatables\',\n     parser: \'mockup\',\n+    table: null,\n \n     defaults: {\n       // Default values for attributes\n@@ -525,7 +526,7 @@ define([\n       // The init code for your pattern goes here\n       var self = this;\n       // self.$el contains the html element\n-      var table = self.$el.DataTable(self.options);\n+      self.table = self.$el.DataTable(self.options);\n \n     }\n   });\ndiff --git a/mockup/patterns/structure/js/views/app.js b/mockup/patterns/structure/js/views/app.js\nindex 0a89760a..1b8696dd 100644\n--- a/mockup/patterns/structure/js/views/app.js\n+++ b/mockup/patterns/structure/js/views/app.js\n@@ -462,7 +462,7 @@ define([\n         }\n       });\n     },\n-    setStatus: function(msg, type) {\n+    setStatus: function(msg, type, btn) {\n       if (!msg) {\n         // clear it\n         this.status.text = \'\';\n@@ -487,6 +487,7 @@ define([\n           var $label = $(\'<strong></strong>\');\n           $label.text(this.status.label);\n           $status.empty().append($label).append($text);\n+          if (btn) { $status.append(btn) }\n       }\n     },\n     render: function() {\ndiff --git a/mockup/patterns/structure/js/views/paging.js b/mockup/patterns/structure/js/views/paging.js\nindex 4221be92..56a2fbc6 100644\n--- a/mockup/patterns/structure/js/views/paging.js\n+++ b/mockup/patterns/structure/js/views/paging.js\n@@ -78,27 +78,33 @@ define([\n     },\n     nextResultPage: function(e) {\n       e.preventDefault();\n+      this.app.setStatus();\n       this.collection.requestNextPage();\n     },\n     previousResultPage: function(e) {\n       e.preventDefault();\n+      this.app.setStatus();\n       this.collection.requestPreviousPage();\n     },\n     gotoFirst: function(e) {\n       e.preventDefault();\n+      this.app.setStatus();\n       this.collection.goTo(this.collection.information.firstPage);\n     },\n     gotoLast: function(e) {\n       e.preventDefault();\n+      this.app.setStatus();\n       this.collection.goTo(this.collection.information.totalPages);\n     },\n     gotoPage: function(e) {\n       e.preventDefault();\n+      this.app.setStatus();\n       var page = $(e.target).text();\n       this.collection.goTo(page);\n     },\n     changeCount: function(e) {\n       e.preventDefault();\n+      this.app.setStatus();\n       var per = $(e.target).text();\n       this.collection.howManyPer(per);\n       this.app.setCookieSetting(\'perPage\', per);\ndiff --git a/mockup/patterns/structure/js/views/table.js b/mockup/patterns/structure/js/views/table.js\nindex f50ce343..1e5ac453 100644\n--- a/mockup/patterns/structure/js/views/table.js\n+++ b/mockup/patterns/structure/js/views/table.js\n@@ -134,7 +134,20 @@ define([\n       registry.scan(self.$el);\n \n       self.$el.find("table").on( \'order.dt\', function (e, settings, details) {\n-        self.app.setStatus({text: _t(\'Can not order items while manually sorting a column\'), type: \'warning\'});\n+        var btn = $(\'<button type="button" class="btn btn-danger btn-xs"></button>\')\n+                  .text(_t(\'Reset column sorting\'))\n+                  .on(\'click\', function(e) {\n+                    // Use column 0 to restore ordering and then empty list so it doesn\'t\n+                    // show the icon in the column header\n+                    self.$el.find("table.pat-datatables").data(\'patternDatatables\').table\n+                        .order([ 0, "asc" ]).draw()\n+                        .order([]).draw();\n+                    // Restore reordering by drag and drop\n+                    self.addReordering();\n+                    // Clear the status message\n+                    self.app.setStatus();\n+                  });\n+        self.app.setStatus(_t(\'Can not drag and drop items to reorder while manually sorting a column\'), \'warning\', btn = btn);\n         $(".pat-datatables tbody").find(\'tr\').off("drag")\n         self.$el.removeClass(\'order-support\');\n       } );\ndiff --git a/mockup/patterns/structure/less/pattern.structure.less b/mockup/patterns/structure/less/pattern.structure.less\nindex eeed5873..47f8422f 100644\n--- a/mockup/patterns/structure/less/pattern.structure.less\n+++ b/mockup/patterns/structure/less/pattern.structure.less\n@@ -152,6 +152,11 @@\n         margin-bottom: 5px;\n         padding: 5px;\n         color: @plone-link-color;\n+\n+        .btn {\n+            margin-left: 10px;\n+        }\n+\n     }\n \n     .popover.upload{\ndiff --git a/mockup/patterns/structure/templates/tablerow.xml b/mockup/patterns/structure/templates/tablerow.xml\nindex ad759fac..0eba85e9 100644\n--- a/mockup/patterns/structure/templates/tablerow.xml\n+++ b/mockup/patterns/structure/templates/tablerow.xml\n@@ -1,4 +1,4 @@\n-<td class="selection"><input type="checkbox" <% if(selected){ %> checked="checked" <% } %>/></td>\n+<td class="selection" data-order="<%- attributes[\'_sort\'] %>"><input type="checkbox" <% if(selected){ %> checked="checked" <% } %>/></td>\n \n <td class="title">\n   <div class="pull-left">\ndiff --git a/package.json b/package.json\nindex f25a8173..53b1ef6a 100644\n--- a/package.json\n+++ b/package.json\n@@ -4,7 +4,7 @@\n   "description": "A collection of client side patterns for faster and easier web development",\n   "homepage": "http://plone.github.io/mockup",\n   "devDependencies": {\n-    "bower": "~1.7.9",\n+    "bower": "1.8.4",\n     "chai": "^3.5.0",\n     "coveralls": "~2.11.9",\n     "extend": "~3.0.0",\n'

Repository: mockup


Branch: refs/heads/master
Date: 2018-07-04T17:32:01+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/b91e39098877fae339dd9589e0a47b1a13030346

Merge pull request #850 from plone/frapell-sort-folder_contents

Frapell sort folder contents

Files changed:
A mockup/patterns/datatables/pattern.datatables.less
A mockup/patterns/datatables/pattern.js
M CHANGES.rst
M bower.json
M mockup/js/bundles/docs.js
M mockup/js/bundles/plone.js
M mockup/js/bundles/structure.js
M mockup/js/config.js
M mockup/less/docs.less
M mockup/less/structure.less
M mockup/less/widgets.less
M mockup/patterns/structure/js/views/app.js
M mockup/patterns/structure/js/views/paging.js
M mockup/patterns/structure/js/views/table.js
M mockup/patterns/structure/js/views/textfilter.js
M mockup/patterns/structure/less/pattern.structure.less
M mockup/patterns/structure/pattern.js
M mockup/patterns/structure/templates/paging.xml
M mockup/patterns/structure/templates/table.xml
M mockup/patterns/structure/templates/tablerow.xml
M mockup/patterns/thememapper/pattern.thememapper.less
M mockup/tests/pattern-structure-test.js
M package.json

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 56c817e2..eb91a656 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -10,6 +10,15 @@ Breaking changes:\n \n New features:\n \n+- pat-structure: Use the datatables pattern for sorting columns \n+  [frapell]\n+\n+- pat-structure: Add a \'250\' option for the pagination\n+  [frapell]\n+\n+- Add a new pattern, to provide the DataTables functionality\n+  https://datatables.net/\n+  [frapell]\n - *add item here*\n \n Bug fixes:\n@@ -48,6 +57,11 @@ New features:\n \n Bug fixes:\n \n+- pat-structure: When a button is disabled, avoid firing events when clicked\n+  [frapell]\n+\n+- pat-structure: When doing a search to filter items, disable reordering\n+  [frapell]\n - tinymce: Do not include content.min.css as part of the bundle\n   [frapell]\n \ndiff --git a/bower.json b/bower.json\nindex df959f74..bff753fa 100644\n--- a/bower.json\n+++ b/bower.json\n@@ -7,6 +7,28 @@\n     "backbone.paginator": "0.8.1",\n     "bootstrap": "3.3.6",\n     "console-polyfill": "0.2.2",\n+    "datatables.net": "1.10.16",\n+    "datatables.net-bs": "1.10.16",\n+    "datatables.net-autofill": "2.2.2",\n+    "datatables.net-autofill-bs": "2.2.2",\n+    "datatables.net-buttons": "1.4.2",\n+    "datatables.net-buttons-bs": "1.4.2",\n+    "datatables.net-colreorder": "1.4.1",\n+    "datatables.net-colreorder-bs": "1.4.1",\n+    "datatables.net-fixedcolumns": "3.2.3",\n+    "datatables.net-fixedcolumns-bs": "3.2.3",\n+    "datatables.net-fixedheader": "3.1.3",\n+    "datatables.net-fixedheader-bs": "3.1.3",\n+    "datatables.net-keytable": "2.3.2",\n+    "datatables.net-keytable-bs": "2.3.2",\n+    "datatables.net-responsive": "2.2.0",\n+    "datatables.net-responsive-bs": "2.2.0",\n+    "datatables.net-rowreorder": "1.2.3",\n+    "datatables.net-rowreorder-bs": "1.2.3",\n+    "datatables.net-scroller": "1.4.3",\n+    "datatables.net-scroller-bs": "1.4.3",\n+    "datatables.net-select": "1.2.3",\n+    "datatables.net-select-bs": "1.2.3",\n     "dropzone": "4.3.0",\n     "es5-shim": "4.5.9",\n     "jqtree": "1.4.1",\ndiff --git a/mockup/js/bundles/docs.js b/mockup/js/bundles/docs.js\nindex 22e6d658..7c94e7e8 100644\n--- a/mockup/js/bundles/docs.js\n+++ b/mockup/js/bundles/docs.js\n@@ -36,6 +36,7 @@ require([\n           { id: \'backdrop\',                  url: \'patterns/backdrop/pattern.js\',                  title: \'Backdrop\',                    description: \'TODO\'                                                                                      },\n           { id: \'contentloader\',             url: \'patterns/contentloader/pattern.js\',             title: \'Content Loader\',              description: \'Dynamically configure content to be reloaded\'                                              },\n           { id: \'cookietrigger\',             url: \'patterns/cookietrigger/pattern.js\',             title: \'Cookie Trigger\',              description: \'Shows a DOM element if browser cookies are disabled.\'                                      },\n+          { id: \'datatables\',                url: \'patterns/datatables/pattern.js\',                title: \'Datatables\',                  description: \'Advanced interaction controls for Tables.\'                                                 },\n           { id: \'eventedit\',                 url: \'patterns/eventedit/pattern.js\',                 title: \'Event Edit Forms\',            description: \'Start/End delta validation whole day and open end handling\'                                },\n           { id: \'filemanager\',               url: \'patterns/filemanager/pattern.js\',               title: \'File Manager\',                description: \'Manage file system-like resources\'                                                         },\n           { id: \'formautofocus\',             url: \'patterns/formautofocus/pattern.js\',             title: \'Form Auto Focus\',             description: \'TODO\'                                                                                      },\ndiff --git a/mockup/js/bundles/plone.js b/mockup/js/bundles/plone.js\nindex d7abca72..02675ca3 100644\n--- a/mockup/js/bundles/plone.js\n+++ b/mockup/js/bundles/plone.js\n@@ -10,6 +10,7 @@ define([\n   \'mockup-patterns-tinymce\',\n \n   \'mockup-patterns-autotoc\',\n+  \'mockup-patterns-datatables\',\n   \'mockup-patterns-formunloadalert\',\n   \'mockup-patterns-preventdoublesubmit\',\n   \'mockup-patterns-formautofocus\',\ndiff --git a/mockup/js/bundles/structure.js b/mockup/js/bundles/structure.js\nindex 6422eefd..70e2ded8 100644\n--- a/mockup/js/bundles/structure.js\n+++ b/mockup/js/bundles/structure.js\n@@ -7,6 +7,7 @@ if (window.jQuery) {\n \n define([\n   \'jquery\',\n+  \'mockup-patterns-datatables\',\n   \'mockup-patterns-modal\',\n   \'mockup-patterns-structure\'\n ], function($) {\ndiff --git a/mockup/js/config.js b/mockup/js/config.js\nindex bd11b50a..c71ef8db 100644\n--- a/mockup/js/config.js\n+++ b/mockup/js/config.js\n@@ -29,6 +29,25 @@\n       \'bootstrap-collapse\': \'bower_components/bootstrap/js/collapse\',\n       \'bootstrap-dropdown\': \'bower_components/bootstrap/js/dropdown\',\n       \'bootstrap-transition\': \'bower_components/bootstrap/js/transition\',\n+      \'datatables.net\': \'bower_components/datatables.net/js/jquery.dataTables.min\',\n+      \'datatables.net-bs\': \'bower_components/datatables.net-bs/js/dataTables.bootstrap.min\',\n+      \'datatables.net-autofill\': \'bower_components/datatables.net-autofill/js/dataTables.autoFill.min\',\n+      \'datatables.net-autofill-bs\': \'bower_components/datatables.net-autofill-bs/js/autoFill.bootstrap.min\',\n+      \'datatables.net-buttons\': \'bower_components/datatables.net-buttons/js/dataTables.buttons.min\',\n+      \'datatables.net-buttons-flash\': \'bower_components/datatables.net-buttons/js/buttons.flash.min\',\n+      \'datatables.net-buttons-html5\': \'bower_components/datatables.net-buttons/js/buttons.html5.min\',\n+      \'datatables.net-buttons-print\': \'bower_components/datatables.net-buttons/js/buttons.print.min\',\n+      \'datatables.net-buttons-bs\': \'bower_components/datatables.net-buttons-bs/js/buttons.bootstrap.min\',\n+      \'datatables.net-colreorder\': \'bower_components/datatables.net-colreorder/js/dataTables.colReorder.min\',\n+      \'datatables.net-buttons-colvis\': \'bower_components/datatables.net-buttons/js/buttons.colVis.min\',\n+      \'datatables.net-fixedcolumns\': \'bower_components/datatables.net-fixedcolumns/js/dataTables.fixedColumns.min\',\n+      \'datatables.net-fixedheader\': \'bower_components/datatables.net-fixedheader/js/dataTables.fixedHeader.min\',\n+      \'datatables.net-keytable\': \'bower_components/datatables.net-keytable/js/dataTables.keyTable.min\',\n+      \'datatables.net-responsive\': \'bower_components/datatables.net-responsive/js/dataTables.responsive.min\',\n+      \'datatables.net-responsive-bs\': \'bower_components/datatables.net-responsive-bs/js/responsive.bootstrap.min\',\n+      \'datatables.net-rowreorder\': \'bower_components/datatables.net-rowreorder/js/dataTables.rowReorder.min\',\n+      \'datatables.net-scroller\': \'bower_components/datatables.net-scroller/js/dataTables.scroller.min\',\n+      \'datatables.net-select\': \'bower_components/datatables.net-select/js/dataTables.select.min\',\n       \'docs-contribute\': \'CONTRIBUTE.md\',\n       \'docs-getting-started\': \'GETTING_STARTED.md\',\n       \'docs-learn\': \'LEARN.md\',\n@@ -68,6 +87,7 @@\n       \'mockup-patterns-backdrop\': \'patterns/backdrop/pattern\',\n       \'mockup-patterns-contentloader\': \'patterns/contentloader/pattern\',\n       \'mockup-patterns-cookietrigger\': \'patterns/cookietrigger/pattern\',\n+      \'mockup-patterns-datatables\': \'patterns/datatables/pattern\',\n       \'mockup-patterns-eventedit\': \'patterns/eventedit/pattern\',\n       \'mockup-patterns-filemanager\': \'patterns/filemanager/pattern\',\n       \'mockup-patterns-filemanager-url\': \'patterns/filemanager\',\ndiff --git a/mockup/less/docs.less b/mockup/less/docs.less\nindex 981872d6..3ab5236c 100644\n--- a/mockup/less/docs.less\n+++ b/mockup/less/docs.less\n@@ -6,6 +6,7 @@\n @icon-font-path: "@{bowerPath}/bootstrap/dist/fonts/";\n \n @import "@{mockupPath}/autotoc/pattern.autotoc.less";\n+@import "@{mockupPath}/datatables/pattern.datatables.less";\n @import "@{mockupPath}/filemanager/pattern.filemanager.less";\n @import "@{mockupPath}/livesearch/pattern.livesearch.less";\n @import "@{mockupPath}/markspeciallinks/pattern.markspeciallinks.less";\ndiff --git a/mockup/less/structure.less b/mockup/less/structure.less\nindex 1fd20f2c..7d0ad5ec 100644\n--- a/mockup/less/structure.less\n+++ b/mockup/less/structure.less\n@@ -1,6 +1,7 @@\n @import "mixins.less";\n @import "plonetoolbar.less";\n @import "@{mockupPath}/autotoc/pattern.autotoc.less";\n+@import "@{mockupPath}/datatables/pattern.datatables.less";\n @import "@{mockupPath}/pickadate/pattern.pickadate.less";\n @import "@{mockupPath}/modal/pattern.modal.less";\n @import "@{mockupPath}/select2/pattern.select2.less";\ndiff --git a/mockup/less/widgets.less b/mockup/less/widgets.less\nindex 5585e35e..e68329b8 100644\n--- a/mockup/less/widgets.less\n+++ b/mockup/less/widgets.less\n@@ -1,4 +1,5 @@\n @import "mixins.less";\n+@import "@{mockupPath}/datatables/pattern.datatables.less";\n @import "@{mockupPath}/select2/pattern.select2.less";\n @import "@{mockupPath}/pickadate/pattern.pickadate.less";\n @import "@{mockupPath}/relateditems/pattern.relateditems.less";\ndiff --git a/mockup/patterns/datatables/pattern.datatables.less b/mockup/patterns/datatables/pattern.datatables.less\nnew file mode 100644\nindex 00000000..0f60c077\n--- /dev/null\n+++ b/mockup/patterns/datatables/pattern.datatables.less\n@@ -0,0 +1,7 @@\n+@import (css) "@{bowerPath}/datatables.net-bs/css/dataTables.bootstrap.css";\n+@import (css) "@{bowerPath}/datatables.net-buttons-bs/css/buttons.bootstrap.min.css";\n+@import (css) "@{bowerPath}/datatables.net-colreorder-bs/css/colReorder.bootstrap.min.css";\n+@import (css) "@{bowerPath}/datatables.net-rowreorder-bs/css/rowReorder.bootstrap.min.css";\n+@import (css) "@{bowerPath}/datatables.net-select-bs/css/select.bootstrap.min.css";\n+@import (css) "@{bowerPath}/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css";\n+@import (css) "@{bowerPath}/datatables.net-fixedcolumns-bs/css/fixedColumns.bootstrap.min.css";\ndiff --git a/mockup/patterns/datatables/pattern.js b/mockup/patterns/datatables/pattern.js\nnew file mode 100644\nindex 00000000..13d56d55\n--- /dev/null\n+++ b/mockup/patterns/datatables/pattern.js\n@@ -0,0 +1,536 @@\n+/* DataTables pattern.\n+ *\n+ * This pattern provides the functionality from https://datatables.net/\n+ *\n+ * Options:\n+ *\n+ * Documentation:\n+ *    # Example\n+ *\n+ *    {{ example-1 }}\n+ *\n+ * Example: example-1\n+ *     <table class="pat-datatables table table-striped table-bordered" id="datatables-example">\n+ *         <thead>\n+ *             <tr>\n+ *                 <th>Name</th>\n+ *                 <th>Position</th>\n+ *                 <th>Office</th>\n+ *                 <th>Age</th>\n+ *                 <th>Start date</th>\n+ *                 <th>Salary</th>\n+ *             </tr>\n+ *         </thead>\n+ *         <tbody>\n+ *             <tr>\n+ *                 <td>Tiger Nixon</td>\n+ *                 <td>System Architect</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>61</td>\n+ *                 <td>2011/04/25</td>\n+ *                 <td>$320,800</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Garrett Winters</td>\n+ *                 <td>Accountant</td>\n+ *                 <td>Tokyo</td>\n+ *                 <td>63</td>\n+ *                 <td>2011/07/25</td>\n+ *                 <td>$170,750</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Ashton Cox</td>\n+ *                 <td>Junior Technical Author</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>66</td>\n+ *                 <td>2009/01/12</td>\n+ *                 <td>$86,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Cedric Kelly</td>\n+ *                 <td>Senior Javascript Developer</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>22</td>\n+ *                 <td>2012/03/29</td>\n+ *                 <td>$433,060</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Airi Satou</td>\n+ *                 <td>Accountant</td>\n+ *                 <td>Tokyo</td>\n+ *                 <td>33</td>\n+ *                 <td>2008/11/28</td>\n+ *                 <td>$162,700</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Brielle Williamson</td>\n+ *                 <td>Integration Specialist</td>\n+ *                 <td>New York</td>\n+ *                 <td>61</td>\n+ *                 <td>2012/12/02</td>\n+ *                 <td>$372,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Herrod Chandler</td>\n+ *                 <td>Sales Assistant</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>59</td>\n+ *                 <td>2012/08/06</td>\n+ *                 <td>$137,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Rhona Davidson</td>\n+ *                 <td>Integration Specialist</td>\n+ *                 <td>Tokyo</td>\n+ *                 <td>55</td>\n+ *                 <td>2010/10/14</td>\n+ *                 <td>$327,900</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Colleen Hurst</td>\n+ *                 <td>Javascript Developer</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>39</td>\n+ *                 <td>2009/09/15</td>\n+ *                 <td>$205,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Sonya Frost</td>\n+ *                 <td>Software Engineer</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>23</td>\n+ *                 <td>2008/12/13</td>\n+ *                 <td>$103,600</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Jena Gaines</td>\n+ *                 <td>Office Manager</td>\n+ *                 <td>London</td>\n+ *                 <td>30</td>\n+ *                 <td>2008/12/19</td>\n+ *                 <td>$90,560</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Quinn Flynn</td>\n+ *                 <td>Support Lead</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>22</td>\n+ *                 <td>2013/03/03</td>\n+ *                 <td>$342,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Charde Marshall</td>\n+ *                 <td>Regional Director</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>36</td>\n+ *                 <td>2008/10/16</td>\n+ *                 <td>$470,600</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Haley Kennedy</td>\n+ *                 <td>Senior Marketing Designer</td>\n+ *                 <td>London</td>\n+ *                 <td>43</td>\n+ *                 <td>2012/12/18</td>\n+ *                 <td>$313,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Tatyana Fitzpatrick</td>\n+ *                 <td>Regional Director</td>\n+ *                 <td>London</td>\n+ *                 <td>19</td>\n+ *                 <td>2010/03/17</td>\n+ *                 <td>$385,750</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Michael Silva</td>\n+ *                 <td>Marketing Designer</td>\n+ *                 <td>London</td>\n+ *                 <td>66</td>\n+ *                 <td>2012/11/27</td>\n+ *                 <td>$198,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Paul Byrd</td>\n+ *                 <td>Chief Financial Officer (CFO)</td>\n+ *                 <td>New York</td>\n+ *                 <td>64</td>\n+ *                 <td>2010/06/09</td>\n+ *                 <td>$725,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Gloria Little</td>\n+ *                 <td>Systems Administrator</td>\n+ *                 <td>New York</td>\n+ *                 <td>59</td>\n+ *                 <td>2009/04/10</td>\n+ *                 <td>$237,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Bradley Greer</td>\n+ *                 <td>Software Engineer</td>\n+ *                 <td>London</td>\n+ *                 <td>41</td>\n+ *                 <td>2012/10/13</td>\n+ *                 <td>$132,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Dai Rios</td>\n+ *                 <td>Personnel Lead</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>35</td>\n+ *                 <td>2012/09/26</td>\n+ *                 <td>$217,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Jenette Caldwell</td>\n+ *                 <td>Development Lead</td>\n+ *                 <td>New York</td>\n+ *                 <td>30</td>\n+ *                 <td>2011/09/03</td>\n+ *                 <td>$345,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Yuri Berry</td>\n+ *                 <td>Chief Marketing Officer (CMO)</td>\n+ *                 <td>New York</td>\n+ *                 <td>40</td>\n+ *                 <td>2009/06/25</td>\n+ *                 <td>$675,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Caesar Vance</td>\n+ *                 <td>Pre-Sales Support</td>\n+ *                 <td>New York</td>\n+ *                 <td>21</td>\n+ *                 <td>2011/12/12</td>\n+ *                 <td>$106,450</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Doris Wilder</td>\n+ *                 <td>Sales Assistant</td>\n+ *                 <td>Sidney</td>\n+ *                 <td>23</td>\n+ *                 <td>2010/09/20</td>\n+ *                 <td>$85,600</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Angelica Ramos</td>\n+ *                 <td>Chief Executive Officer (CEO)</td>\n+ *                 <td>London</td>\n+ *                 <td>47</td>\n+ *                 <td>2009/10/09</td>\n+ *                 <td>$1,200,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Gavin Joyce</td>\n+ *                 <td>Developer</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>42</td>\n+ *                 <td>2010/12/22</td>\n+ *                 <td>$92,575</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Jennifer Chang</td>\n+ *                 <td>Regional Director</td>\n+ *                 <td>Singapore</td>\n+ *                 <td>28</td>\n+ *                 <td>2010/11/14</td>\n+ *                 <td>$357,650</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Brenden Wagner</td>\n+ *                 <td>Software Engineer</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>28</td>\n+ *                 <td>2011/06/07</td>\n+ *                 <td>$206,850</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Fiona Green</td>\n+ *                 <td>Chief Operating Officer (COO)</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>48</td>\n+ *                 <td>2010/03/11</td>\n+ *                 <td>$850,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Shou Itou</td>\n+ *                 <td>Regional Marketing</td>\n+ *                 <td>Tokyo</td>\n+ *                 <td>20</td>\n+ *                 <td>2011/08/14</td>\n+ *                 <td>$163,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Michelle House</td>\n+ *                 <td>Integration Specialist</td>\n+ *                 <td>Sidney</td>\n+ *                 <td>37</td>\n+ *                 <td>2011/06/02</td>\n+ *                 <td>$95,400</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Suki Burks</td>\n+ *                 <td>Developer</td>\n+ *                 <td>London</td>\n+ *                 <td>53</td>\n+ *                 <td>2009/10/22</td>\n+ *                 <td>$114,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Prescott Bartlett</td>\n+ *                 <td>Technical Author</td>\n+ *                 <td>London</td>\n+ *                 <td>27</td>\n+ *                 <td>2011/05/07</td>\n+ *                 <td>$145,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Gavin Cortez</td>\n+ *                 <td>Team Leader</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>22</td>\n+ *                 <td>2008/10/26</td>\n+ *                 <td>$235,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Martena Mccray</td>\n+ *                 <td>Post-Sales support</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>46</td>\n+ *                 <td>2011/03/09</td>\n+ *                 <td>$324,050</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Unity Butler</td>\n+ *                 <td>Marketing Designer</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>47</td>\n+ *                 <td>2009/12/09</td>\n+ *                 <td>$85,675</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Howard Hatfield</td>\n+ *                 <td>Office Manager</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>51</td>\n+ *                 <td>2008/12/16</td>\n+ *                 <td>$164,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Hope Fuentes</td>\n+ *                 <td>Secretary</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>41</td>\n+ *                 <td>2010/02/12</td>\n+ *                 <td>$109,850</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Vivian Harrell</td>\n+ *                 <td>Financial Controller</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>62</td>\n+ *                 <td>2009/02/14</td>\n+ *                 <td>$452,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Timothy Mooney</td>\n+ *                 <td>Office Manager</td>\n+ *                 <td>London</td>\n+ *                 <td>37</td>\n+ *                 <td>2008/12/11</td>\n+ *                 <td>$136,200</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Jackson Bradshaw</td>\n+ *                 <td>Director</td>\n+ *                 <td>New York</td>\n+ *                 <td>65</td>\n+ *                 <td>2008/09/26</td>\n+ *                 <td>$645,750</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Olivia Liang</td>\n+ *                 <td>Support Engineer</td>\n+ *                 <td>Singapore</td>\n+ *                 <td>64</td>\n+ *                 <td>2011/02/03</td>\n+ *                 <td>$234,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Bruno Nash</td>\n+ *                 <td>Software Engineer</td>\n+ *                 <td>London</td>\n+ *                 <td>38</td>\n+ *                 <td>2011/05/03</td>\n+ *                 <td>$163,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Sakura Yamamoto</td>\n+ *                 <td>Support Engineer</td>\n+ *                 <td>Tokyo</td>\n+ *                 <td>37</td>\n+ *                 <td>2009/08/19</td>\n+ *                 <td>$139,575</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Thor Walton</td>\n+ *                 <td>Developer</td>\n+ *                 <td>New York</td>\n+ *                 <td>61</td>\n+ *                 <td>2013/08/11</td>\n+ *                 <td>$98,540</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Finn Camacho</td>\n+ *                 <td>Support Engineer</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>47</td>\n+ *                 <td>2009/07/07</td>\n+ *                 <td>$87,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Serge Baldwin</td>\n+ *                 <td>Data Coordinator</td>\n+ *                 <td>Singapore</td>\n+ *                 <td>64</td>\n+ *                 <td>2012/04/09</td>\n+ *                 <td>$138,575</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Zenaida Frank</td>\n+ *                 <td>Software Engineer</td>\n+ *                 <td>New York</td>\n+ *                 <td>63</td>\n+ *                 <td>2010/01/04</td>\n+ *                 <td>$125,250</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Zorita Serrano</td>\n+ *                 <td>Software Engineer</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>56</td>\n+ *                 <td>2012/06/01</td>\n+ *                 <td>$115,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Jennifer Acosta</td>\n+ *                 <td>Junior Javascript Developer</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>43</td>\n+ *                 <td>2013/02/01</td>\n+ *                 <td>$75,650</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Cara Stevens</td>\n+ *                 <td>Sales Assistant</td>\n+ *                 <td>New York</td>\n+ *                 <td>46</td>\n+ *                 <td>2011/12/06</td>\n+ *                 <td>$145,600</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Hermione Butler</td>\n+ *                 <td>Regional Director</td>\n+ *                 <td>London</td>\n+ *                 <td>47</td>\n+ *                 <td>2011/03/21</td>\n+ *                 <td>$356,250</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Lael Greer</td>\n+ *                 <td>Systems Administrator</td>\n+ *                 <td>London</td>\n+ *                 <td>21</td>\n+ *                 <td>2009/02/27</td>\n+ *                 <td>$103,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Jonas Alexander</td>\n+ *                 <td>Developer</td>\n+ *                 <td>San Francisco</td>\n+ *                 <td>30</td>\n+ *                 <td>2010/07/14</td>\n+ *                 <td>$86,500</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Shad Decker</td>\n+ *                 <td>Regional Director</td>\n+ *                 <td>Edinburgh</td>\n+ *                 <td>51</td>\n+ *                 <td>2008/11/13</td>\n+ *                 <td>$183,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Michael Bruce</td>\n+ *                 <td>Javascript Developer</td>\n+ *                 <td>Singapore</td>\n+ *                 <td>29</td>\n+ *                 <td>2011/06/27</td>\n+ *                 <td>$183,000</td>\n+ *             </tr>\n+ *             <tr>\n+ *                 <td>Donna Snider</td>\n+ *                 <td>Customer Support</td>\n+ *                 <td>New York</td>\n+ *                 <td>27</td>\n+ *                 <td>2011/01/25</td>\n+ *                 <td>$112,000</td>\n+ *             </tr>\n+ *         </tbody>\n+ *         <tfoot>\n+ *             <tr>\n+ *                 <th>Name</th>\n+ *                 <th>Position</th>\n+ *                 <th>Office</th>\n+ *                 <th>Age</th>\n+ *                 <th>Start date</th>\n+ *                 <th>Salary</th>\n+ *             </tr>\n+ *         </tfoot>\n+ *     </table>\n+ */\n+\n+define([\n+  \'jquery\',\n+  \'pat-base\',\n+  \'datatables.net\',\n+  \'datatables.net-bs\',\n+  \'datatables.net-buttons\',\n+  "datatables.net-buttons-colvis",\n+  "datatables.net-buttons-flash",\n+  "datatables.net-buttons-html5",\n+  "datatables.net-buttons-print",\n+  \'datatables.net-buttons-bs\',\n+  \'datatables.net-colreorder\',\n+  \'datatables.net-rowreorder\',\n+  \'datatables.net-fixedcolumns\',\n+  \'datatables.net-fixedheader\',\n+  \'datatables.net-select\'\n+], function($, Base, Dt) {\n+  \'use strict\';\n+\n+  var DataTables = Base.extend({\n+    // The name for this pattern\n+    name: \'datatables\',\n+    trigger: \'.pat-datatables\',\n+    parser: \'mockup\',\n+    table: null,\n+\n+    defaults: {\n+      // Default values for attributes\n+    },\n+\n+    init: function() {\n+      // The init code for your pattern goes here\n+      var self = this;\n+      // self.$el contains the html element\n+      self.table = self.$el.DataTable(self.options);\n+\n+    }\n+  });\n+\n+  return DataTables;\n+\n+});\ndiff --git a/mockup/patterns/structure/js/views/app.js b/mockup/patterns/structure/js/views/app.js\nindex 85a87a23..1b8696dd 100644\n--- a/mockup/patterns/structure/js/views/app.js\n+++ b/mockup/patterns/structure/js/views/app.js\n@@ -242,6 +242,12 @@ define([\n       }\n     },\n     inQueryMode: function() {\n+      if (this.toolbar) {\n+          var term = this.toolbar.get(\'filter\').term;\n+          if (term){\n+            return true;\n+          }\n+      }\n       if (this.additionalCriterias.length > 0) {\n         return true;\n       }\n@@ -456,7 +462,7 @@ define([\n         }\n       });\n     },\n-    setStatus: function(msg, type) {\n+    setStatus: function(msg, type, btn) {\n       if (!msg) {\n         // clear it\n         this.status.text = \'\';\n@@ -474,12 +480,15 @@ define([\n       }\n       // still need to manually set in case rendering isn\'t done(especially true for tests)\n       var $status = this.$(\'.status\');\n-      $status[0].className = \'alert alert-\' + this.status.type + \' status\';\n-      var $text = $(\'<span></span>\');\n-      $text.text(this.status.text);\n-      var $label = $(\'<strong></strong>\');\n-      $label.text(this.status.label);\n-      $status.empty().append($label).append($text);\n+      if ($status.length > 0){\n+          $status[0].className = \'alert alert-\' + this.status.type + \' status\';\n+          var $text = $(\'<span></span>\');\n+          $text.text(this.status.text);\n+          var $label = $(\'<strong></strong>\');\n+          $label.text(this.status.label);\n+          $status.empty().append($label).append($text);\n+          if (btn) { $status.append(btn) }\n+      }\n     },\n     render: function() {\n       var self = this;\ndiff --git a/mockup/patterns/structure/js/views/paging.js b/mockup/patterns/structure/js/views/paging.js\nindex 4221be92..56a2fbc6 100644\n--- a/mockup/patterns/structure/js/views/paging.js\n+++ b/mockup/patterns/structure/js/views/paging.js\n@@ -78,27 +78,33 @@ define([\n     },\n     nextResultPage: function(e) {\n       e.preventDefault();\n+      this.app.setStatus();\n       this.collection.requestNextPage();\n     },\n     previousResultPage: function(e) {\n       e.preventDefault();\n+      this.app.setStatus();\n       this.collection.requestPreviousPage();\n     },\n     gotoFirst: function(e) {\n       e.preventDefault();\n+      this.app.setStatus();\n       this.collection.goTo(this.collection.information.firstPage);\n     },\n     gotoLast: function(e) {\n       e.preventDefault();\n+      this.app.setStatus();\n       this.collection.goTo(this.collection.information.totalPages);\n     },\n     gotoPage: function(e) {\n       e.preventDefault();\n+      this.app.setStatus();\n       var page = $(e.target).text();\n       this.collection.goTo(page);\n     },\n     changeCount: function(e) {\n       e.preventDefault();\n+      this.app.setStatus();\n       var per = $(e.target).text();\n       this.collection.howManyPer(per);\n       this.app.setCookieSetting(\'perPage\', per);\ndiff --git a/mockup/patterns/structure/js/views/table.js b/mockup/patterns/structure/js/views/table.js\nindex 78ad5882..1e5ac453 100644\n--- a/mockup/patterns/structure/js/views/table.js\n+++ b/mockup/patterns/structure/js/views/table.js\n@@ -4,14 +4,16 @@ define([\n   \'mockup-patterns-structure-url/js/views/tablerow\',\n   \'text!mockup-patterns-structure-url/templates/table.xml\',\n   \'mockup-ui-url/views/base\',\n+  \'mockup-patterns-datatables\',\n   \'mockup-patterns-sortable\',\n   \'mockup-patterns-moment\',\n   \'mockup-patterns-structure-url/js/models/result\',\n   \'mockup-patterns-structure-url/js/views/actionmenu\',\n   \'translate\',\n+  \'pat-registry\',\n   \'bootstrap-alert\'\n-], function($, _, TableRowView, TableTemplate, BaseView, Sortable,\n-            patMoment, Result, ActionMenuView, _t) {\n+], function($, _, TableRowView, TableTemplate, BaseView, patDataTables,\n+            Sortable, patMoment, Result, ActionMenuView, _t, registry) {\n   \'use strict\';\n \n   var TableView = BaseView.extend({\n@@ -67,6 +69,25 @@ define([\n     },\n     render: function() {\n       var self = this;\n+\n+      // By default do not start sorted by any column\n+      // Ignore first column and the last one (activeColumns.length + 2)\n+      // Do not show paginator, search or information, we only want column sorting\n+      var datatables_options = {\n+        "aaSorting": [],\n+        "aoColumnDefs": [\n+          { "bSortable": false, "aTargets": [ 0, self.app.activeColumns.length + 2 ] }\n+        ],\n+        "paging": false,\n+        "searching": false,\n+        "info": false\n+      };\n+\n+      // If options were passed from the pattern, override these ones\n+      $.extend(\n+        datatables_options, self.app.options.datatables_options\n+      );\n+\n       self.$el.html(self.template({\n         _t: _t,\n         pathParts: _.filter(\n@@ -77,7 +98,8 @@ define([\n         ),\n         status: self.app.status,\n         activeColumns: self.app.activeColumns,\n-        availableColumns: self.app.availableColumns\n+        availableColumns: self.app.availableColumns,\n+        datatables_options: JSON.stringify(datatables_options)\n       }));\n \n       if (self.collection.length) {\n@@ -108,6 +130,28 @@ define([\n       }\n \n       self.storeOrder();\n+\n+      registry.scan(self.$el);\n+\n+      self.$el.find("table").on( \'order.dt\', function (e, settings, details) {\n+        var btn = $(\'<button type="button" class="btn btn-danger btn-xs"></button>\')\n+                  .text(_t(\'Reset column sorting\'))\n+                  .on(\'click\', function(e) {\n+                    // Use column 0 to restore ordering and then empty list so it doesn\'t\n+                    // show the icon in the column header\n+                    self.$el.find("table.pat-datatables").data(\'patternDatatables\').table\n+                        .order([ 0, "asc" ]).draw()\n+                        .order([]).draw();\n+                    // Restore reordering by drag and drop\n+                    self.addReordering();\n+                    // Clear the status message\n+                    self.app.setStatus();\n+                  });\n+        self.app.setStatus(_t(\'Can not drag and drop items to reorder while manually sorting a column\'), \'warning\', btn = btn);\n+        $(".pat-datatables tbody").find(\'tr\').off("drag")\n+        self.$el.removeClass(\'order-support\');\n+      } );\n+\n       return this;\n     },\n     breadcrumbClicked: function(e) {\ndiff --git a/mockup/patterns/structure/js/views/textfilter.js b/mockup/patterns/structure/js/views/textfilter.js\nindex 4136ab0a..b67e9d6f 100644\n--- a/mockup/patterns/structure/js/views/textfilter.js\n+++ b/mockup/patterns/structure/js/views/textfilter.js\n@@ -96,6 +96,11 @@ define([\n         self.term = $(event.currentTarget).val();\n         self.app.collection.currentPage = 1;\n         self.app.collection.pager();\n+\n+        if (!self.term){\n+            self.app.setStatus();\n+        }\n+\n       }, this.keyupDelay);\n     }\n   });\ndiff --git a/mockup/patterns/structure/less/pattern.structure.less b/mockup/patterns/structure/less/pattern.structure.less\nindex de2a18b4..47f8422f 100644\n--- a/mockup/patterns/structure/less/pattern.structure.less\n+++ b/mockup/patterns/structure/less/pattern.structure.less\n@@ -3,6 +3,7 @@\n @import "@{bowerPath}/bootstrap/less/glyphicons.less";\n @import "@{mockuplessPath}/ui.less";\n @import "@{mockupPath}/tooltip/pattern.tooltip.less";\n+@import "@{mockupPath}/datatables/pattern.datatables.less";\n \n @import "@{bowerPath}/bootstrap/less/mixins.less";\n @import "@{bowerPath}/bootstrap/less/utilities.less";\n@@ -22,7 +23,6 @@\n \n \n .pat-structure {\n-\n     .fade:extend(.fade all){}\n     .collapse:extend(.collapse all){}\n     .collapsing:extend(.collapsing all){}\n@@ -152,6 +152,11 @@\n         margin-bottom: 5px;\n         padding: 5px;\n         color: @plone-link-color;\n+\n+        .btn {\n+            margin-left: 10px;\n+        }\n+\n     }\n \n     .popover.upload{\n@@ -162,6 +167,8 @@\n         width: 500px;\n     }\n \n+    li.disabled a {pointer-events: none;}\n+\n     /* button overrides to make it look\n        more streamlined */\n     #btn-attribute-columns{\ndiff --git a/mockup/patterns/structure/pattern.js b/mockup/patterns/structure/pattern.js\nindex d3b92870..2f0d563f 100644\n--- a/mockup/patterns/structure/pattern.js\n+++ b/mockup/patterns/structure/pattern.js\n@@ -162,6 +162,8 @@ define([\n         url: \'/rename\'\n       }],\n \n+      datatables_options: {},\n+\n       upload: {\n         uploadMultiple: true,\n         showTitle: true\ndiff --git a/mockup/patterns/structure/templates/paging.xml b/mockup/patterns/structure/templates/paging.xml\nindex 1db4562a..f26c97b9 100644\n--- a/mockup/patterns/structure/templates/paging.xml\n+++ b/mockup/patterns/structure/templates/paging.xml\n@@ -10,16 +10,16 @@\n       </a>\n     </li>\n     <% _.each(pages, function(p){ %>\n-    <li class="<% if (currentPage == p) { %>active<% } %>">\n+    <li class="<% if (currentPage == p) { %>active<% } else if ( p == \'...\' ) { %>disabled<% }%>">\n       <a href="#" class="page"><%- p %></a>\n     </li>\n     <% }); %>\n-    <li class="<% if (currentPage === lastPage) { %>disabled<% } %>">\n+    <li class="<% if (currentPage === totalPages) { %>disabled<% } %>">\n       <a href="#" class="servernext">\n         &gt;\n       </a>\n     </li>\n-    <li class="<% if (currentPage === lastPage) { %>disabled<% } %>">\n+    <li class="<% if (currentPage === totalPages) { %>disabled<% } %>">\n       <a href="#" class="serverlast">\n         &raquo;\n       </a>\n@@ -37,6 +37,9 @@\n     <li class="serverhowmany serverhowmany50 <% if(perPage == 50){ %>disabled<% } %>">\n       <a href="#" class="">50</a>\n     </li>\n+    <li class="serverhowmany serverhowmany250 <% if(perPage == 250){ %>disabled<% } %>">\n+      <a href="#" class="">250</a>\n+    </li>\n   </ul>\n \n   <ul class="pagination pagination-sm">\ndiff --git a/mockup/patterns/structure/templates/table.xml b/mockup/patterns/structure/templates/table.xml\nindex 7e3f8dfe..507f746c 100644\n--- a/mockup/patterns/structure/templates/table.xml\n+++ b/mockup/patterns/structure/templates/table.xml\n@@ -3,7 +3,8 @@\n   <span><%- status.text %></span>&nbsp;<% // &nbsp; to get correct height for empty alerts %>\n </div>\n \n-<table class="table table-striped table-bordered">\n+<table class="pat-datatables table table-striped table-bordered"\n+       data-pat-datatables="<%- datatables_options %>">\n   <thead>\n     <tr class="fc-breadcrumbs-container">\n       <td class="fc-breadcrumbs" colspan="<%- activeColumns.length + 3 %>">\ndiff --git a/mockup/patterns/structure/templates/tablerow.xml b/mockup/patterns/structure/templates/tablerow.xml\nindex cffb48d5..0eba85e9 100644\n--- a/mockup/patterns/structure/templates/tablerow.xml\n+++ b/mockup/patterns/structure/templates/tablerow.xml\n@@ -1,4 +1,4 @@\n-<td class="selection"><input type="checkbox" <% if(selected){ %> checked="checked" <% } %>/></td>\n+<td class="selection" data-order="<%- attributes[\'_sort\'] %>"><input type="checkbox" <% if(selected){ %> checked="checked" <% } %>/></td>\n \n <td class="title">\n   <div class="pull-left">\n@@ -34,7 +34,7 @@\n \n <% _.each(activeColumns, function(column) { %>\n   <% if(column !== \'Description\' && _.has(availableColumns, column)) { %>\n-    <td class="<%- column %>"><%- attributes[column] %></td>\n+    <td class="<%- column %>" data-order="<%- attributes[column] %>"><%- attributes[column] %></td>\n   <% } %>\n <% }); %>\n \ndiff --git a/mockup/patterns/thememapper/pattern.thememapper.less b/mockup/patterns/thememapper/pattern.thememapper.less\nindex 4c58cce6..7666065a 100644\n--- a/mockup/patterns/thememapper/pattern.thememapper.less\n+++ b/mockup/patterns/thememapper/pattern.thememapper.less\n@@ -1,6 +1,6 @@\n @import "@{mockuplessPath}/ui.less";\n /* just be lazy here and include all of bootstrap... */\n-@import "@{mockup-patterns-filemanager}";\n+@import "@{mockupPath}/filemanager/pattern.filemanager.less";\n \n body.plone-toolbar-left-default {\n \tpadding-left: 0px;\ndiff --git a/mockup/tests/pattern-structure-test.js b/mockup/tests/pattern-structure-test.js\nindex 50e9ca0a..6e1a3753 100644\n--- a/mockup/tests/pattern-structure-test.js\n+++ b/mockup/tests/pattern-structure-test.js\n@@ -973,7 +973,7 @@ define([\n     it(\'initialize\', function() {\n       registry.scan(this.$el);\n       // moveUrl provided, can get to this via order-support.\n-      expect(this.$el.find(\'.order-support > table\').size()).to.equal(1);\n+      expect(this.$el.find(\'table\').size()).to.equal(1);\n     });\n \n     it(\'select item populates selection well\', function() {\ndiff --git a/package.json b/package.json\nindex f25a8173..53b1ef6a 100644\n--- a/package.json\n+++ b/package.json\n@@ -4,7 +4,7 @@\n   "description": "A collection of client side patterns for faster and easier web development",\n   "homepage": "http://plone.github.io/mockup",\n   "devDependencies": {\n-    "bower": "~1.7.9",\n+    "bower": "1.8.4",\n     "chai": "^3.5.0",\n     "coveralls": "~2.11.9",\n     "extend": "~3.0.0",\n'

