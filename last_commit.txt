Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2019-04-16T14:00:13+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.dexterity/commit/4af8ce1e174540cc62f3d012f3c5f6d54a13d6a7

speed up traversal by marking main_template a browser-view

Files changed:
M plone/app/dexterity/browser/container.pt
M plone/app/dexterity/browser/folder_listing.pt
M plone/app/dexterity/browser/item.pt

b'diff --git a/plone/app/dexterity/browser/container.pt b/plone/app/dexterity/browser/container.pt\nindex 3c2b771..8e688f0 100644\n--- a/plone/app/dexterity/browser/container.pt\n+++ b/plone/app/dexterity/browser/container.pt\n@@ -3,7 +3,7 @@\n       xmlns:metal="http://xml.zope.org/namespaces/metal"\n       xmlns:i18n="http://xml.zope.org/namespaces/i18n"\n       lang="en"\n-      metal:use-macro="context/main_template/macros/master"\n+      metal:use-macro="context/@@main_template/macros/master"\n       i18n:domain="plone">\n <body>\n \ndiff --git a/plone/app/dexterity/browser/folder_listing.pt b/plone/app/dexterity/browser/folder_listing.pt\nindex d177d3a..b3f48f1 100644\n--- a/plone/app/dexterity/browser/folder_listing.pt\n+++ b/plone/app/dexterity/browser/folder_listing.pt\n@@ -3,7 +3,7 @@\n     xmlns:metal="http://xml.zope.org/namespaces/metal"\n     xmlns:i18n="http://xml.zope.org/namespaces/i18n"\n     lang="en"\n-    metal:use-macro="context/main_template/macros/master"\n+    metal:use-macro="context/@@main_template/macros/master"\n     i18n:domain="plone">\n <body>\n \ndiff --git a/plone/app/dexterity/browser/item.pt b/plone/app/dexterity/browser/item.pt\nindex e67271f..66f3f6f 100644\n--- a/plone/app/dexterity/browser/item.pt\n+++ b/plone/app/dexterity/browser/item.pt\n@@ -3,7 +3,7 @@\n       xmlns:metal="http://xml.zope.org/namespaces/metal"\n       xmlns:i18n="http://xml.zope.org/namespaces/i18n"\n       lang="en"\n-      metal:use-macro="context/main_template/macros/master"\n+      metal:use-macro="context/@@main_template/macros/master"\n       i18n:domain="plone">\n <body>\n \n'

Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2019-04-16T14:03:01+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.dexterity/commit/a7af526b952cfab44dfe2dea39eb9423e340853d

add changenote

Files changed:
A news/289.bugfix

b'diff --git a/news/289.bugfix b/news/289.bugfix\nnew file mode 100644\nindex 0000000..ec7a942\n--- /dev/null\n+++ b/news/289.bugfix\n@@ -0,0 +1,2 @@\n+Speed up traversal by marking main_template as a browser-view.\n+[pbauer]\n\\ No newline at end of file\n'

Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2019-04-16T15:41:39+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.dexterity/commit/e30ffc3b2c4de6cac10f6e8f58f37d162bf0c314

Merge pull request #289 from plone/speedup_template_traversal

speed up traversal by marking main_template as a browser-view

Files changed:
A news/289.bugfix
M plone/app/dexterity/browser/container.pt
M plone/app/dexterity/browser/folder_listing.pt
M plone/app/dexterity/browser/item.pt

b'diff --git a/news/289.bugfix b/news/289.bugfix\nnew file mode 100644\nindex 0000000..ec7a942\n--- /dev/null\n+++ b/news/289.bugfix\n@@ -0,0 +1,2 @@\n+Speed up traversal by marking main_template as a browser-view.\n+[pbauer]\n\\ No newline at end of file\ndiff --git a/plone/app/dexterity/browser/container.pt b/plone/app/dexterity/browser/container.pt\nindex 3c2b771..8e688f0 100644\n--- a/plone/app/dexterity/browser/container.pt\n+++ b/plone/app/dexterity/browser/container.pt\n@@ -3,7 +3,7 @@\n       xmlns:metal="http://xml.zope.org/namespaces/metal"\n       xmlns:i18n="http://xml.zope.org/namespaces/i18n"\n       lang="en"\n-      metal:use-macro="context/main_template/macros/master"\n+      metal:use-macro="context/@@main_template/macros/master"\n       i18n:domain="plone">\n <body>\n \ndiff --git a/plone/app/dexterity/browser/folder_listing.pt b/plone/app/dexterity/browser/folder_listing.pt\nindex d177d3a..b3f48f1 100644\n--- a/plone/app/dexterity/browser/folder_listing.pt\n+++ b/plone/app/dexterity/browser/folder_listing.pt\n@@ -3,7 +3,7 @@\n     xmlns:metal="http://xml.zope.org/namespaces/metal"\n     xmlns:i18n="http://xml.zope.org/namespaces/i18n"\n     lang="en"\n-    metal:use-macro="context/main_template/macros/master"\n+    metal:use-macro="context/@@main_template/macros/master"\n     i18n:domain="plone">\n <body>\n \ndiff --git a/plone/app/dexterity/browser/item.pt b/plone/app/dexterity/browser/item.pt\nindex e67271f..66f3f6f 100644\n--- a/plone/app/dexterity/browser/item.pt\n+++ b/plone/app/dexterity/browser/item.pt\n@@ -3,7 +3,7 @@\n       xmlns:metal="http://xml.zope.org/namespaces/metal"\n       xmlns:i18n="http://xml.zope.org/namespaces/i18n"\n       lang="en"\n-      metal:use-macro="context/main_template/macros/master"\n+      metal:use-macro="context/@@main_template/macros/master"\n       i18n:domain="plone">\n <body>\n \n'

