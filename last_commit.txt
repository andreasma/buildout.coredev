Repository: plone.app.registry


Branch: refs/heads/master
Date: 2019-03-26T14:32:45+01:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.registry/commit/c194342d71d51f097633b207e132e158fd288308

Py3: Show record value in controlpanel

Files changed:
A news/36.bugifx
M plone/app/registry/browser/templates/records.pt

b'diff --git a/news/36.bugifx b/news/36.bugifx\nnew file mode 100644\nindex 0000000..1be5530\n--- /dev/null\n+++ b/news/36.bugifx\n@@ -0,0 +1,2 @@\n+broken value in records table in Python 3\n+[petschki]\ndiff --git a/plone/app/registry/browser/templates/records.pt b/plone/app/registry/browser/templates/records.pt\nindex 0008417..5dbb2d3 100644\n--- a/plone/app/registry/browser/templates/records.pt\n+++ b/plone/app/registry/browser/templates/records.pt\n@@ -98,7 +98,7 @@\n                           <td tal:content="structure field/description" data-label="Description" />\n                           <td tal:content="field/__class__/__name__" data-label="Type" />\n                           <td data-label="Value">\n-                            <span tal:content="python: unicode(record.value)"\n+                            <span tal:content="record/value|nothing"\n                                   tal:on-error="string:?"\n                                   class="value"/>\n                             <tal:non-iface tal:condition="not: record/interfaceName|nothing">\n'

Repository: plone.app.registry


Branch: refs/heads/master
Date: 2019-03-26T18:06:49+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.registry/commit/94d70e30a43ecb4027ec678fbb602e53e04501ed

Merge pull request #37 from plone/issue_36

Py3: Show record value in controlpanel

Files changed:
A news/36.bugifx
M plone/app/registry/browser/templates/records.pt

b'diff --git a/news/36.bugifx b/news/36.bugifx\nnew file mode 100644\nindex 0000000..1be5530\n--- /dev/null\n+++ b/news/36.bugifx\n@@ -0,0 +1,2 @@\n+broken value in records table in Python 3\n+[petschki]\ndiff --git a/plone/app/registry/browser/templates/records.pt b/plone/app/registry/browser/templates/records.pt\nindex 0008417..5dbb2d3 100644\n--- a/plone/app/registry/browser/templates/records.pt\n+++ b/plone/app/registry/browser/templates/records.pt\n@@ -98,7 +98,7 @@\n                           <td tal:content="structure field/description" data-label="Description" />\n                           <td tal:content="field/__class__/__name__" data-label="Type" />\n                           <td data-label="Value">\n-                            <span tal:content="python: unicode(record.value)"\n+                            <span tal:content="record/value|nothing"\n                                   tal:on-error="string:?"\n                                   class="value"/>\n                             <tal:non-iface tal:condition="not: record/interfaceName|nothing">\n'

