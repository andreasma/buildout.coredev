Repository: plone.app.iterate


Branch: refs/heads/master
Date: 2019-06-20T22:47:52+02:00
Author: Mikel Larreategi (erral) <mlarreategi@codesyntax.com>
Commit: https://github.com/plone/plone.app.iterate/commit/84f01e401700e790a00d4e076a75225393f31bc9

add missing i18n:translate calls

Files changed:
A news/73.bugfix
M plone/app/iterate/browser/diff.pt

b'diff --git a/news/73.bugfix b/news/73.bugfix\nnew file mode 100644\nindex 0000000..2abbfa0\n--- /dev/null\n+++ b/news/73.bugfix\n@@ -0,0 +1,2 @@\n+Add missing i18n:translate calls \n+[erral]\ndiff --git a/plone/app/iterate/browser/diff.pt b/plone/app/iterate/browser/diff.pt\nindex b81e5be..4e56911 100644\n--- a/plone/app/iterate/browser/diff.pt\n+++ b/plone/app/iterate/browser/diff.pt\n@@ -20,13 +20,13 @@\n        tal:define="diffs view/diffs;\n                    diff_url string:${context/absolute_url}/@@iterate_diff">\n \n-    <h1 class="documentFirstHeading">\n+    <h1 class="documentFirstHeading" i18n:translate="">\n         Changes to\n-        <span tal:replace="context/title_or_id" />\n+        <span tal:replace="context/title_or_id" i18n:name="title"/>\n     </h1>\n \n     <div id="content-core">\n-        <em tal:condition="diffs/same">\n+        <em tal:condition="diffs/same" i18n:translate="">\n             No significant changes found.\n         </em>\n \n@@ -50,7 +50,7 @@\n                 <tal:html condition="inline">\n                     <br />\n                     <a href="#"\n-                       tal:attributes="href string:${diff_url}?no_inline:int=1">Show code differences</a>\n+                       tal:attributes="href string:${diff_url}?no_inline:int=1" i18n:translate="">Show code differences</a>\n                     <br />\n                     <br />\n                     <div class="inline-diff"\n@@ -60,29 +60,29 @@\n                     <br />\n                     <tal:visual-only tal:condition="exists:d/inline_diff">\n                         <a href="#"\n-                           tal:attributes="href string:${diff_url}">Show visual differences</a>\n+                           tal:attributes="href string:${diff_url}" i18n:translate="">Show visual differences</a>\n                         <br />\n                     </tal:visual-only>\n                     <a href="#"\n-                       tal:attributes="href string:${diff_url}?no_inline:int=1&amp;show_unified:int=1">Unified diff format</a>\n+                       tal:attributes="href string:${diff_url}?no_inline:int=1&amp;show_unified:int=1" i18n:translate="">Unified diff format</a>\n                     <pre tal:content="structure d/html_diff">[html diff]</pre>\n                 </tal:html>\n                 <tal:unified condition="python:unified and not html">\n                     <br />\n                     <a href="#"\n                         tal:condition="exists:d/inline_diff"\n-                        tal:attributes="href string:${diff_url}">Show visual differences</a>\n+                        tal:attributes="href string:${diff_url}" i18n:translate="">Show visual differences</a>\n                     <br />\n                     <a href="#"\n                        tal:condition="exists:d/html_diff"\n-                       tal:attributes="href string:${diff_url}?no_inline:int=1">Show side by side</a>\n+                       tal:attributes="href string:${diff_url}?no_inline:int=1" i18n:translate="">Show side by side</a>\n                     <pre tal:content="d/unified_diff">[unified diff]</pre>\n                 </tal:unified>\n                 <tal:ndiff condition="python:ndiff and not (unified or html)">\n                     <pre tal:content="d/ndiff">[ndiff]</pre>\n                 </tal:ndiff>\n                 <tal:nodiff condition="python:not (unified or html or ndiff)">\n-                    <span class="diff_chg">Field Changed</span>\n+                    <span class="diff_chg" i18n:translate="">Field Changed</span>\n                     <br /><br />\n                 </tal:nodiff>\n               </div>\n@@ -90,7 +90,7 @@\n         </div>\n \n         <tal:block tal:condition="diffs/recursive">\n-        <h2>Changed files</h2>\n+        <h2 i18n:translate="">Changed files</h2>\n         <i tal:condition="not:diffs/getSubDiffs">None</i>\n         <ul tal:condition="diffs/getSubDiffs">\n             <li tal:repeat="cs diffs/getSubDiffs">\n@@ -100,14 +100,14 @@\n            </li>\n         </ul>\n \n-        <h2>Removed files</h2>\n-        <em tal:condition="not:diffs/getRemovedItems">None</em>\n+        <h2 i18n:translate="">Removed files</h2>\n+        <em tal:condition="not:diffs/getRemovedItems" i18n:translate="">None</em>\n         <ul tal:condition="diffs/getRemovedItems">\n         <li tal:repeat="id diffs/getRemovedItems" tal:content="id">[filename]</li>\n         </ul>\n \n-        <h2>Added files</h2>\n-        <em tal:condition="not:diffs/getAddedItems">None</em>\n+        <h2 i18n:translate="">Added files</h2>\n+        <em tal:condition="not:diffs/getAddedItems" i18n:translate="">None</em>\n         <ul tal:condition="diffs/getAddedItems">\n         <li tal:repeat="id diffs/getAddedItems"><a tal:content="id" tal:attributes="href id">[filename]</a></li>\n         </ul>\n'

Repository: plone.app.iterate


Branch: refs/heads/master
Date: 2019-06-22T09:29:50+02:00
Author: Mikel Larreategi (erral) <mlarreategi@codesyntax.com>
Commit: https://github.com/plone/plone.app.iterate/commit/5f50131187856a8822911b9fe3194ddab838b7b6

Merge pull request #74 from plone/erral-add-missing-i18n-translate

add missing i18n:translate calls to diff.pt

Files changed:
A news/73.bugfix
M plone/app/iterate/browser/diff.pt

b'diff --git a/news/73.bugfix b/news/73.bugfix\nnew file mode 100644\nindex 0000000..2abbfa0\n--- /dev/null\n+++ b/news/73.bugfix\n@@ -0,0 +1,2 @@\n+Add missing i18n:translate calls \n+[erral]\ndiff --git a/plone/app/iterate/browser/diff.pt b/plone/app/iterate/browser/diff.pt\nindex b81e5be..4e56911 100644\n--- a/plone/app/iterate/browser/diff.pt\n+++ b/plone/app/iterate/browser/diff.pt\n@@ -20,13 +20,13 @@\n        tal:define="diffs view/diffs;\n                    diff_url string:${context/absolute_url}/@@iterate_diff">\n \n-    <h1 class="documentFirstHeading">\n+    <h1 class="documentFirstHeading" i18n:translate="">\n         Changes to\n-        <span tal:replace="context/title_or_id" />\n+        <span tal:replace="context/title_or_id" i18n:name="title"/>\n     </h1>\n \n     <div id="content-core">\n-        <em tal:condition="diffs/same">\n+        <em tal:condition="diffs/same" i18n:translate="">\n             No significant changes found.\n         </em>\n \n@@ -50,7 +50,7 @@\n                 <tal:html condition="inline">\n                     <br />\n                     <a href="#"\n-                       tal:attributes="href string:${diff_url}?no_inline:int=1">Show code differences</a>\n+                       tal:attributes="href string:${diff_url}?no_inline:int=1" i18n:translate="">Show code differences</a>\n                     <br />\n                     <br />\n                     <div class="inline-diff"\n@@ -60,29 +60,29 @@\n                     <br />\n                     <tal:visual-only tal:condition="exists:d/inline_diff">\n                         <a href="#"\n-                           tal:attributes="href string:${diff_url}">Show visual differences</a>\n+                           tal:attributes="href string:${diff_url}" i18n:translate="">Show visual differences</a>\n                         <br />\n                     </tal:visual-only>\n                     <a href="#"\n-                       tal:attributes="href string:${diff_url}?no_inline:int=1&amp;show_unified:int=1">Unified diff format</a>\n+                       tal:attributes="href string:${diff_url}?no_inline:int=1&amp;show_unified:int=1" i18n:translate="">Unified diff format</a>\n                     <pre tal:content="structure d/html_diff">[html diff]</pre>\n                 </tal:html>\n                 <tal:unified condition="python:unified and not html">\n                     <br />\n                     <a href="#"\n                         tal:condition="exists:d/inline_diff"\n-                        tal:attributes="href string:${diff_url}">Show visual differences</a>\n+                        tal:attributes="href string:${diff_url}" i18n:translate="">Show visual differences</a>\n                     <br />\n                     <a href="#"\n                        tal:condition="exists:d/html_diff"\n-                       tal:attributes="href string:${diff_url}?no_inline:int=1">Show side by side</a>\n+                       tal:attributes="href string:${diff_url}?no_inline:int=1" i18n:translate="">Show side by side</a>\n                     <pre tal:content="d/unified_diff">[unified diff]</pre>\n                 </tal:unified>\n                 <tal:ndiff condition="python:ndiff and not (unified or html)">\n                     <pre tal:content="d/ndiff">[ndiff]</pre>\n                 </tal:ndiff>\n                 <tal:nodiff condition="python:not (unified or html or ndiff)">\n-                    <span class="diff_chg">Field Changed</span>\n+                    <span class="diff_chg" i18n:translate="">Field Changed</span>\n                     <br /><br />\n                 </tal:nodiff>\n               </div>\n@@ -90,7 +90,7 @@\n         </div>\n \n         <tal:block tal:condition="diffs/recursive">\n-        <h2>Changed files</h2>\n+        <h2 i18n:translate="">Changed files</h2>\n         <i tal:condition="not:diffs/getSubDiffs">None</i>\n         <ul tal:condition="diffs/getSubDiffs">\n             <li tal:repeat="cs diffs/getSubDiffs">\n@@ -100,14 +100,14 @@\n            </li>\n         </ul>\n \n-        <h2>Removed files</h2>\n-        <em tal:condition="not:diffs/getRemovedItems">None</em>\n+        <h2 i18n:translate="">Removed files</h2>\n+        <em tal:condition="not:diffs/getRemovedItems" i18n:translate="">None</em>\n         <ul tal:condition="diffs/getRemovedItems">\n         <li tal:repeat="id diffs/getRemovedItems" tal:content="id">[filename]</li>\n         </ul>\n \n-        <h2>Added files</h2>\n-        <em tal:condition="not:diffs/getAddedItems">None</em>\n+        <h2 i18n:translate="">Added files</h2>\n+        <em tal:condition="not:diffs/getAddedItems" i18n:translate="">None</em>\n         <ul tal:condition="diffs/getAddedItems">\n         <li tal:repeat="id diffs/getAddedItems"><a tal:content="id" tal:attributes="href id">[filename]</a></li>\n         </ul>\n'

