Repository: plone.app.content


Branch: refs/heads/master
Date: 2019-10-30T14:25:37+01:00
Author: Matteo Parrucci (parruc) <parruc@gmail.com>
Commit: https://github.com/plone/plone.app.content/commit/0ff28f9316f7e7fa5a331a3e133760d4fe90b2dc

refs #187 fix in translations order for plonejsi18n

Files changed:
A news/187.bugfix
M plone/app/content/browser/i18n.py

b'diff --git a/news/187.bugfix b/news/187.bugfix\nnew file mode 100644\nindex 0000000..058f6c8\n--- /dev/null\n+++ b/news/187.bugfix\n@@ -0,0 +1 @@\n+Reversed the order of the translations list in plonejsi18n so custom ones come before defaults one\ndiff --git a/plone/app/content/browser/i18n.py b/plone/app/content/browser/i18n.py\nindex c2c5394..69c3710 100644\n--- a/plone/app/content/browser/i18n.py\n+++ b/plone/app/content/browser/i18n.py\n@@ -24,7 +24,7 @@ def _gettext_catalog(self, domain, language):\n             else:\n                 language = baselanguage\n         _catalog = {}\n-        for mo_path in td._catalogs[language]:\n+        for mo_path in reversed(td._catalogs[language]):\n             catalog = td._data[mo_path]._catalog\n             if catalog is None:\n                 td._data[mo_path].reload()\n'

Repository: plone.app.content


Branch: refs/heads/master
Date: 2019-11-01T14:12:56+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.content/commit/a275a5ba97e6fe811f34b16bd305b6124c3d5172

Merge pull request #188 from parruc/master

refs #187 fix in translations order for plonejsi18n

Files changed:
A news/187.bugfix
M plone/app/content/browser/i18n.py

b'diff --git a/news/187.bugfix b/news/187.bugfix\nnew file mode 100644\nindex 0000000..058f6c8\n--- /dev/null\n+++ b/news/187.bugfix\n@@ -0,0 +1 @@\n+Reversed the order of the translations list in plonejsi18n so custom ones come before defaults one\ndiff --git a/plone/app/content/browser/i18n.py b/plone/app/content/browser/i18n.py\nindex c2c5394..69c3710 100644\n--- a/plone/app/content/browser/i18n.py\n+++ b/plone/app/content/browser/i18n.py\n@@ -24,7 +24,7 @@ def _gettext_catalog(self, domain, language):\n             else:\n                 language = baselanguage\n         _catalog = {}\n-        for mo_path in td._catalogs[language]:\n+        for mo_path in reversed(td._catalogs[language]):\n             catalog = td._data[mo_path]._catalog\n             if catalog is None:\n                 td._data[mo_path].reload()\n'

