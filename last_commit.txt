Repository: mockup


Branch: refs/heads/master
Date: 2018-05-25T12:39:41-03:00
Author: Alexandre Marinho (lyralemos) <alexandre.marinho@nti.ufal.br>
Commit: https://github.com/plone/mockup/commit/bf6ffac23288986b10dcf1b1952f427c2253eb81

Fix for loading the correct language for country specific codes.

Files changed:
M mockup/js/i18n.js

diff --git a/mockup/js/i18n.js b/mockup/js/i18n.js
index 0f60d351..99256575 100644
--- a/mockup/js/i18n.js
+++ b/mockup/js/i18n.js
@@ -19,6 +19,12 @@ define([
       self.baseUrl = '/plonejsi18n';
     }
     self.currentLanguage = $('html').attr('lang') || 'en-us';
+
+    //Fix for country specific languages
+    if (self.currentLanguage.split('-').length > 1) {
+      self.currentLanguage = self.currentLanguage.split('-')[0] + '_' + self.currentLanguage.split('-')[1].toUpperCase();
+    }
+
     self.storage = null;
     self.catalogs = {};
     self.ttl = 24 * 3600 * 1000;


Repository: mockup


Branch: refs/heads/master
Date: 2018-05-25T12:41:47-03:00
Author: Alexandre Marinho (lyralemos) <alexandre.marinho@nti.ufal.br>
Commit: https://github.com/plone/mockup/commit/510de969318168997ad161e1f96499940e76e219

Changes updated.

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index 1f042a11..40463493 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -36,6 +36,8 @@ Bug fixes:
   make sure that 'Original' is prefilled in the scale drop down
   [frapell]
 
+- Fix for loading country specific language codes [lyralemos]
+
 
 2.7.2 (2018-04-08)
 ------------------


Repository: mockup


Branch: refs/heads/master
Date: 2018-05-25T13:08:24-03:00
Author: Alexandre Marinho (lyralemos) <alexandre.marinho@nti.ufal.br>
Commit: https://github.com/plone/mockup/commit/ba201eaaff05a44eb7590b34be3f0f59930e8e24

PEP8 adjustments.

Files changed:
M CHANGES.rst
M mockup/js/i18n.js

diff --git a/CHANGES.rst b/CHANGES.rst
index 40463493..a482bfeb 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -36,7 +36,8 @@ Bug fixes:
   make sure that 'Original' is prefilled in the scale drop down
   [frapell]
 
-- Fix for loading country specific language codes [lyralemos]
+- Fix for loading country specific language codes
+  [lyralemos]
 
 
 2.7.2 (2018-04-08)
diff --git a/mockup/js/i18n.js b/mockup/js/i18n.js
index 99256575..bb2d338f 100644
--- a/mockup/js/i18n.js
+++ b/mockup/js/i18n.js
@@ -20,7 +20,7 @@ define([
     }
     self.currentLanguage = $('html').attr('lang') || 'en-us';
 
-    //Fix for country specific languages
+    // Fix for country specific languages
     if (self.currentLanguage.split('-').length > 1) {
       self.currentLanguage = self.currentLanguage.split('-')[0] + '_' + self.currentLanguage.split('-')[1].toUpperCase();
     }


Repository: mockup


Branch: refs/heads/master
Date: 2018-06-01T14:16:43+02:00
Author: agitator (agitator) <agitator@users.noreply.github.com>
Commit: https://github.com/plone/mockup/commit/5bca30930e2fc381d3b1de09b5709665ea9d7e7a

Merge branch 'master' into master

Files changed:
M CHANGES.rst
M mockup/patterns/filemanager/js/findinfiles.js
M mockup/patterns/tinymce/less/pattern.tinymce.less

diff --git a/CHANGES.rst b/CHANGES.rst
index a482bfeb..f8d6fcfc 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -36,6 +36,9 @@ Bug fixes:
   make sure that 'Original' is prefilled in the scale drop down
   [frapell]
 
+- Tinymce: Fix issue where Webpack less-loader was unable to load TinyMCE bundle styles
+  [datakurre]
+
 - Fix for loading country specific language codes
   [lyralemos]
 
diff --git a/mockup/patterns/filemanager/js/findinfiles.js b/mockup/patterns/filemanager/js/findinfiles.js
index 51ea104e..c527e0e3 100644
--- a/mockup/patterns/filemanager/js/findinfiles.js
+++ b/mockup/patterns/filemanager/js/findinfiles.js
@@ -22,7 +22,7 @@ define([
       '<form>' +
         '<div class="input-group">' +
           '<input type="text" class="search form-control" ' +
-                  'id="file-search-field" placeholder="<%= _t("Find text witin theme resource in plone") %>">' +
+                  'id="file-search-field" placeholder="<%= _t("Find text within theme resource in plone") %>">' +
         '</div>' +
         '<div class="input-group">' +
           '<input type="submit" class="btn btn-primary" value="<%= _t("Search") %>"/>' +
diff --git a/mockup/patterns/tinymce/less/pattern.tinymce.less b/mockup/patterns/tinymce/less/pattern.tinymce.less
index e489678e..a692438f 100644
--- a/mockup/patterns/tinymce/less/pattern.tinymce.less
+++ b/mockup/patterns/tinymce/less/pattern.tinymce.less
@@ -1,5 +1,5 @@
-@import (inline) "@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/skin.min.css";
-@import (inline) "@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/content.min.css";
+@import (css) "@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/skin.min.css";
+@import (css) "@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/content.min.css";
 @import (inline) "@{bowerPath}tinymce-builded/js/tinymce/plugins/visualblocks/css/visualblocks.css";
 @import "@{mockupPath}/modal/pattern.modal.less";
 @import "@{mockupPath}/autotoc/pattern.autotoc.less";


Repository: mockup


Branch: refs/heads/master
Date: 2018-06-07T17:30:24+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/ff6747a90854db659ac4f419627ef0d3c879352a

Merge pull request #849 from lyralemos/master

Fix for loading country specific languages codes

Files changed:
M CHANGES.rst
M mockup/js/i18n.js

diff --git a/CHANGES.rst b/CHANGES.rst
index 83097a4f..f8d6fcfc 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -39,6 +39,10 @@ Bug fixes:
 - Tinymce: Fix issue where Webpack less-loader was unable to load TinyMCE bundle styles
   [datakurre]
 
+- Fix for loading country specific language codes
+  [lyralemos]
+
+
 2.7.2 (2018-04-08)
 ------------------
 
diff --git a/mockup/js/i18n.js b/mockup/js/i18n.js
index 0f60d351..bb2d338f 100644
--- a/mockup/js/i18n.js
+++ b/mockup/js/i18n.js
@@ -19,6 +19,12 @@ define([
       self.baseUrl = '/plonejsi18n';
     }
     self.currentLanguage = $('html').attr('lang') || 'en-us';
+
+    // Fix for country specific languages
+    if (self.currentLanguage.split('-').length > 1) {
+      self.currentLanguage = self.currentLanguage.split('-')[0] + '_' + self.currentLanguage.split('-')[1].toUpperCase();
+    }
+
     self.storage = null;
     self.catalogs = {};
     self.ttl = 24 * 3600 * 1000;


