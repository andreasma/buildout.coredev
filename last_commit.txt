Repository: plonetheme.classic


Branch: refs/heads/master
Date: 2018-07-30T21:58:38-03:00
Author: hvelarde (hvelarde) <hector.velarde@gmail.com>
Commit: https://github.com/plone/plonetheme.classic/commit/7bb6d015fb5436f3e19df288d322bb8f3435f957

Add support for X-Content-Type-Options and X-XSS-Protection security headers

Also, fix X-UA-Compatible header.

Files changed:
M CHANGES.txt
M plonetheme/classic/skins/classic_templates/main_template.pt

b'diff --git a/CHANGES.txt b/CHANGES.txt\nindex 82aa6b8..6660cbe 100644\n--- a/CHANGES.txt\n+++ b/CHANGES.txt\n@@ -10,11 +10,13 @@ Breaking changes:\n \n New features:\n \n-- *add item here*\n+- Add support for ``X-Content-Type-Options`` and ``X-XSS-Protection`` security headers.\n+  [hvelarde]\n \n Bug fixes:\n \n-- *add item here*\n+- Fix ``X-UA-Compatible`` header.\n+  [hvelarde]\n \n \n 1.4 (2017-08-15)\ndiff --git a/plonetheme/classic/skins/classic_templates/main_template.pt b/plonetheme/classic/skins/classic_templates/main_template.pt\nindex 6bd86ea..c843a49 100644\n--- a/plonetheme/classic/skins/classic_templates/main_template.pt\n+++ b/plonetheme/classic/skins/classic_templates/main_template.pt\n@@ -20,7 +20,9 @@\n                   site_properties context/portal_properties/site_properties;\n                   ajax_load request/ajax_load | nothing;\n                   ajax_include_head request/ajax_include_head | nothing;\n-                  dummy python:request.RESPONSE.setHeader(\'X-UA-Compatible\', \'IE=edge,chrome=1\');"\n+                  dummy python:request.RESPONSE.setHeader(\'X-UA-Compatible\', \'IE=edge\');\n+                  dummy python:request.RESPONSE.setHeader(\'X-Content-Type-Options\', \'nosniff\');\n+                  dummy python:request.RESPONSE.setHeader(\'X-XSS-Protection\', \'1; mode=block\');"\n       tal:attributes="lang lang;\n                       xml:lang lang">\n \n'

Repository: plonetheme.classic


Branch: refs/heads/master
Date: 2018-07-31T10:55:58-03:00
Author: hvelarde (hvelarde) <hector.velarde@gmail.com>
Commit: https://github.com/plone/plonetheme.classic/commit/e10135d9a7167583d954663d19aa7c9dc3e12386

Get rid of obsolete X-UA-Compatible header

refs. https://docs.microsoft.com/en-us/previous-versions/windows/internet-explorer/ie-developer/compatibility/cc288325(v=vs.85)

Files changed:
M CHANGES.txt
M plonetheme/classic/skins/classic_templates/main_template.pt

b'diff --git a/CHANGES.txt b/CHANGES.txt\nindex 6660cbe..060ba23 100644\n--- a/CHANGES.txt\n+++ b/CHANGES.txt\n@@ -15,7 +15,7 @@ New features:\n \n Bug fixes:\n \n-- Fix ``X-UA-Compatible`` header.\n+- Get rid of obsolete ``X-UA-Compatible`` header.\n   [hvelarde]\n \n \ndiff --git a/plonetheme/classic/skins/classic_templates/main_template.pt b/plonetheme/classic/skins/classic_templates/main_template.pt\nindex c843a49..ee8adec 100644\n--- a/plonetheme/classic/skins/classic_templates/main_template.pt\n+++ b/plonetheme/classic/skins/classic_templates/main_template.pt\n@@ -20,7 +20,6 @@\n                   site_properties context/portal_properties/site_properties;\n                   ajax_load request/ajax_load | nothing;\n                   ajax_include_head request/ajax_include_head | nothing;\n-                  dummy python:request.RESPONSE.setHeader(\'X-UA-Compatible\', \'IE=edge\');\n                   dummy python:request.RESPONSE.setHeader(\'X-Content-Type-Options\', \'nosniff\');\n                   dummy python:request.RESPONSE.setHeader(\'X-XSS-Protection\', \'1; mode=block\');"\n       tal:attributes="lang lang;\n'

Repository: plonetheme.classic


Branch: refs/heads/master
Date: 2018-07-31T11:33:23-03:00
Author: hvelarde (hvelarde) <hector.velarde@gmail.com>
Commit: https://github.com/plone/plonetheme.classic/commit/9de66697f81e456432a027f14735c21cad176661

Code review based on @mauritsvanrees comments

Files changed:
M CHANGES.txt
M plonetheme/classic/skins/classic_templates/main_template.pt

b'diff --git a/CHANGES.txt b/CHANGES.txt\nindex 060ba23..13862e4 100644\n--- a/CHANGES.txt\n+++ b/CHANGES.txt\n@@ -10,13 +10,12 @@ Breaking changes:\n \n New features:\n \n-- Add support for ``X-Content-Type-Options`` and ``X-XSS-Protection`` security headers.\n+- Add ``X-Content-Type-Options`` and ``X-XSS-Protection`` security headers.\n   [hvelarde]\n \n Bug fixes:\n \n-- Get rid of obsolete ``X-UA-Compatible`` header.\n-  [hvelarde]\n+- *add item here*\n \n \n 1.4 (2017-08-15)\ndiff --git a/plonetheme/classic/skins/classic_templates/main_template.pt b/plonetheme/classic/skins/classic_templates/main_template.pt\nindex ee8adec..4785a50 100644\n--- a/plonetheme/classic/skins/classic_templates/main_template.pt\n+++ b/plonetheme/classic/skins/classic_templates/main_template.pt\n@@ -20,6 +20,7 @@\n                   site_properties context/portal_properties/site_properties;\n                   ajax_load request/ajax_load | nothing;\n                   ajax_include_head request/ajax_include_head | nothing;\n+                  dummy python:request.RESPONSE.setHeader(\'X-UA-Compatible\', \'IE=edge,chrome=1\');\n                   dummy python:request.RESPONSE.setHeader(\'X-Content-Type-Options\', \'nosniff\');\n                   dummy python:request.RESPONSE.setHeader(\'X-XSS-Protection\', \'1; mode=block\');"\n       tal:attributes="lang lang;\n'

Repository: plonetheme.classic


Branch: refs/heads/master
Date: 2018-08-03T16:44:39+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plonetheme.classic/commit/9742a3b5a44a2a63006d79bdd127bd591e85decf

Merge pull request #7 from plone/hvelarde-security

Add X-Content-Type-Options and X-XSS-Protection security headers

Files changed:
M CHANGES.txt
M plonetheme/classic/skins/classic_templates/main_template.pt

b'diff --git a/CHANGES.txt b/CHANGES.txt\nindex 82aa6b8..13862e4 100644\n--- a/CHANGES.txt\n+++ b/CHANGES.txt\n@@ -10,7 +10,8 @@ Breaking changes:\n \n New features:\n \n-- *add item here*\n+- Add ``X-Content-Type-Options`` and ``X-XSS-Protection`` security headers.\n+  [hvelarde]\n \n Bug fixes:\n \ndiff --git a/plonetheme/classic/skins/classic_templates/main_template.pt b/plonetheme/classic/skins/classic_templates/main_template.pt\nindex 6bd86ea..4785a50 100644\n--- a/plonetheme/classic/skins/classic_templates/main_template.pt\n+++ b/plonetheme/classic/skins/classic_templates/main_template.pt\n@@ -20,7 +20,9 @@\n                   site_properties context/portal_properties/site_properties;\n                   ajax_load request/ajax_load | nothing;\n                   ajax_include_head request/ajax_include_head | nothing;\n-                  dummy python:request.RESPONSE.setHeader(\'X-UA-Compatible\', \'IE=edge,chrome=1\');"\n+                  dummy python:request.RESPONSE.setHeader(\'X-UA-Compatible\', \'IE=edge,chrome=1\');\n+                  dummy python:request.RESPONSE.setHeader(\'X-Content-Type-Options\', \'nosniff\');\n+                  dummy python:request.RESPONSE.setHeader(\'X-XSS-Protection\', \'1; mode=block\');"\n       tal:attributes="lang lang;\n                       xml:lang lang">\n \n'

