Repository: plone.app.customerize


Branch: refs/heads/master
Date: 2019-03-26T19:45:31+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.customerize/commit/652d45d87634a235f309505780c812b89bc6ac00

Fixed: doctests on Python 2 were not correctly checked.

Fixes https://github.com/plone/plone.app.customerize/issues/18

Files changed:
A news/18.bugfix
M plone/app/customerize/tests/testDocTests.py

b'diff --git a/news/18.bugfix b/news/18.bugfix\nnew file mode 100644\nindex 0000000..df128e1\n--- /dev/null\n+++ b/news/18.bugfix\n@@ -0,0 +1 @@\n+Fixed: doctests on Python 2 were not correctly checked.  [maurits]\ndiff --git a/plone/app/customerize/tests/testDocTests.py b/plone/app/customerize/tests/testDocTests.py\nindex 3e18c65..dd92675 100644\n--- a/plone/app/customerize/tests/testDocTests.py\n+++ b/plone/app/customerize/tests/testDocTests.py\n@@ -13,8 +13,8 @@\n class Py23DocChecker(doctest.OutputChecker):\n     def check_output(self, want, got, optionflags):\n         if six.PY2:\n-            got = re.sub(\'zExceptions.NotFound\', \'NotFound\', got)\n-            got = re.sub("u\'(.*?)\'", "\'\\\\1\'", want)\n+            got = re.sub(\'NotFound\', \'zExceptions.NotFound\', got)\n+            got = re.sub("u\'(.*?)\'", "\'\\\\1\'", got)\n         return doctest.OutputChecker.check_output(self, want, got, optionflags)\n \n \n'

Repository: plone.app.customerize


Branch: refs/heads/master
Date: 2019-03-27T01:02:41+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.customerize/commit/2901c83ec1e3efe298cb16eb5025618096d22895

Merge pull request #19 from plone/maurits-issue-18-py23docchecker

Fixed: doctests on Python 2 were not correctly checked.

Files changed:
A news/18.bugfix
M plone/app/customerize/tests/testDocTests.py

b'diff --git a/news/18.bugfix b/news/18.bugfix\nnew file mode 100644\nindex 0000000..df128e1\n--- /dev/null\n+++ b/news/18.bugfix\n@@ -0,0 +1 @@\n+Fixed: doctests on Python 2 were not correctly checked.  [maurits]\ndiff --git a/plone/app/customerize/tests/testDocTests.py b/plone/app/customerize/tests/testDocTests.py\nindex 3e18c65..dd92675 100644\n--- a/plone/app/customerize/tests/testDocTests.py\n+++ b/plone/app/customerize/tests/testDocTests.py\n@@ -13,8 +13,8 @@\n class Py23DocChecker(doctest.OutputChecker):\n     def check_output(self, want, got, optionflags):\n         if six.PY2:\n-            got = re.sub(\'zExceptions.NotFound\', \'NotFound\', got)\n-            got = re.sub("u\'(.*?)\'", "\'\\\\1\'", want)\n+            got = re.sub(\'NotFound\', \'zExceptions.NotFound\', got)\n+            got = re.sub("u\'(.*?)\'", "\'\\\\1\'", got)\n         return doctest.OutputChecker.check_output(self, want, got, optionflags)\n \n \n'

