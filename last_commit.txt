Repository: mockup


Branch: refs/heads/master
Date: 2018-05-15T16:06:46-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/6831a4679e0d79327dfdfa1466d3a74e0eaf7503

Tinymce: When editing an image, and it had the 'Original' scale selected, make sure that 'Original' is prefilled in the scale drop down

Files changed:
M CHANGES.rst
M mockup/patterns/tinymce/js/links.js

diff --git a/CHANGES.rst b/CHANGES.rst
index 93557909..857f41c2 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -28,6 +28,10 @@ Bug fixes:
   and folder position (getObjPositionInParent) when browsing.
   [davisagli]
 
+- Tinymce: When editing an image, and it had the 'Original' scale selected,
+  make sure that 'Original' is prefilled in the scale drop down
+  [frapell]
+
 
 2.7.2 (2018-04-08)
 ------------------
diff --git a/mockup/patterns/tinymce/js/links.js b/mockup/patterns/tinymce/js/links.js
index 6c140489..93f75592 100644
--- a/mockup/patterns/tinymce/js/links.js
+++ b/mockup/patterns/tinymce/js/links.js
@@ -743,9 +743,7 @@ define([
             self.linkType = linkType;
             self.linkTypes[self.linkType].load(self.imgElm);
             var scale = self.dom.getAttrib(self.imgElm, 'data-scale');
-            if(scale){
-              self.$scale.val(scale);
-            }
+            self.$scale.val(scale);
             $('#tinylink-' + self.linkType, self.modal.$modal).trigger('click');
           }else if (src) {
             self.guessImageLink(src);


Repository: mockup


Branch: refs/heads/master
Date: 2018-05-22T12:34:45+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/mockup/commit/c835b593793d74ecb32d0633c06639833f9dce76

Merge pull request #843 from plone/frapell-tinymce-scales

Bugfix: Prefill the scale drop down when "Original" was the used scale

Files changed:
M CHANGES.rst
M mockup/patterns/tinymce/js/links.js

diff --git a/CHANGES.rst b/CHANGES.rst
index 93557909..857f41c2 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -28,6 +28,10 @@ Bug fixes:
   and folder position (getObjPositionInParent) when browsing.
   [davisagli]
 
+- Tinymce: When editing an image, and it had the 'Original' scale selected,
+  make sure that 'Original' is prefilled in the scale drop down
+  [frapell]
+
 
 2.7.2 (2018-04-08)
 ------------------
diff --git a/mockup/patterns/tinymce/js/links.js b/mockup/patterns/tinymce/js/links.js
index 6c140489..93f75592 100644
--- a/mockup/patterns/tinymce/js/links.js
+++ b/mockup/patterns/tinymce/js/links.js
@@ -743,9 +743,7 @@ define([
             self.linkType = linkType;
             self.linkTypes[self.linkType].load(self.imgElm);
             var scale = self.dom.getAttrib(self.imgElm, 'data-scale');
-            if(scale){
-              self.$scale.val(scale);
-            }
+            self.$scale.val(scale);
             $('#tinylink-' + self.linkType, self.modal.$modal).trigger('click');
           }else if (src) {
             self.guessImageLink(src);


