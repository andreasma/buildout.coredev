Repository: plone.versioncheck


Branch: refs/heads/master
Date: 2018-08-20T15:07:18+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.versioncheck/commit/bc753e091ca1b19a90ca5570f615a230018edc93

Fixes bug in  introducued in last release.

Files changed:
M CHANGES.rst
M src/plone/versioncheck/utils.py

b"diff --git a/CHANGES.rst b/CHANGES.rst\nindex 22b63a8..9d895a1 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -4,7 +4,8 @@ Changelog\n 1.6.9 (unreleased)\n ------------------\n \n-- Nothing changed yet.\n+- Fixes bug in `find_relative` introducued in last release.\n+  [jensens]\n \n \n 1.6.8 (2018-08-14)\n@@ -15,8 +16,8 @@ Bug fixes:\n - Better handling of relative paths as entry, like ``project/foo/dev.cfg``.\n   [jensens]\n \n-- If a file does not extend any other file, \n-  the return statement was returning only one parameter, \n+- If a file does not extend any other file,\n+  the return statement was returning only one parameter,\n   while callers expected 2.\n   [gforcada]\n \n@@ -26,10 +27,10 @@ Bug fixes:\n \n Bug fixes:\n \n-- Fix: Do not trust on setuptools internals. \n+- Fix: Do not trust on setuptools internals.\n   Works now with newest setuptools.\n   [jensens]\n-  \n+\n 1.6.6 (2018-01-26)\n ------------------\n \ndiff --git a/src/plone/versioncheck/utils.py b/src/plone/versioncheck/utils.py\nindex c3492f5..925da73 100644\n--- a/src/plone/versioncheck/utils.py\n+++ b/src/plone/versioncheck/utils.py\n@@ -97,9 +97,9 @@ def find_relative(extend, relative=''):\n         parts[2] = '/'.join(path[:-1])\n         return urlunparse(parts), path[-1]\n     if '://' in relative:\n-        return '/'.join(relative.strip('/'), extend.strip('/'))\n+        return '/'.join([relative.strip('/'), extend.strip('/')])\n     if relative:\n-        extend = os.path.join(relative, extend)\n+        extend = os.path.join([relative, extend])\n     return (\n         os.path.dirname(os.path.abspath(extend)),\n         os.path.basename(extend),\n"

Repository: plone.versioncheck


Branch: refs/heads/master
Date: 2018-08-20T15:07:33+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.versioncheck/commit/7da3d271cb46c394cada2e656ea622c28c5c71e9

Fixes bug in find_relative introducued in last release.

Files changed:
M CHANGES.rst

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 9d895a1..f7dfcdf 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -4,7 +4,7 @@ Changelog\n 1.6.9 (unreleased)\n ------------------\n \n-- Fixes bug in `find_relative` introducued in last release.\n+- Fixes bug in ``find_relative`` introducued in last release.\n   [jensens]\n \n \n'

