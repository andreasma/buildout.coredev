Repository: plone.app.versioningbehavior


Branch: refs/heads/master
Date: 2018-12-03T02:16:24+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.versioningbehavior/commit/77f326f0c3c26e5c8fd61516d1e832edfab1f753

Place changeNote as last field in the form

Fixes https://github.com/plone/Products.CMFPlone/issues/2640

Files changed:
M plone/app/versioningbehavior/behaviors.py

b"diff --git a/plone/app/versioningbehavior/behaviors.py b/plone/app/versioningbehavior/behaviors.py\nindex bad3c4f..82638c1 100644\n--- a/plone/app/versioningbehavior/behaviors.py\n+++ b/plone/app/versioningbehavior/behaviors.py\n@@ -40,6 +40,7 @@ class IVersionable(model.Schema):\n         default=True,\n         required=False)\n \n+    form.order_after(changeNote='*')\n     form.omitted('changeNote')\n     form.no_omit(IEditForm, 'changeNote')\n     form.no_omit(IAddForm, 'changeNote')\n@@ -82,4 +83,4 @@ def versioning_enabled(self):\n \n     @versioning_enabled.setter\n     def versioning_enabled(self, value):\n-        setattr(self.context, 'versioning_enabled', value)\n\\ No newline at end of file\n+        setattr(self.context, 'versioning_enabled', value)\n"

Repository: plone.app.versioningbehavior


Branch: refs/heads/master
Date: 2018-12-03T02:17:51+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.versioningbehavior/commit/ea971b31e54e0de2a51e8d65430d55e12f26b98f

Update CHANGES.rst

Files changed:
M CHANGES.rst

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 1e056c6..59d7c36 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,8 +14,9 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n-\n+- Move change notes field to be the last field of the form (just above the buttons).\n+  https://github.com/plone/Products.CMFPlone/issues/2640\n+  [gforcada]\n \n 1.3.5 (2018-11-02)\n ------------------\n'

Repository: plone.app.versioningbehavior


Branch: refs/heads/master
Date: 2018-12-05T09:04:31+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.versioningbehavior/commit/d3d7eded073dd503b2b350d16d589ebdbf1643d7

Merge pull request #44 from plone/gforcada-patch-1

Place changeNote as last field in the form

Files changed:
M CHANGES.rst
M plone/app/versioningbehavior/behaviors.py

b"diff --git a/CHANGES.rst b/CHANGES.rst\nindex 1e056c6..59d7c36 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,8 +14,9 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n-\n+- Move change notes field to be the last field of the form (just above the buttons).\n+  https://github.com/plone/Products.CMFPlone/issues/2640\n+  [gforcada]\n \n 1.3.5 (2018-11-02)\n ------------------\ndiff --git a/plone/app/versioningbehavior/behaviors.py b/plone/app/versioningbehavior/behaviors.py\nindex bad3c4f..82638c1 100644\n--- a/plone/app/versioningbehavior/behaviors.py\n+++ b/plone/app/versioningbehavior/behaviors.py\n@@ -40,6 +40,7 @@ class IVersionable(model.Schema):\n         default=True,\n         required=False)\n \n+    form.order_after(changeNote='*')\n     form.omitted('changeNote')\n     form.no_omit(IEditForm, 'changeNote')\n     form.no_omit(IAddForm, 'changeNote')\n@@ -82,4 +83,4 @@ def versioning_enabled(self):\n \n     @versioning_enabled.setter\n     def versioning_enabled(self, value):\n-        setattr(self.context, 'versioning_enabled', value)\n\\ No newline at end of file\n+        setattr(self.context, 'versioning_enabled', value)\n"

