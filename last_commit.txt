Repository: plone.app.iterate


Branch: refs/heads/master
Date: 2019-09-28T11:45:14+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.iterate/commit/e58522bc261aadc449412560f59ba2312d5e8d04

Explicitly load zcml of dependencies.

See https://github.com/plone/Products.CMFPlone/issues/2952

Files changed:
A news/2952.bugfix
M plone/app/iterate/configure.zcml

b'diff --git a/news/2952.bugfix b/news/2952.bugfix\nnew file mode 100644\nindex 0000000..38aeccf\n--- /dev/null\n+++ b/news/2952.bugfix\n@@ -0,0 +1,2 @@\n+Explicitly load zcml of dependencies, instead of using ``includeDependencies``.\n+[maurits]\ndiff --git a/plone/app/iterate/configure.zcml b/plone/app/iterate/configure.zcml\nindex 39a2f62..a0c9ed9 100644\n--- a/plone/app/iterate/configure.zcml\n+++ b/plone/app/iterate/configure.zcml\n@@ -5,14 +5,26 @@\n     xmlns:zcml="http://namespaces.zope.org/zcml"\n     i18n_domain="plone">\n \n+  <include package="Products.CMFCore" file="meta.zcml"/>\n+  <include package="Products.GenericSetup" file="meta.zcml"/>\n+  <include package="zope.component" file="meta.zcml"/>\n+  <include package="zope.viewlet" file="meta.zcml"/>\n+\n+  <include package="plone.locking" />\n+  <include package="plone.memoize" />\n+  <include package="Products.CMFCore" />\n+  <include package="Products.CMFEditions" />\n+  <include package="Products.CMFPlacefulWorkflow" />\n+  <include package="Products.DCWorkflow" />\n+  <include package="Products.GenericSetup" />\n+  <include package="Products.statusmessages" />\n   <include package="zope.annotation" />\n-  <include package="Products.CMFCore" file="permissions.zcml" />\n+  <include package="zope.component" />\n+  <include package="zope.viewlet" />\n \n   <include package=".subscribers"/>\n   <include package=".browser"/>\n \n-  <includeDependencies package="." />\n-\n   <genericsetup:registerProfile\n     name="default"\n     title="Working Copy Support (Iterate)"\n'

Repository: plone.app.iterate


Branch: refs/heads/master
Date: 2019-09-29T11:55:24+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.iterate/commit/18bebc626e584295949d3a85f06aaec2e82f543e

Merge pull request #75 from plone/maurits/dependencies-issue-2952

Explicitly load zcml of dependencies.

Files changed:
A news/2952.bugfix
M plone/app/iterate/configure.zcml

b'diff --git a/news/2952.bugfix b/news/2952.bugfix\nnew file mode 100644\nindex 0000000..38aeccf\n--- /dev/null\n+++ b/news/2952.bugfix\n@@ -0,0 +1,2 @@\n+Explicitly load zcml of dependencies, instead of using ``includeDependencies``.\n+[maurits]\ndiff --git a/plone/app/iterate/configure.zcml b/plone/app/iterate/configure.zcml\nindex 39a2f62..a0c9ed9 100644\n--- a/plone/app/iterate/configure.zcml\n+++ b/plone/app/iterate/configure.zcml\n@@ -5,14 +5,26 @@\n     xmlns:zcml="http://namespaces.zope.org/zcml"\n     i18n_domain="plone">\n \n+  <include package="Products.CMFCore" file="meta.zcml"/>\n+  <include package="Products.GenericSetup" file="meta.zcml"/>\n+  <include package="zope.component" file="meta.zcml"/>\n+  <include package="zope.viewlet" file="meta.zcml"/>\n+\n+  <include package="plone.locking" />\n+  <include package="plone.memoize" />\n+  <include package="Products.CMFCore" />\n+  <include package="Products.CMFEditions" />\n+  <include package="Products.CMFPlacefulWorkflow" />\n+  <include package="Products.DCWorkflow" />\n+  <include package="Products.GenericSetup" />\n+  <include package="Products.statusmessages" />\n   <include package="zope.annotation" />\n-  <include package="Products.CMFCore" file="permissions.zcml" />\n+  <include package="zope.component" />\n+  <include package="zope.viewlet" />\n \n   <include package=".subscribers"/>\n   <include package=".browser"/>\n \n-  <includeDependencies package="." />\n-\n   <genericsetup:registerProfile\n     name="default"\n     title="Working Copy Support (Iterate)"\n'

