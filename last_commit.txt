Repository: Products.CMFDiffTool


Branch: refs/heads/master
Date: 2019-06-21T10:05:05+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/Products.CMFDiffTool/commit/0f5585a9552cc54d43c8ae6c2c25eb7937d93e5a

Add support for Python 3.8

Files changed:
M CHANGES.rst
M Products/CMFDiffTool/libs/htmldiff.py
M setup.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex a57bcde..6d22f9d 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -10,7 +10,8 @@ Breaking changes:\n \n New features:\n \n-- *add item here*\n+- Add support for Python 3.8\n+  [pbauer]\n \n Bug fixes:\n \ndiff --git a/Products/CMFDiffTool/libs/htmldiff.py b/Products/CMFDiffTool/libs/htmldiff.py\nindex 6605433..e7cbbab 100644\n--- a/Products/CMFDiffTool/libs/htmldiff.py\n+++ b/Products/CMFDiffTool/libs/htmldiff.py\n@@ -15,11 +15,15 @@\n from difflib import SequenceMatcher\n from six import StringIO\n \n-import cgi\n import re\n \n+try:\n+    from html import escape\n+except ImportError:\n+    from cgi import escape\n \n-def htmlEncode(s, esc=cgi.escape):\n+\n+def htmlEncode(s, esc=escape):\n     return esc(s, 1)\n \n \ndiff --git a/setup.py b/setup.py\nindex 42fb046..cb5f5cf 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -14,6 +14,7 @@\n         "Programming Language :: Python :: 2.7",\n         "Programming Language :: Python :: 3.6",\n         "Programming Language :: Python :: 3.7",\n+        "Programming Language :: Python :: 3.8",\n         "Framework :: Plone",\n         "Framework :: Plone :: 5.1",\n         "Framework :: Plone :: 5.2",\n'

Repository: Products.CMFDiffTool


Branch: refs/heads/master
Date: 2019-06-22T07:13:56+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/Products.CMFDiffTool/commit/cca2a624f5392c234c614f5bbb02fca811d168bd

Merge pull request #36 from plone/python38

Add support for Python 3.8

Files changed:
M CHANGES.rst
M Products/CMFDiffTool/libs/htmldiff.py
M setup.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex a57bcde..6d22f9d 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -10,7 +10,8 @@ Breaking changes:\n \n New features:\n \n-- *add item here*\n+- Add support for Python 3.8\n+  [pbauer]\n \n Bug fixes:\n \ndiff --git a/Products/CMFDiffTool/libs/htmldiff.py b/Products/CMFDiffTool/libs/htmldiff.py\nindex 6605433..e7cbbab 100644\n--- a/Products/CMFDiffTool/libs/htmldiff.py\n+++ b/Products/CMFDiffTool/libs/htmldiff.py\n@@ -15,11 +15,15 @@\n from difflib import SequenceMatcher\n from six import StringIO\n \n-import cgi\n import re\n \n+try:\n+    from html import escape\n+except ImportError:\n+    from cgi import escape\n \n-def htmlEncode(s, esc=cgi.escape):\n+\n+def htmlEncode(s, esc=escape):\n     return esc(s, 1)\n \n \ndiff --git a/setup.py b/setup.py\nindex 42fb046..cb5f5cf 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -14,6 +14,7 @@\n         "Programming Language :: Python :: 2.7",\n         "Programming Language :: Python :: 3.6",\n         "Programming Language :: Python :: 3.7",\n+        "Programming Language :: Python :: 3.8",\n         "Framework :: Plone",\n         "Framework :: Plone :: 5.1",\n         "Framework :: Plone :: 5.2",\n'

