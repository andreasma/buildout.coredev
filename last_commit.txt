Repository: Products.PortalTransforms


Branch: refs/heads/master
Date: 2019-05-14T07:18:25+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.PortalTransforms/commit/7562e75bebead1174ccc5989ddc4307e0ffa2557

Fix: 'DeprecationWarning: Flags not at the start of the expression'

Files changed:
A news/40.bugfix
M Products/PortalTransforms/transforms/html_to_text.py

b'diff --git a/Products/PortalTransforms/transforms/html_to_text.py b/Products/PortalTransforms/transforms/html_to_text.py\nindex 7893f3b..6ece3b7 100644\n--- a/Products/PortalTransforms/transforms/html_to_text.py\n+++ b/Products/PortalTransforms/transforms/html_to_text.py\n@@ -30,10 +30,10 @@ def sub_func(matchobj):\n \n     return html_to_text(\n         "html_to_text",\n-        (r\'<script [^>]>.*</script>(?im)\', \' \'),\n-        (r\'<style [^>]>.*</style>(?im)\', \' \'),\n-        (r\'<head [^>]>.*</head>(?im)\', \' \'),\n+        (r\'(?im)<script [^>]>.*</script>\', \' \'),\n+        (r\'(?im)<style [^>]>.*</style>\', \' \'),\n+        (r\'(?im)<head [^>]>.*</head>\', \' \'),\n         (r\'(?im)</?(font|em|i|strong|b)(?=\\W)[^>]*>\', \'\'),\n-        (r\'<[^>]*>(?i)(?m)\', \' \'),\n+        (r\'(?i)(?m)<[^>]*>\', \' \'),\n         (r\'&([a-zA-Z0-9#]*?);\', sub_func),\n     )\ndiff --git a/news/40.bugfix b/news/40.bugfix\nnew file mode 100644\nindex 0000000..d4c4a20\n--- /dev/null\n+++ b/news/40.bugfix\n@@ -0,0 +1,2 @@\n+Fix: \'DeprecationWarning: Flags not at the start of the expression\'\n+[jensens]\n\\ No newline at end of file\n'

Repository: Products.PortalTransforms


Branch: refs/heads/master
Date: 2019-05-21T07:27:06+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.PortalTransforms/commit/469538049c3348b9d7b450f0ff3fce4073e21869

Merge pull request #40 from plone/fix-deprecationwarning

Fix: 'DeprecationWarning: Flags not at the start of the expression'

Files changed:
A news/40.bugfix
M Products/PortalTransforms/transforms/html_to_text.py

b'diff --git a/Products/PortalTransforms/transforms/html_to_text.py b/Products/PortalTransforms/transforms/html_to_text.py\nindex 7893f3b..6ece3b7 100644\n--- a/Products/PortalTransforms/transforms/html_to_text.py\n+++ b/Products/PortalTransforms/transforms/html_to_text.py\n@@ -30,10 +30,10 @@ def sub_func(matchobj):\n \n     return html_to_text(\n         "html_to_text",\n-        (r\'<script [^>]>.*</script>(?im)\', \' \'),\n-        (r\'<style [^>]>.*</style>(?im)\', \' \'),\n-        (r\'<head [^>]>.*</head>(?im)\', \' \'),\n+        (r\'(?im)<script [^>]>.*</script>\', \' \'),\n+        (r\'(?im)<style [^>]>.*</style>\', \' \'),\n+        (r\'(?im)<head [^>]>.*</head>\', \' \'),\n         (r\'(?im)</?(font|em|i|strong|b)(?=\\W)[^>]*>\', \'\'),\n-        (r\'<[^>]*>(?i)(?m)\', \' \'),\n+        (r\'(?i)(?m)<[^>]*>\', \' \'),\n         (r\'&([a-zA-Z0-9#]*?);\', sub_func),\n     )\ndiff --git a/news/40.bugfix b/news/40.bugfix\nnew file mode 100644\nindex 0000000..d4c4a20\n--- /dev/null\n+++ b/news/40.bugfix\n@@ -0,0 +1,2 @@\n+Fix: \'DeprecationWarning: Flags not at the start of the expression\'\n+[jensens]\n\\ No newline at end of file\n'

