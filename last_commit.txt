Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2020-02-17T15:14:26+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.upgrade/commit/3e1efd1ebf384a5f375e4ec6954fabc14dc71ec4

Image caption support
Allow ``figcaption`` in rich text editor as a valid tag.
Add registry setting for plone.image_caption outputfilter transform.

Files changed:
A news/209.feature
A plone/app/upgrade/v52/profiles/to_521/registry/image_captioning.xml
A plone/app/upgrade/v52/profiles/to_521/registry/types_schema.xml
D plone/app/upgrade/v52/profiles/to_521/registry.xml

b'diff --git a/news/209.feature b/news/209.feature\nnew file mode 100644\nindex 00000000..7a68051e\n--- /dev/null\n+++ b/news/209.feature\n@@ -0,0 +1,4 @@\n+Image caption support\n+Allow ``figcaption`` in rich text editor as a valid tag.\n+Add registry setting for plone.image_caption outputfilter transform.\n+[thet]\ndiff --git a/plone/app/upgrade/v52/profiles/to_521/registry/image_captioning.xml b/plone/app/upgrade/v52/profiles/to_521/registry/image_captioning.xml\nnew file mode 100644\nindex 00000000..36fc369a\n--- /dev/null\n+++ b/plone/app/upgrade/v52/profiles/to_521/registry/image_captioning.xml\n@@ -0,0 +1,13 @@\n+<?xml version="1.0"?>\n+<registry>\n+  <record name="plone.valid_tags">\n+    <value purge="false">\n+      <element>figcaption</element>\n+    </value>\n+  </record>\n+  <record name="plone.image_captioning" interface="Products.CMFPlone.interfaces.controlpanel.IImagingSchema" field="image_captioning">\n+    <field type="plone.registry.field.Bool">\n+    </field>\n+    <value>False</value>\n+  </record>\n+</registry>\ndiff --git a/plone/app/upgrade/v52/profiles/to_521/registry.xml b/plone/app/upgrade/v52/profiles/to_521/registry/types_schema.xml\nsimilarity index 100%\nrename from plone/app/upgrade/v52/profiles/to_521/registry.xml\nrename to plone/app/upgrade/v52/profiles/to_521/registry/types_schema.xml\n'

