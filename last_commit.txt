Repository: Products.CMFPlone


Branch: refs/heads/5.1.x
Date: 2019-02-27T18:58:54+01:00
Author: Fred van Dijk (fredvd) <fredvd@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/b44058977ce75baa5c40ae2ffeb561e5b15df888

Use correct permission for mail controlpanel form

Site Administrators cannot access this control panel allthough infrastructure with a separate permission is in place.

Files changed:
M Products/CMFPlone/controlpanel/browser/configure.zcml

b'diff --git a/Products/CMFPlone/controlpanel/browser/configure.zcml b/Products/CMFPlone/controlpanel/browser/configure.zcml\nindex 5115a526a..70a98f823 100644\n--- a/Products/CMFPlone/controlpanel/browser/configure.zcml\n+++ b/Products/CMFPlone/controlpanel/browser/configure.zcml\n@@ -71,7 +71,7 @@\n       name="mail-controlpanel"\n       for="Products.CMFPlone.interfaces.IPloneSiteRoot"\n       class=".mail.MailControlPanel"\n-      permission="cmf.ManagePortal"\n+      permission="plone.app.controlpanel.Mail"\n       />\n \n   <!-- Navigation Control Panel -->\n'

Repository: Products.CMFPlone


Branch: refs/heads/5.1.x
Date: 2019-02-27T18:59:49+01:00
Author: Fred van Dijk (fredvd) <fredvd@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/1abddcc01ac99a02f4e42542918c629988c34779

Add changelog

Files changed:
A news/2688.bugfix

b'diff --git a/news/2688.bugfix b/news/2688.bugfix\nnew file mode 100644\nindex 000000000..c5f22d7d4\n--- /dev/null\n+++ b/news/2688.bugfix\n@@ -0,0 +1 @@\n+Use correct permission for mail controlpanel form so that Site Administrators can also edit. [fredvd]\n'

Repository: Products.CMFPlone


Branch: refs/heads/5.1.x
Date: 2019-03-01T01:15:30+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/2195c4a43ba100fb2b7973dccb4299dad2de42fe

Merge pull request #2778 from plone/mail_controlpanel_permission

Mail controlpanel permission

Files changed:
A news/2688.bugfix
M Products/CMFPlone/controlpanel/browser/configure.zcml

b'diff --git a/Products/CMFPlone/controlpanel/browser/configure.zcml b/Products/CMFPlone/controlpanel/browser/configure.zcml\nindex 5115a526a..70a98f823 100644\n--- a/Products/CMFPlone/controlpanel/browser/configure.zcml\n+++ b/Products/CMFPlone/controlpanel/browser/configure.zcml\n@@ -71,7 +71,7 @@\n       name="mail-controlpanel"\n       for="Products.CMFPlone.interfaces.IPloneSiteRoot"\n       class=".mail.MailControlPanel"\n-      permission="cmf.ManagePortal"\n+      permission="plone.app.controlpanel.Mail"\n       />\n \n   <!-- Navigation Control Panel -->\ndiff --git a/news/2688.bugfix b/news/2688.bugfix\nnew file mode 100644\nindex 000000000..c5f22d7d4\n--- /dev/null\n+++ b/news/2688.bugfix\n@@ -0,0 +1 @@\n+Use correct permission for mail controlpanel form so that Site Administrators can also edit. [fredvd]\n'

